webpackJsonp([0],[function(t,e,n){var i=n(2),r=n(21),o=n(12),a=n(13),s=n(22),l=function(t,e,n){var A,c,u,T,C=t&l.F,h=t&l.G,G=t&l.S,f=t&l.P,d=t&l.B,p=h?i:G?i[e]||(i[e]={}):(i[e]||{}).prototype,m=h?r:r[e]||(r[e]={}),g=m.prototype||(m.prototype={});h&&(n=e);for(A in n)c=!C&&p&&void 0!==p[A],u=(c?p:n)[A],T=d&&c?s(u,i):f&&"function"==typeof u?s(Function.call,u):u,p&&a(p,A,u,t&l.U),m[A]!=u&&o(m,A,T),f&&g[A]!=u&&(g[A]=u)};i.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,n){var i=n(4);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},,function(t,e,n){var i=n(68)("wks"),r=n(46),o=n(2).Symbol,a="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:r)("Symbol."+t))}).store=i},function(t,e,n){t.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(1),r=n(129),o=n(28),a=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(27),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){var i=n(25);t.exports=function(t){return Object(i(t))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(8),r=n(42);t.exports=n(7)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(2),r=n(12),o=n(15),a=n(46)("src"),s=Function.toString,l=(""+s).split("toString");n(21).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var A="function"==typeof n;A&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(A&&(o(n,a)||r(n,a,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){var i=n(0),r=n(3),o=n(25),a=/"/g,s=function(t,e,n,i){var r=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(i).replace(a,"&quot;")+'"'),s+">"+r+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),i(i.P+i.F*r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(55),r=n(42),o=n(18),a=n(28),s=n(15),l=n(129),A=Object.getOwnPropertyDescriptor;e.f=n(7)?A:function(t,e){if(t=o(t),e=a(e,!0),l)try{return A(t,e)}catch(t){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){var i=n(15),r=n(10),o=n(92)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var i=n(54),r=n(25);t.exports=function(t){return i(r(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={SAFE_ZONE_WIDTH:1600,SAFE_ZONE_HEIGHT:900,localStorageName:"phaseres6webpack"}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(11);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";var i=n(3);t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var i=n(22),r=n(54),o=n(10),a=n(9),s=n(77);t.exports=function(t,e){var n=1==t,l=2==t,A=3==t,c=4==t,u=6==t,T=5==t||u,C=e||s;return function(e,s,h){for(var G,f,d=o(e),p=r(d),m=i(s,h,3),g=a(p.length),v=0,y=n?C(e,g):l?C(e,0):void 0;g>v;v++)if((T||v in p)&&(G=p[v],f=m(G,v,d),t))if(n)y[v]=f;else if(f)switch(t){case 3:return!0;case 5:return G;case 6:return v;case 2:y.push(G)}else if(c)return!1;return u?-1:A||c?c:y}}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(0),r=n(21),o=n(3);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],a={};a[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",a)}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(4);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.centerGameObjects=function(t){t.forEach(function(t){t.anchor.setTo(.5)})},e.clamp=function(t,e,n){return Math.max(e,Math.min(t,n))},e.datalog=function(t,e){var n=new Date;console.log("Log: ",n,t,e)},e.sqrMagnitude=function(t){return t.x*t.x+t.y*t.y},e.getParameterByName=function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),i=n.exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},e.tweenTint=function(t,e,n,i){var r={step:0},o=game.add.tween(r).to({step:100},i);return o.onUpdateCallback(function(){t.tint=Phaser.Color.interpolateColor(e,n,100,r.step)}),t.tint=e,o.start()},e.fibonacci=function(t){for(var e,n=1,i=0;t>=0;)e=n,n+=i,i=e,t--;return i},e.stopTweensFor=function(t,e){var n,i,r,o;if(Array.isArray(t))for(n=0,o=t.length;n<o;n++)(void 0).removeFrom(t[n]);else if(t.type===Phaser.GROUP&&e)for(i=0,o=t.children.length;i<o;i++)(void 0).removeFrom(t.children[i]);else{for(r=0,o=(void 0)._tweens.length;r<o;r++)t===(void 0)._tweens[r]._object&&(void 0).remove((void 0)._tweens[r]);for(r=0,o=(void 0)._add.length;r<o;r++)t===(void 0)._add[r]._object&&(void 0).remove((void 0)._add[r])}};Phaser.TweenManager.prototype.removeFrom=function(t,e){var n,i,r,o;if(Array.isArray(t))for(n=0,o=t.length;n<o;n++)this.removeFrom(t[n]);else if(t.type===Phaser.GROUP&&e)for(i=0,o=t.children.length;i<o;i++)this.removeFrom(t.children[i]);else{for(r=0,o=this._tweens.length;r<o;r++)t===this._tweens[r].target&&this.remove(this._tweens[r]);for(r=0,o=this._add.length;r<o;r++)t===this._add[r].target&&this.remove(this._add[r])}};var i=e.componentToHex=function(t){var e=t.toString(16);return 1==e.length?"0"+e:e};e.rgbToHex=function(t,e,n){return"#"+i(t)+i(e)+i(n)}},function(t,e,n){var i=n(150),r=n(0),o=n(68)("metadata"),a=o.store||(o.store=new(n(153))),s=function(t,e,n){var r=a.get(t);if(!r){if(!n)return;a.set(t,r=new i)}var o=r.get(e);if(!o){if(!n)return;r.set(e,o=new i)}return o},l=function(t,e,n){var i=s(e,n,!1);return void 0!==i&&i.has(t)},A=function(t,e,n){var i=s(e,n,!1);return void 0===i?void 0:i.get(t)},c=function(t,e,n,i){s(n,i,!0).set(t,e)},u=function(t,e){var n=s(t,e,!1),i=[];return n&&n.forEach(function(t,e){i.push(e)}),i},T=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},C=function(t){r(r.S,"Reflect",t)};t.exports={store:a,map:s,has:l,get:A,set:c,keys:u,key:T,exp:C}},function(t,e,n){"use strict";if(n(7)){var i=n(34),r=n(2),o=n(3),a=n(0),s=n(70),l=n(98),A=n(22),c=n(37),u=n(42),T=n(12),C=n(43),h=n(27),G=n(9),f=n(148),d=n(45),p=n(28),m=n(15),g=n(53),v=n(4),y=n(10),b=n(84),_=n(39),x=n(17),w=n(40).f,S=n(100),k=n(46),E=n(6),O=n(24),M=n(57),P=n(69),j=n(101),F=n(48),B=n(63),N=n(44),I=n(76),D=n(121),H=n(8),R=n(16),L=H.f,z=R.f,W=r.RangeError,V=r.TypeError,q=r.Uint8Array,U=Array.prototype,Z=l.ArrayBuffer,$=l.DataView,X=O(0),J=O(2),Y=O(3),K=O(4),Q=O(5),tt=O(6),et=M(!0),nt=M(!1),it=j.values,rt=j.keys,ot=j.entries,at=U.lastIndexOf,st=U.reduce,lt=U.reduceRight,At=U.join,ct=U.sort,ut=U.slice,Tt=U.toString,Ct=U.toLocaleString,ht=E("iterator"),Gt=E("toStringTag"),ft=k("typed_constructor"),dt=k("def_constructor"),pt=s.CONSTR,mt=s.TYPED,gt=s.VIEW,vt=O(1,function(t,e){return wt(P(t,t[dt]),e)}),yt=o(function(){return 1===new q(new Uint16Array([1]).buffer)[0]}),bt=!!q&&!!q.prototype.set&&o(function(){new q(1).set({})}),_t=function(t,e){var n=h(t);if(n<0||n%e)throw W("Wrong offset!");return n},xt=function(t){if(v(t)&&mt in t)return t;throw V(t+" is not a typed array!")},wt=function(t,e){if(!(v(t)&&ft in t))throw V("It is not a typed array constructor!");return new t(e)},St=function(t,e){return kt(P(t,t[dt]),e)},kt=function(t,e){for(var n=0,i=e.length,r=wt(t,i);i>n;)r[n]=e[n++];return r},Et=function(t,e,n){L(t,e,{get:function(){return this._d[n]}})},Ot=function(t){var e,n,i,r,o,a,s=y(t),l=arguments.length,c=l>1?arguments[1]:void 0,u=void 0!==c,T=S(s);if(void 0!=T&&!b(T)){for(a=T.call(s),i=[],e=0;!(o=a.next()).done;e++)i.push(o.value);s=i}for(u&&l>2&&(c=A(c,arguments[2],2)),e=0,n=G(s.length),r=wt(this,n);n>e;e++)r[e]=u?c(s[e],e):s[e];return r},Mt=function(){for(var t=0,e=arguments.length,n=wt(this,e);e>t;)n[t]=arguments[t++];return n},Pt=!!q&&o(function(){Ct.call(new q(1))}),jt=function(){return Ct.apply(Pt?ut.call(xt(this)):xt(this),arguments)},Ft={copyWithin:function(t,e){return D.call(xt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return K(xt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return I.apply(xt(this),arguments)},filter:function(t){return St(this,J(xt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Q(xt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(xt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){X(xt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(xt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(xt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return At.apply(xt(this),arguments)},lastIndexOf:function(t){return at.apply(xt(this),arguments)},map:function(t){return vt(xt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(xt(this),arguments)},reduceRight:function(t){return lt.apply(xt(this),arguments)},reverse:function(){for(var t,e=this,n=xt(e).length,i=Math.floor(n/2),r=0;r<i;)t=e[r],e[r++]=e[--n],e[n]=t;return e},some:function(t){return Y(xt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ct.call(xt(this),t)},subarray:function(t,e){var n=xt(this),i=n.length,r=d(t,i);return new(P(n,n[dt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,G((void 0===e?i:d(e,i))-r))}},Bt=function(t,e){return St(this,ut.call(xt(this),t,e))},Nt=function(t){xt(this);var e=_t(arguments[1],1),n=this.length,i=y(t),r=G(i.length),o=0;if(r+e>n)throw W("Wrong length!");for(;o<r;)this[e+o]=i[o++]},It={entries:function(){return ot.call(xt(this))},keys:function(){return rt.call(xt(this))},values:function(){return it.call(xt(this))}},Dt=function(t,e){return v(t)&&t[mt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ht=function(t,e){return Dt(t,e=p(e,!0))?u(2,t[e]):z(t,e)},Rt=function(t,e,n){return!(Dt(t,e=p(e,!0))&&v(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?L(t,e,n):(t[e]=n.value,t)};pt||(R.f=Ht,H.f=Rt),a(a.S+a.F*!pt,"Object",{getOwnPropertyDescriptor:Ht,defineProperty:Rt}),o(function(){Tt.call({})})&&(Tt=Ct=function(){return At.call(this)});var Lt=C({},Ft);C(Lt,It),T(Lt,ht,It.values),C(Lt,{slice:Bt,set:Nt,constructor:function(){},toString:Tt,toLocaleString:jt}),Et(Lt,"buffer","b"),Et(Lt,"byteOffset","o"),Et(Lt,"byteLength","l"),Et(Lt,"length","e"),L(Lt,Gt,{get:function(){return this[mt]}}),t.exports=function(t,e,n,l){l=!!l;var A=t+(l?"Clamped":"")+"Array",u="get"+t,C="set"+t,h=r[A],d=h||{},p=h&&x(h),m=!h||!s.ABV,y={},b=h&&h.prototype,S=function(t,n){var i=t._d;return i.v[u](n*e+i.o,yt)},k=function(t,n,i){var r=t._d;l&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[C](n*e+r.o,i,yt)},E=function(t,e){L(t,e,{get:function(){return S(this,e)},set:function(t){return k(this,e,t)},enumerable:!0})};m?(h=n(function(t,n,i,r){c(t,h,A,"_d");var o,a,s,l,u=0,C=0;if(v(n)){if(!(n instanceof Z||"ArrayBuffer"==(l=g(n))||"SharedArrayBuffer"==l))return mt in n?kt(h,n):Ot.call(h,n);o=n,C=_t(i,e);var d=n.byteLength;if(void 0===r){if(d%e)throw W("Wrong length!");if((a=d-C)<0)throw W("Wrong length!")}else if((a=G(r)*e)+C>d)throw W("Wrong length!");s=a/e}else s=f(n),a=s*e,o=new Z(a);for(T(t,"_d",{b:o,o:C,l:a,e:s,v:new $(o)});u<s;)E(t,u++)}),b=h.prototype=_(Lt),T(b,"constructor",h)):o(function(){h(1)})&&o(function(){new h(-1)})&&B(function(t){new h,new h(null),new h(1.5),new h(t)},!0)||(h=n(function(t,n,i,r){c(t,h,A);var o;return v(n)?n instanceof Z||"ArrayBuffer"==(o=g(n))||"SharedArrayBuffer"==o?void 0!==r?new d(n,_t(i,e),r):void 0!==i?new d(n,_t(i,e)):new d(n):mt in n?kt(h,n):Ot.call(h,n):new d(f(n))}),X(p!==Function.prototype?w(d).concat(w(p)):w(d),function(t){t in h||T(h,t,d[t])}),h.prototype=b,i||(b.constructor=h));var O=b[ht],M=!!O&&("values"==O.name||void 0==O.name),P=It.values;T(h,ft,!0),T(b,mt,A),T(b,gt,!0),T(b,dt,h),(l?new h(1)[Gt]==A:Gt in b)||L(b,Gt,{get:function(){return A}}),y[A]=h,a(a.G+a.W+a.F*(h!=d),y),a(a.S,A,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o(function(){d.of.call(h,1)}),A,{from:Ot,of:Mt}),"BYTES_PER_ELEMENT"in b||T(b,"BYTES_PER_ELEMENT",e),a(a.P,A,Ft),N(A),a(a.P+a.F*bt,A,{set:Nt}),a(a.P+a.F*!M,A,It),i||b.toString==Tt||(b.toString=Tt),a(a.P+a.F*o(function(){new h(1).slice()}),A,{slice:Bt}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!o(function(){b.toLocaleString.call([1,2])})),A,{toLocaleString:jt}),F[A]=M?O:P,i||M||T(b,ht,P)}}else t.exports=function(){}},function(t,e,n){(function(t,n){var i,r;!function(){var o="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this||{},a=o._,s=Array.prototype,l=Object.prototype,A="undefined"!=typeof Symbol?Symbol.prototype:null,c=s.push,u=s.slice,T=l.toString,C=l.hasOwnProperty,h=Array.isArray,G=Object.keys,f=Object.create,d=function(){},p=function(t){return t instanceof p?t:this instanceof p?void(this._wrapped=t):new p(t)};void 0===e||e.nodeType?o._=p:(void 0!==n&&!n.nodeType&&n.exports&&(e=n.exports=p),e._=p),p.VERSION="1.9.1";var m,g=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},v=function(t,e,n){return p.iteratee!==m?p.iteratee(t,e):null==t?p.identity:p.isFunction(t)?g(t,e,n):p.isObject(t)&&!p.isArray(t)?p.matcher(t):p.property(t)};p.iteratee=m=function(t,e){return v(t,e,1/0)};var y=function(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i);case 2:return t.call(this,arguments[0],arguments[1],i)}var o=Array(e+1);for(r=0;r<e;r++)o[r]=arguments[r];return o[e]=i,t.apply(this,o)}},b=function(t){if(!p.isObject(t))return{};if(f)return f(t);d.prototype=t;var e=new d;return d.prototype=null,e},_=function(t){return function(e){return null==e?void 0:e[t]}},x=function(t,e){return null!=t&&C.call(t,e)},w=function(t,e){for(var n=e.length,i=0;i<n;i++){if(null==t)return;t=t[e[i]]}return n?t:void 0},S=Math.pow(2,53)-1,k=_("length"),E=function(t){var e=k(t);return"number"==typeof e&&e>=0&&e<=S};p.each=p.forEach=function(t,e,n){e=g(e,n);var i,r;if(E(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=p.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},p.map=p.collect=function(t,e,n){e=v(e,n);for(var i=!E(t)&&p.keys(t),r=(i||t).length,o=Array(r),a=0;a<r;a++){var s=i?i[a]:a;o[a]=e(t[s],s,t)}return o};var O=function(t){var e=function(e,n,i,r){var o=!E(e)&&p.keys(e),a=(o||e).length,s=t>0?0:a-1;for(r||(i=e[o?o[s]:s],s+=t);s>=0&&s<a;s+=t){var l=o?o[s]:s;i=n(i,e[l],l,e)}return i};return function(t,n,i,r){var o=arguments.length>=3;return e(t,g(n,r,4),i,o)}};p.reduce=p.foldl=p.inject=O(1),p.reduceRight=p.foldr=O(-1),p.find=p.detect=function(t,e,n){var i=E(t)?p.findIndex:p.findKey,r=i(t,e,n);if(void 0!==r&&-1!==r)return t[r]},p.filter=p.select=function(t,e,n){var i=[];return e=v(e,n),p.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},p.reject=function(t,e,n){return p.filter(t,p.negate(v(e)),n)},p.every=p.all=function(t,e,n){e=v(e,n);for(var i=!E(t)&&p.keys(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(!e(t[a],a,t))return!1}return!0},p.some=p.any=function(t,e,n){e=v(e,n);for(var i=!E(t)&&p.keys(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(e(t[a],a,t))return!0}return!1},p.contains=p.includes=p.include=function(t,e,n,i){return E(t)||(t=p.values(t)),("number"!=typeof n||i)&&(n=0),p.indexOf(t,e,n)>=0},p.invoke=y(function(t,e,n){var i,r;return p.isFunction(e)?r=e:p.isArray(e)&&(i=e.slice(0,-1),e=e[e.length-1]),p.map(t,function(t){var o=r;if(!o){if(i&&i.length&&(t=w(t,i)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)})}),p.pluck=function(t,e){return p.map(t,p.property(e))},p.where=function(t,e){return p.filter(t,p.matcher(e))},p.findWhere=function(t,e){return p.find(t,p.matcher(e))},p.max=function(t,e,n){var i,r,o=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t){t=E(t)?t:p.values(t);for(var s=0,l=t.length;s<l;s++)null!=(i=t[s])&&i>o&&(o=i)}else e=v(e,n),p.each(t,function(t,n,i){((r=e(t,n,i))>a||r===-1/0&&o===-1/0)&&(o=t,a=r)});return o},p.min=function(t,e,n){var i,r,o=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t){t=E(t)?t:p.values(t);for(var s=0,l=t.length;s<l;s++)null!=(i=t[s])&&i<o&&(o=i)}else e=v(e,n),p.each(t,function(t,n,i){((r=e(t,n,i))<a||r===1/0&&o===1/0)&&(o=t,a=r)});return o},p.shuffle=function(t){return p.sample(t,1/0)},p.sample=function(t,e,n){if(null==e||n)return E(t)||(t=p.values(t)),t[p.random(t.length-1)];var i=E(t)?p.clone(t):p.values(t),r=k(i);e=Math.max(Math.min(e,r),0);for(var o=r-1,a=0;a<e;a++){var s=p.random(a,o),l=i[a];i[a]=i[s],i[s]=l}return i.slice(0,e)},p.sortBy=function(t,e,n){var i=0;return e=v(e,n),p.pluck(p.map(t,function(t,n,r){return{value:t,index:i++,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var M=function(t,e){return function(n,i,r){var o=e?[[],[]]:{};return i=v(i,r),p.each(n,function(e,r){var a=i(e,r,n);t(o,e,a)}),o}};p.groupBy=M(function(t,e,n){x(t,n)?t[n].push(e):t[n]=[e]}),p.indexBy=M(function(t,e,n){t[n]=e}),p.countBy=M(function(t,e,n){x(t,n)?t[n]++:t[n]=1});var P=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;p.toArray=function(t){return t?p.isArray(t)?u.call(t):p.isString(t)?t.match(P):E(t)?p.map(t,p.identity):p.values(t):[]},p.size=function(t){return null==t?0:E(t)?t.length:p.keys(t).length},p.partition=M(function(t,e,n){t[n?0:1].push(e)},!0),p.first=p.head=p.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:p.initial(t,t.length-e)},p.initial=function(t,e,n){return u.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},p.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:p.rest(t,Math.max(0,t.length-e))},p.rest=p.tail=p.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},p.compact=function(t){return p.filter(t,Boolean)};var j=function(t,e,n,i){i=i||[];for(var r=i.length,o=0,a=k(t);o<a;o++){var s=t[o];if(E(s)&&(p.isArray(s)||p.isArguments(s)))if(e)for(var l=0,A=s.length;l<A;)i[r++]=s[l++];else j(s,e,n,i),r=i.length;else n||(i[r++]=s)}return i};p.flatten=function(t,e){return j(t,e,!1)},p.without=y(function(t,e){return p.difference(t,e)}),p.uniq=p.unique=function(t,e,n,i){p.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=v(n,i));for(var r=[],o=[],a=0,s=k(t);a<s;a++){var l=t[a],A=n?n(l,a,t):l;e&&!n?(a&&o===A||r.push(l),o=A):n?p.contains(o,A)||(o.push(A),r.push(l)):p.contains(r,l)||r.push(l)}return r},p.union=y(function(t){return p.uniq(j(t,!0,!0))}),p.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=k(t);i<r;i++){var o=t[i];if(!p.contains(e,o)){var a;for(a=1;a<n&&p.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},p.difference=y(function(t,e){return e=j(e,!0,!0),p.filter(t,function(t){return!p.contains(e,t)})}),p.unzip=function(t){for(var e=t&&p.max(t,k).length||0,n=Array(e),i=0;i<e;i++)n[i]=p.pluck(t,i);return n},p.zip=y(p.unzip),p.object=function(t,e){for(var n={},i=0,r=k(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n};var F=function(t){return function(e,n,i){n=v(n,i);for(var r=k(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}};p.findIndex=F(1),p.findLastIndex=F(-1),p.sortedIndex=function(t,e,n,i){n=v(n,i,1);for(var r=n(e),o=0,a=k(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<r?o=s+1:a=s}return o};var B=function(t,e,n){return function(i,r,o){var a=0,s=k(i);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=e(u.call(i,a,s),p.isNaN),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(i[o]===r)return o;return-1}};p.indexOf=B(1,p.findIndex,p.sortedIndex),p.lastIndexOf=B(-1,p.findLastIndex),p.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r},p.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],i=0,r=t.length;i<r;)n.push(u.call(t,i,i+=e));return n};var N=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=b(t.prototype),a=t.apply(o,r);return p.isObject(a)?a:o};p.bind=y(function(t,e,n){if(!p.isFunction(t))throw new TypeError("Bind must be called on a function");var i=y(function(r){return N(t,i,e,this,n.concat(r))});return i}),p.partial=y(function(t,e){var n=p.partial.placeholder,i=function(){for(var r=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===n?arguments[r++]:e[s];for(;r<arguments.length;)a.push(arguments[r++]);return N(t,i,this,this,a)};return i}),p.partial.placeholder=p,p.bindAll=y(function(t,e){e=j(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=e[n];t[i]=p.bind(t[i],t)}}),p.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return x(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},p.delay=y(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),p.defer=p.partial(p.delay,p,1),p.throttle=function(t,e,n){var i,r,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:p.now(),i=null,a=t.apply(r,o),i||(r=o=null)},A=function(){var A=p.now();s||!1!==n.leading||(s=A);var c=e-(A-s);return r=this,o=arguments,c<=0||c>e?(i&&(clearTimeout(i),i=null),s=A,a=t.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(l,c)),a};return A.cancel=function(){clearTimeout(i),s=0,i=r=o=null},A},p.debounce=function(t,e,n){var i,r,o=function(e,n){i=null,n&&(r=t.apply(e,n))},a=y(function(a){if(i&&clearTimeout(i),n){var s=!i;i=setTimeout(o,e),s&&(r=t.apply(this,a))}else i=p.delay(o,e,this,a);return r});return a.cancel=function(){clearTimeout(i),i=null},a},p.wrap=function(t,e){return p.partial(e,t)},p.negate=function(t){return function(){return!t.apply(this,arguments)}},p.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},p.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},p.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},p.once=p.partial(p.before,2),p.restArguments=y;var I=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],H=function(t,e){var n=D.length,i=t.constructor,r=p.isFunction(i)&&i.prototype||l,o="constructor";for(x(t,o)&&!p.contains(e,o)&&e.push(o);n--;)(o=D[n])in t&&t[o]!==r[o]&&!p.contains(e,o)&&e.push(o)};p.keys=function(t){if(!p.isObject(t))return[];if(G)return G(t);var e=[];for(var n in t)x(t,n)&&e.push(n);return I&&H(t,e),e},p.allKeys=function(t){if(!p.isObject(t))return[];var e=[];for(var n in t)e.push(n);return I&&H(t,e),e},p.values=function(t){for(var e=p.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},p.mapObject=function(t,e,n){e=v(e,n);for(var i=p.keys(t),r=i.length,o={},a=0;a<r;a++){var s=i[a];o[s]=e(t[s],s,t)}return o},p.pairs=function(t){for(var e=p.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},p.invert=function(t){for(var e={},n=p.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},p.functions=p.methods=function(t){var e=[];for(var n in t)p.isFunction(t[n])&&e.push(n);return e.sort()};var R=function(t,e){return function(n){var i=arguments.length;if(e&&(n=Object(n)),i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],a=t(o),s=a.length,l=0;l<s;l++){var A=a[l];e&&void 0!==n[A]||(n[A]=o[A])}return n}};p.extend=R(p.allKeys),p.extendOwn=p.assign=R(p.keys),p.findKey=function(t,e,n){e=v(e,n);for(var i,r=p.keys(t),o=0,a=r.length;o<a;o++)if(i=r[o],e(t[i],i,t))return i};var L=function(t,e,n){return e in n};p.pick=y(function(t,e){var n={},i=e[0];if(null==t)return n;p.isFunction(i)?(e.length>1&&(i=g(i,e[1])),e=p.allKeys(t)):(i=L,e=j(e,!1,!1),t=Object(t));for(var r=0,o=e.length;r<o;r++){var a=e[r],s=t[a];i(s,a,t)&&(n[a]=s)}return n}),p.omit=y(function(t,e){var n,i=e[0];return p.isFunction(i)?(i=p.negate(i),e.length>1&&(n=e[1])):(e=p.map(j(e,!1,!1),String),i=function(t,n){return!p.contains(e,n)}),p.pick(t,i,n)}),p.defaults=R(p.allKeys,!0),p.create=function(t,e){var n=b(t);return e&&p.extendOwn(n,e),n},p.clone=function(t){return p.isObject(t)?p.isArray(t)?t.slice():p.extend({},t):t},p.tap=function(t,e){return e(t),t},p.isMatch=function(t,e){var n=p.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var a=n[o];if(e[a]!==r[a]||!(a in r))return!1}return!0};var z,W;z=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!==t)return e!==e;var r=typeof t;return("function"===r||"object"===r||"object"==typeof e)&&W(t,e,n,i)},W=function(t,e,n,i){t instanceof p&&(t=t._wrapped),e instanceof p&&(e=e._wrapped);var r=T.call(t);if(r!==T.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return A.valueOf.call(t)===A.valueOf.call(e)}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(p.isFunction(a)&&a instanceof a&&p.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),o){if((l=t.length)!==e.length)return!1;for(;l--;)if(!z(t[l],e[l],n,i))return!1}else{var c,u=p.keys(t);if(l=u.length,p.keys(e).length!==l)return!1;for(;l--;)if(c=u[l],!x(e,c)||!z(t[c],e[c],n,i))return!1}return n.pop(),i.pop(),!0},p.isEqual=function(t,e){return z(t,e)},p.isEmpty=function(t){return null==t||(E(t)&&(p.isArray(t)||p.isString(t)||p.isArguments(t))?0===t.length:0===p.keys(t).length)},p.isElement=function(t){return!(!t||1!==t.nodeType)},p.isArray=h||function(t){return"[object Array]"===T.call(t)},p.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},p.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){p["is"+t]=function(e){return T.call(e)==="[object "+t+"]"}}),p.isArguments(arguments)||(p.isArguments=function(t){return x(t,"callee")});var V=o.document&&o.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof V&&(p.isFunction=function(t){return"function"==typeof t||!1}),p.isFinite=function(t){return!p.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},p.isNaN=function(t){return p.isNumber(t)&&isNaN(t)},p.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===T.call(t)},p.isNull=function(t){return null===t},p.isUndefined=function(t){return void 0===t},p.has=function(t,e){if(!p.isArray(e))return x(t,e);for(var n=e.length,i=0;i<n;i++){var r=e[i];if(null==t||!C.call(t,r))return!1;t=t[r]}return!!n},p.noConflict=function(){return o._=a,this},p.identity=function(t){return t},p.constant=function(t){return function(){return t}},p.noop=function(){},p.property=function(t){return p.isArray(t)?function(e){return w(e,t)}:_(t)},p.propertyOf=function(t){return null==t?function(){}:function(e){return p.isArray(e)?w(t,e):t[e]}},p.matcher=p.matches=function(t){return t=p.extendOwn({},t),function(e){return p.isMatch(e,t)}},p.times=function(t,e,n){var i=Array(Math.max(0,t));e=g(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},p.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},p.now=Date.now||function(){return(new Date).getTime()};var q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},U=p.invert(q),Z=function(t){var e=function(e){return t[e]},n="(?:"+p.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};p.escape=Z(q),p.unescape=Z(U),p.result=function(t,e,n){p.isArray(e)||(e=[e]);var i=e.length;if(!i)return p.isFunction(n)?n.call(t):n;for(var r=0;r<i;r++){var o=null==t?void 0:t[e[r]];void 0===o&&(o=n,r=i),t=p.isFunction(o)?o.call(t):o}return t};var $=0;p.uniqueId=function(t){var e=++$+"";return t?t+e:e},p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var X=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Y=/\\|'|\r|\n|\u2028|\u2029/g,K=function(t){return"\\"+J[t]};p.template=function(t,e,n){!e&&n&&(e=n),e=p.defaults({},e,p.templateSettings);var i=RegExp([(e.escape||X).source,(e.interpolate||X).source,(e.evaluate||X).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,a,s){return o+=t.slice(r,s).replace(Y,K),r=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";var a;try{a=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var s=function(t){return a.call(this,t,p)};return s.source="function("+(e.variable||"obj")+"){\n"+o+"}",s},p.chain=function(t){var e=p(t);return e._chain=!0,e};var Q=function(t,e){return t._chain?p(e).chain():e};p.mixin=function(t){return p.each(p.functions(t),function(e){var n=p[e]=t[e];p.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),Q(this,n.apply(p,t))}}),p},p.mixin(p),p.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];p.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],Q(this,n)}}),p.each(["concat","join","slice"],function(t){var e=s[t];p.prototype[t]=function(){return Q(this,e.apply(this._wrapped,arguments))}}),p.prototype.value=function(){return this._wrapped},p.prototype.valueOf=p.prototype.toJSON=p.prototype.value,p.prototype.toString=function(){return String(this._wrapped)},i=[],void 0!==(r=function(){return p}.apply(e,i))&&(n.exports=r)}()}).call(e,n(47),n(398)(t))},function(t,e,n){var i=n(6)("unscopables"),r=Array.prototype;void 0==r[i]&&n(12)(r,i,{}),t.exports=function(t){r[i][t]=!0}},function(t,e){t.exports=!1},function(t,e,n){var i=n(46)("meta"),r=n(4),o=n(15),a=n(8).f,s=0,l=Object.isExtensible||function(){return!0},A=!n(3)(function(){return l(Object.preventExtensions({}))}),c=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},u=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[i].i},T=function(t,e){if(!o(t,i)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[i].w},C=function(t){return A&&h.NEED&&l(t)&&!o(t,i)&&c(t),t},h=t.exports={KEY:i,NEED:!1,fastKey:u,getWeak:T,onFreeze:C}},function(t,e,n){(function(i){var r,o;!function(a){var s="object"==typeof self&&self.self===self&&self||"object"==typeof i&&i.global===i&&i;r=[n(32),n(52),e],void 0!==(o=function(t,e,n){s.Backbone=a(s,n,t,e)}.apply(e,r))&&(t.exports=o)}(function(t,e,n,i){var r=t.Backbone,o=Array.prototype.slice;e.VERSION="1.3.3",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,i){switch(t){case 1:return function(){return n[e](this[i])};case 2:return function(t){return n[e](this[i],t)};case 3:return function(t,r){return n[e](this[i],l(t,this),r)};case 4:return function(t,r,o){return n[e](this[i],l(t,this),r,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[i]),n[e].apply(n,t)}}},s=function(t,e,i){n.each(e,function(e,r){n[r]&&(t.prototype[r]=a(e,r,i))})},l=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?A(t):n.isString(t)?function(e){return e.get(t)}:t},A=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},u=/\s+/,T=function(t,e,i,r,o){var a,s=0;if(i&&"object"==typeof i){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(a=n.keys(i);s<a.length;s++)e=T(t,e,a[s],i[a[s]],o)}else if(i&&u.test(i))for(a=i.split(u);s<a.length;s++)e=t(e,a[s],r,o);else e=t(e,i,r,o);return e};c.on=function(t,e,n){return C(this,t,e,n)};var C=function(t,e,n,i,r){if(t._events=T(h,t._events||{},e,n,{context:i,ctx:t,listening:r}),r){(t._listeners||(t._listeners={}))[r.id]=r}return t};c.listenTo=function(t,e,i){if(!t)return this;var r=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[r];if(!a){var s=this._listenId||(this._listenId=n.uniqueId("l"));a=o[r]={obj:t,objId:r,id:s,listeningTo:o,count:0}}return C(t,e,i,this,a),this};var h=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),o=i.context,a=i.ctx,s=i.listening;s&&s.count++,r.push({callback:n,context:o,ctx:o||a,listening:s})}return t};c.off=function(t,e,n){return this._events?(this._events=T(G,this._events,t,e,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(t,e,i){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:n.keys(r),a=0;a<o.length;a++){var s=r[o[a]];if(!s)break;s.obj.off(e,i,this)}return this};var G=function(t,e,i,r){if(t){var o,a=0,s=r.context,l=r.listeners;if(e||i||s){for(var A=e?[e]:n.keys(t);a<A.length;a++){e=A[a];var c=t[e];if(!c)break;for(var u=[],T=0;T<c.length;T++){var C=c[T];i&&i!==C.callback&&i!==C.callback._callback||s&&s!==C.context?u.push(C):(o=C.listening)&&0==--o.count&&(delete l[o.id],delete o.listeningTo[o.objId])}u.length?t[e]=u:delete t[e]}return t}for(var h=n.keys(l);a<h.length;a++)o=l[h[a]],delete l[o.id],delete o.listeningTo[o.objId]}};c.once=function(t,e,i){var r=T(f,{},t,e,n.bind(this.off,this));return"string"==typeof t&&null==i&&(e=void 0),this.on(r,e,i)},c.listenToOnce=function(t,e,i){var r=T(f,{},e,i,n.bind(this.stopListening,this,t));return this.listenTo(t,r)};var f=function(t,e,i,r){if(i){var o=t[e]=n.once(function(){r(e,o),i.apply(this,arguments)});o._callback=i}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;i<e;i++)n[i]=arguments[i+1];return T(d,this._events,t,void 0,n),this};var d=function(t,e,n,i){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&p(r,i),o&&p(o,[e].concat(i))}return t},p=function(t,e){var n,i=-1,r=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,a);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,a,s);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};c.bind=c.on,c.unbind=c.off,n.extend(e,c);var m=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{});var r=n.result(this,"defaults");i=n.defaults(n.extend({},r,i),r),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(m.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var r;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;var o=i.unset,a=i.silent,s=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var A=this.attributes,c=this.changed,u=this._previousAttributes;for(var T in r)e=r[T],n.isEqual(A[T],e)||s.push(T),n.isEqual(u[T],e)?delete c[T]:c[T]=e,o?delete A[T]:A[T]=e;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!a){s.length&&(this._pending=i);for(var C=0;C<s.length;C++)this.trigger("change:"+s[C],this,A[s[C]],i)}if(l)return this;if(!a)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,i={};for(var r in t){var o=t[r];n.isEqual(e[r],o)||(i[r]=o)}return!!n.size(i)&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,i=t.success;return t.success=function(n){var r=t.parse?e.parse(n,t):n;if(!e.set(r,t))return!1;i&&i.call(t.context,e,n,t),e.trigger("sync",e,n,t)},H(this,t),this.sync("read",this,t)},save:function(t,e,i){var r;null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e,i=n.extend({validate:!0,parse:!0},i);var o=i.wait;if(r&&!o){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var a=this,s=i.success,l=this.attributes;i.success=function(t){a.attributes=l;var e=i.parse?a.parse(t,i):t;if(o&&(e=n.extend({},r,e)),e&&!a.set(e,i))return!1;s&&s.call(i.context,a,t,i),a.trigger("sync",a,t,i)},H(this,i),r&&o&&(this.attributes=n.extend({},l,r));var A=this.isNew()?"create":i.patch?"patch":"update";"patch"!==A||i.attrs||(i.attrs=r);var c=this.sync(A,this,i);return this.attributes=l,c},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){r&&o(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var a=!1;return this.isNew()?n.defer(t.success):(H(this,t),a=this.sync("delete",this,t)),r||o(),a},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||D();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1)}}),s(m,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var g=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},v={add:!0,remove:!0,merge:!0},y={add:!0,remove:!1},b=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var i,r=Array(t.length-n),o=e.length;for(i=0;i<r.length;i++)r[i]=t[i+n];for(i=0;i<o;i++)t[i+n]=e[i];for(i=0;i<r.length;i++)t[i+o+n]=r[i]};n.extend(g.prototype,c,{model:m,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,y))},remove:function(t,e){e=n.extend({},e);var i=!n.isArray(t);t=i?[t]:t.slice();var r=this._removeModels(t,e);return!e.silent&&r.length&&(e.changes={added:[],merged:[],removed:r},this.trigger("update",this,e)),i?r[0]:r},set:function(t,e){if(null!=t){e=n.extend({},v,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var i=!n.isArray(t);t=i?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var o,a,s=[],l=[],A=[],c=[],u={},T=e.add,C=e.merge,h=e.remove,G=!1,f=this.comparator&&null==r&&!1!==e.sort,d=n.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){o=t[a];var p=this.get(o);if(p){if(C&&o!==p){var m=this._isModel(o)?o.attributes:o;e.parse&&(m=p.parse(m,e)),p.set(m,e),A.push(p),f&&!G&&(G=p.hasChanged(d))}u[p.cid]||(u[p.cid]=!0,s.push(p)),t[a]=p}else T&&(o=t[a]=this._prepareModel(o,e))&&(l.push(o),this._addReference(o,e),u[o.cid]=!0,s.push(o))}if(h){for(a=0;a<this.length;a++)o=this.models[a],u[o.cid]||c.push(o);c.length&&this._removeModels(c,e)}var g=!1,y=!f&&T&&h;if(s.length&&y?(g=this.length!==s.length||n.some(this.models,function(t,e){return t!==s[e]}),this.models.length=0,b(this.models,s,0),this.length=this.models.length):l.length&&(f&&(G=!0),b(this.models,l,null==r?this.length:r),this.length=this.models.length),G&&this.sort({silent:!0}),!e.silent){for(a=0;a<l.length;a++)null!=r&&(e.index=r+a),o=l[a],o.trigger("add",o,this,e);(G||g)&&this.trigger("sort",this,e),(l.length||c.length||A.length)&&(e.changes={added:l,removed:c,merged:A},this.trigger("update",this,e))}return i?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var i=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===i||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e.call(t.context,i,n,t),i.trigger("sync",i,n,t)},H(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var i=e.wait;if(!(t=this._prepareModel(t,e)))return!1;i||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,n){i&&r.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.get(t[i]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,delete this._byId[r.cid];var a=this.modelId(r.attributes);null!=a&&delete this._byId[a],e.silent||(e.index=o,r.trigger("remove",r,this,e)),n.push(r),this._removeReference(r,e)}}return n},_isModel:function(t){return t instanceof m},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,i),"change"===t){var r=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e))}}this.trigger.apply(this,arguments)}}),s(g,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var _=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,w)),this._ensureElement(),this.initialize.apply(this,arguments)},x=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName","events"];n.extend(_.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var i=t[e];if(n.isFunction(i)||(i=this[i]),i){var r=e.match(x);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,i,r){var o=S[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(r.url||(a.url=n.result(i,"url")||D()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",r.emulateJSON&&(a.data._method=o);var s=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||r.emulateJSON||(a.processData=!1);var l=r.error;r.error=function(t,e,n){r.textStatus=e,r.errorThrown=n,l&&l.call(r.context,t,e,n)};var A=r.xhr=e.ajax(n.extend(a,r));return i.trigger("request",i,A,r),A};var S={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var k=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},E=/\((.*?)\)/g,O=/(\(\?)?:\w+/g,M=/\*\w+/g,P=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(k.prototype,c,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return e.history.route(t,function(n){var a=o._extractParameters(t,n);!1!==o.execute(r,a,i)&&(o.trigger.apply(o,["route:"+i].concat(a)),o.trigger("route",i,a),e.history.trigger("route",o,i,a))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(P,"\\$&").replace(E,"(?:$1)?").replace(O,function(t,e){return e?t:"([^/?]+)"}).replace(M,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var j=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},F=/^[#\/]|\s+$/g,B=/^\/+|\/+$/g,N=/#.*$/;j.started=!1,n.extend(j.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(F,"")},start:function(t){if(j.started)throw new Error("Backbone.history has already been started");if(j.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(B,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),j.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!j.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace(N,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new j;var I=function(t,e){var i,r=this;return i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e),i.prototype=n.create(r.prototype,t),i.prototype.constructor=i,i.__super__=r.prototype,i};m.extend=g.extend=k.extend=_.extend=j.extend=I;var D=function(){throw new Error('A "url" property or function must be specified')},H=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger("error",t,i,e)}};return e})}).call(e,n(47))},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(22),r=n(132),o=n(84),a=n(1),s=n(9),l=n(100),A={},c={},e=t.exports=function(t,e,n,u,T){var C,h,G,f,d=T?function(){return t}:l(t),p=i(n,u,e?2:1),m=0;if("function"!=typeof d)throw TypeError(t+" is not iterable!");if(o(d)){for(C=s(t.length);C>m;m++)if((f=e?p(a(h=t[m])[0],h[1]):p(t[m]))===A||f===c)return f}else for(G=d.call(t);!(h=G.next()).done;)if((f=r(G,p,h.value,e))===A||f===c)return f};e.BREAK=A,e.RETURN=c},function(t,e,n){var i=n(1),r=n(138),o=n(80),a=n(92)("IE_PROTO"),s=function(){},l=function(){var t,e=n(79)("iframe"),i=o.length;for(e.style.display="none",n(82).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l.prototype[o[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=i(t),n=new s,s.prototype=null,n[a]=t):n=l(),void 0===e?n:r(n,e)}},function(t,e,n){var i=n(140),r=n(80).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(140),r=n(80);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(13);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e,n){"use strict";var i=n(2),r=n(8),o=n(7),a=n(6)("species");t.exports=function(t){var e=i[t];o&&e&&!e[a]&&r.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var i=n(27),r=Math.max,o=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):o(t,e)}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},,function(t,e){t.exports={}},function(t,e,n){var i=n(8).f,r=n(15),o=n(6)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){var i=n(0),r=n(25),o=n(3),a=n(96),s="["+a+"]",l="",A=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(t,e,n){var r={},s=o(function(){return!!a[t]()||l[t]()!=l}),A=r[t]=s?e(T):a[t];n&&(r[n]=A),i(i.P+i.F*s,"String",r)},T=u.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(A,"")),2&e&&(t=t.replace(c,"")),t};t.exports=u},function(t,e,n){var i=n(4);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){var i,r;!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,o){"use strict";function a(t,e,n){e=e||ct;var i,r=e.createElement("script");if(r.text=t,n)for(i in _t)n[i]&&(r[i]=n[i]);e.head.appendChild(r).parentNode.removeChild(r)}function s(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ft[dt.call(t)]||"object":typeof t}function l(t){var e=!!t&&"length"in t&&t.length,n=s(t);return!yt(t)&&!bt(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function A(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function c(t,e,n){return yt(e)?xt.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?xt.grep(t,function(t){return t===e!==n}):"string"!=typeof e?xt.grep(t,function(t){return Gt.call(e,t)>-1!==n}):xt.filter(e,t,n)}function u(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function T(t){var e={};return xt.each(t.match(Nt)||[],function(t,n){e[n]=!0}),e}function C(t){return t}function h(t){throw t}function G(t,e,n,i){var r;try{t&&yt(r=t.promise)?r.call(t).done(e).fail(n):t&&yt(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}function f(){ct.removeEventListener("DOMContentLoaded",f),n.removeEventListener("load",f),xt.ready()}function d(t,e){return e.toUpperCase()}function p(t){return t.replace(Rt,"ms-").replace(Lt,d)}function m(){this.expando=xt.expando+m.uid++}function g(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:qt.test(t)?JSON.parse(t):t)}function v(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Ut,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=g(n)}catch(t){}Vt.set(t,e,n)}else n=void 0;return n}function y(t,e,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return xt.css(t,e,"")},l=s(),A=n&&n[3]||(xt.cssNumber[e]?"":"px"),c=(xt.cssNumber[e]||"px"!==A&&+l)&&$t.exec(xt.css(t,e));if(c&&c[3]!==A){for(l/=2,A=A||c[3],c=+l||1;a--;)xt.style(t,e,c+A),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),c/=o;c*=2,xt.style(t,e,c+A),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=A,i.start=c,i.end=r)),r}function b(t){var e,n=t.ownerDocument,i=t.nodeName,r=Kt[i];return r||(e=n.body.appendChild(n.createElement(i)),r=xt.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Kt[i]=r,r)}function _(t,e){for(var n,i,r=[],o=0,a=t.length;o<a;o++)i=t[o],i.style&&(n=i.style.display,e?("none"===n&&(r[o]=Wt.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&Jt(i)&&(r[o]=b(i))):"none"!==n&&(r[o]="none",Wt.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function x(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&A(t,e)?xt.merge([t],n):n}function w(t,e){for(var n=0,i=t.length;n<i;n++)Wt.set(t[n],"globalEval",!e||Wt.get(e[n],"globalEval"))}function S(t,e,n,i,r){for(var o,a,l,A,c,u,T=e.createDocumentFragment(),C=[],h=0,G=t.length;h<G;h++)if((o=t[h])||0===o)if("object"===s(o))xt.merge(C,o.nodeType?[o]:o);else if(ie.test(o)){for(a=a||T.appendChild(e.createElement("div")),l=(te.exec(o)||["",""])[1].toLowerCase(),A=ne[l]||ne._default,a.innerHTML=A[1]+xt.htmlPrefilter(o)+A[2],u=A[0];u--;)a=a.lastChild;xt.merge(C,a.childNodes),a=T.firstChild,a.textContent=""}else C.push(e.createTextNode(o));for(T.textContent="",h=0;o=C[h++];)if(i&&xt.inArray(o,i)>-1)r&&r.push(o);else if(c=xt.contains(o.ownerDocument,o),a=x(T.appendChild(o),"script"),c&&w(a),n)for(u=0;o=a[u++];)ee.test(o.type||"")&&n.push(o);return T}function k(){return!0}function E(){return!1}function O(){try{return ct.activeElement}catch(t){}}function M(t,e,n,i,r,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(s in e)M(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=E;else if(!r)return t;return 1===o&&(a=r,r=function(t){return xt().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=xt.guid++)),t.each(function(){xt.event.add(this,e,r,i,n)})}function P(t,e){return A(t,"table")&&A(11!==e.nodeType?e:e.firstChild,"tr")?xt(t).children("tbody")[0]||t:t}function j(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function F(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function B(t,e){var n,i,r,o,a,s,l,A;if(1===e.nodeType){if(Wt.hasData(t)&&(o=Wt.access(t),a=Wt.set(e,o),A=o.events)){delete a.handle,a.events={};for(r in A)for(n=0,i=A[r].length;n<i;n++)xt.event.add(e,r,A[r][n])}Vt.hasData(t)&&(s=Vt.access(t),l=xt.extend({},s),Vt.set(e,l))}}function N(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Qt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function I(t,e,n,i){e=Ct.apply([],e);var r,o,s,l,A,c,u=0,T=t.length,C=T-1,h=e[0],G=yt(h);if(G||T>1&&"string"==typeof h&&!vt.checkClone&&ce.test(h))return t.each(function(r){var o=t.eq(r);G&&(e[0]=h.call(this,r,o.html())),I(o,e,n,i)});if(T&&(r=S(e,t[0].ownerDocument,!1,t,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=xt.map(x(r,"script"),j),l=s.length;u<T;u++)A=r,u!==C&&(A=xt.clone(A,!0,!0),l&&xt.merge(s,x(A,"script"))),n.call(t[u],A,u);if(l)for(c=s[s.length-1].ownerDocument,xt.map(s,F),u=0;u<l;u++)A=s[u],ee.test(A.type||"")&&!Wt.access(A,"globalEval")&&xt.contains(c,A)&&(A.src&&"module"!==(A.type||"").toLowerCase()?xt._evalUrl&&xt._evalUrl(A.src):a(A.textContent.replace(ue,""),c,A))}return t}function D(t,e,n){for(var i,r=e?xt.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||xt.cleanData(x(i)),i.parentNode&&(n&&xt.contains(i.ownerDocument,i)&&w(x(i,"script")),i.parentNode.removeChild(i));return t}function H(t,e,n){var i,r,o,a,s=t.style;return n=n||Ce(t),n&&(a=n.getPropertyValue(e)||n[e],""!==a||xt.contains(t.ownerDocument,t)||(a=xt.style(t,e)),!vt.pixelBoxStyles()&&Te.test(a)&&he.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function R(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function L(t){if(t in ge)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=me.length;n--;)if((t=me[n]+e)in ge)return t}function z(t){var e=xt.cssProps[t];return e||(e=xt.cssProps[t]=L(t)||t),e}function W(t,e,n){var i=$t.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function V(t,e,n,i,r,o){var a="width"===e?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=xt.css(t,n+Xt[a],!0,r)),i?("content"===n&&(l-=xt.css(t,"padding"+Xt[a],!0,r)),"margin"!==n&&(l-=xt.css(t,"border"+Xt[a]+"Width",!0,r))):(l+=xt.css(t,"padding"+Xt[a],!0,r),"padding"!==n?l+=xt.css(t,"border"+Xt[a]+"Width",!0,r):s+=xt.css(t,"border"+Xt[a]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-s-.5))),l}function q(t,e,n){var i=Ce(t),r=H(t,e,i),o="border-box"===xt.css(t,"boxSizing",!1,i),a=o;if(Te.test(r)){if(!n)return r;r="auto"}return a=a&&(vt.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===xt.css(t,"display",!1,i))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],a=!0),(r=parseFloat(r)||0)+V(t,e,n||(o?"border":"content"),a,i,r)+"px"}function U(t,e,n,i,r){return new U.prototype.init(t,e,n,i,r)}function Z(){ye&&(!1===ct.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(Z):n.setTimeout(Z,xt.fx.interval),xt.fx.tick())}function $(){return n.setTimeout(function(){ve=void 0}),ve=Date.now()}function X(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)n=Xt[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function J(t,e,n){for(var i,r=(Q.tweeners[e]||[]).concat(Q.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function Y(t,e,n){var i,r,o,a,s,l,A,c,u="width"in e||"height"in e,T=this,C={},h=t.style,G=t.nodeType&&Jt(t),f=Wt.get(t,"fxshow");n.queue||(a=xt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,T.always(function(){T.always(function(){a.unqueued--,xt.queue(t,"fx").length||a.empty.fire()})}));for(i in e)if(r=e[i],be.test(r)){if(delete e[i],o=o||"toggle"===r,r===(G?"hide":"show")){if("show"!==r||!f||void 0===f[i])continue;G=!0}C[i]=f&&f[i]||xt.style(t,i)}if((l=!xt.isEmptyObject(e))||!xt.isEmptyObject(C)){u&&1===t.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],A=f&&f.display,null==A&&(A=Wt.get(t,"display")),c=xt.css(t,"display"),"none"===c&&(A?c=A:(_([t],!0),A=t.style.display||A,c=xt.css(t,"display"),_([t]))),("inline"===c||"inline-block"===c&&null!=A)&&"none"===xt.css(t,"float")&&(l||(T.done(function(){h.display=A}),null==A&&(c=h.display,A="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",T.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),l=!1;for(i in C)l||(f?"hidden"in f&&(G=f.hidden):f=Wt.access(t,"fxshow",{display:A}),o&&(f.hidden=!G),G&&_([t],!0),T.done(function(){G||_([t]),Wt.remove(t,"fxshow");for(i in C)xt.style(t,i,C[i])})),l=J(G?f[i]:0,i,T),i in f||(f[i]=l.start,G&&(l.end=l.start,l.start=0))}}function K(t,e){var n,i,r,o,a;for(n in t)if(i=p(n),r=e[i],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(a=xt.cssHooks[i])&&"expand"in a){o=a.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function Q(t,e,n){var i,r,o=0,a=Q.prefilters.length,s=xt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=ve||$(),n=Math.max(0,A.startTime+A.duration-e),i=n/A.duration||0,o=1-i,a=0,l=A.tweens.length;a<l;a++)A.tweens[a].run(o);return s.notifyWith(t,[A,o,n]),o<1&&l?n:(l||s.notifyWith(t,[A,1,0]),s.resolveWith(t,[A]),!1)},A=s.promise({elem:t,props:xt.extend({},e),opts:xt.extend(!0,{specialEasing:{},easing:xt.easing._default},n),originalProperties:e,originalOptions:n,startTime:ve||$(),duration:n.duration,tweens:[],createTween:function(e,n){var i=xt.Tween(t,A.opts,e,n,A.opts.specialEasing[e]||A.opts.easing);return A.tweens.push(i),i},stop:function(e){var n=0,i=e?A.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)A.tweens[n].run(1);return e?(s.notifyWith(t,[A,1,0]),s.resolveWith(t,[A,e])):s.rejectWith(t,[A,e]),this}}),c=A.props;for(K(c,A.opts.specialEasing);o<a;o++)if(i=Q.prefilters[o].call(A,t,c,A.opts))return yt(i.stop)&&(xt._queueHooks(A.elem,A.opts.queue).stop=i.stop.bind(i)),i;return xt.map(c,J,A),yt(A.opts.start)&&A.opts.start.call(t,A),A.progress(A.opts.progress).done(A.opts.done,A.opts.complete).fail(A.opts.fail).always(A.opts.always),xt.fx.timer(xt.extend(l,{elem:t,anim:A,queue:A.opts.queue})),A}function tt(t){return(t.match(Nt)||[]).join(" ")}function et(t){return t.getAttribute&&t.getAttribute("class")||""}function nt(t){return Array.isArray(t)?t:"string"==typeof t?t.match(Nt)||[]:[]}function it(t,e,n,i){var r;if(Array.isArray(e))xt.each(e,function(e,r){n||Be.test(t)?i(t,r):it(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==s(e))i(t,e);else for(r in e)it(t+"["+r+"]",e[r],n,i)}function rt(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(Nt)||[];if(yt(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function ot(t,e,n,i){function r(s){var l;return o[s]=!0,xt.each(t[s]||[],function(t,s){var A=s(e,n,i);return"string"!=typeof A||a||o[A]?a?!(l=A):void 0:(e.dataTypes.unshift(A),r(A),!1)}),l}var o={},a=t===Ze;return r(e.dataTypes[0])||!o["*"]&&r("*")}function at(t,e){var n,i,r=xt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&xt.extend(!0,t,i),t}function st(t,e,n){for(var i,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}function lt(t,e,n,i){var r,o,a,s,l,A={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)A[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=A[l+" "+o]||A["* "+o]))for(r in A)if(s=r.split(" "),s[1]===o&&(a=A[l+" "+s[0]]||A["* "+s[0]])){!0===a?a=A[r]:!0!==A[r]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}var At=[],ct=n.document,ut=Object.getPrototypeOf,Tt=At.slice,Ct=At.concat,ht=At.push,Gt=At.indexOf,ft={},dt=ft.toString,pt=ft.hasOwnProperty,mt=pt.toString,gt=mt.call(Object),vt={},yt=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},bt=function(t){return null!=t&&t===t.window},_t={type:!0,src:!0,noModule:!0},xt=function(t,e){return new xt.fn.init(t,e)},wt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;xt.fn=xt.prototype={jquery:"3.3.1",constructor:xt,length:0,toArray:function(){return Tt.call(this)},get:function(t){return null==t?Tt.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=xt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return xt.each(this,t)},map:function(t){return this.pushStack(xt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(Tt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ht,sort:At.sort,splice:At.splice},xt.extend=xt.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,A=!1;for("boolean"==typeof a&&(A=a,a=arguments[s]||{},s++),"object"==typeof a||yt(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],i=t[e],a!==i&&(A&&i&&(xt.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&xt.isPlainObject(n)?n:{},a[e]=xt.extend(A,o,i)):void 0!==i&&(a[e]=i));return a},xt.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==dt.call(t))&&(!(e=ut(t))||"function"==typeof(n=pt.call(e,"constructor")&&e.constructor)&&mt.call(n)===gt)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){a(t)},each:function(t,e){var n,i=0;if(l(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(wt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(l(Object(t))?xt.merge(n,"string"==typeof t?[t]:t):ht.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:Gt.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,a=!n;r<o;r++)!e(t[r],r)!==a&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,a=[];if(l(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&a.push(r);return Ct.apply([],a)},guid:1,support:vt}),"function"==typeof Symbol&&(xt.fn[Symbol.iterator]=At[Symbol.iterator]),xt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ft["[object "+e+"]"]=e.toLowerCase()});var St=function(t){function e(t,e,n,i){var r,o,a,s,l,c,T,C=e&&e.ownerDocument,h=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==h&&9!==h&&11!==h)return n;if(!i&&((e?e.ownerDocument||e:H)!==M&&O(e),e=e||M,j)){if(11!==h&&(l=Gt.exec(t)))if(r=l[1]){if(9===h){if(!(a=e.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(C&&(a=C.getElementById(r))&&I(e,a)&&a.id===r)return n.push(a),n}else{if(l[2])return J.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&g.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(r)),n}if(g.qsa&&!V[t+" "]&&(!F||!F.test(t))){if(1!==h)C=e,T=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(mt,gt):e.setAttribute("id",s=D),c=_(t),o=c.length;o--;)c[o]="#"+s+" "+u(c[o]);T=c.join(","),C=ft.test(t)&&A(e.parentNode)||e}if(T)try{return J.apply(n,C.querySelectorAll(T)),n}catch(t){}finally{s===D&&e.removeAttribute("id")}}}return w(t.replace(ot,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>v.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[D]=!0,t}function r(t){var e=M.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)v.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&yt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function l(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function A(t){return t&&void 0!==t.getElementsByTagName&&t}function c(){}function u(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function T(t,e,n){var i=e.dir,r=e.next,o=r||i,a=n&&"parentNode"===o,s=L++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,l){var A,c,u,T=[R,s];if(l){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(u=e[D]||(e[D]={}),c=u[e.uniqueID]||(u[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((A=c[o])&&A[0]===R&&A[1]===s)return T[2]=A[2];if(c[o]=T,T[2]=t(e,n,l))return!0}return!1}}function C(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function h(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}function G(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,A=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),A&&e.push(s)));return a}function f(t,e,n,r,o,a){return r&&!r[D]&&(r=f(r)),o&&!o[D]&&(o=f(o,a)),i(function(i,a,s,l){var A,c,u,T=[],C=[],f=a.length,d=i||h(e||"*",s.nodeType?[s]:s,[]),p=!t||!i&&e?d:G(d,T,t,s,l),m=n?o||(i?t:f||r)?[]:a:p;if(n&&n(p,m,s,l),r)for(A=G(m,C),r(A,[],s,l),c=A.length;c--;)(u=A[c])&&(m[C[c]]=!(p[C[c]]=u));if(i){if(o||t){if(o){for(A=[],c=m.length;c--;)(u=m[c])&&A.push(p[c]=u);o(null,m=[],A,l)}for(c=m.length;c--;)(u=m[c])&&(A=o?K(i,u):T[c])>-1&&(i[A]=!(a[A]=u))}}else m=G(m===a?m.splice(f,m.length):m),o?o(null,a,m,l):J.apply(a,m)})}function d(t){for(var e,n,i,r=t.length,o=v.relative[t[0].type],a=o||v.relative[" "],s=o?1:0,l=T(function(t){return t===e},a,!0),A=T(function(t){return K(e,t)>-1},a,!0),c=[function(t,n,i){var r=!o&&(i||n!==S)||((e=n).nodeType?l(t,n,i):A(t,n,i));return e=null,r}];s<r;s++)if(n=v.relative[t[s].type])c=[T(C(c),n)];else{if(n=v.filter[t[s].type].apply(null,t[s].matches),n[D]){for(i=++s;i<r&&!v.relative[t[i].type];i++);return f(s>1&&C(c),s>1&&u(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ot,"$1"),n,s<i&&d(t.slice(s,i)),i<r&&d(t=t.slice(i)),i<r&&u(t))}c.push(n)}return C(c)}function p(t,n){var r=n.length>0,o=t.length>0,a=function(i,a,s,l,A){var c,u,T,C=0,h="0",f=i&&[],d=[],p=S,m=i||o&&v.find.TAG("*",A),g=R+=null==p?1:Math.random()||.1,y=m.length;for(A&&(S=a===M||a||A);h!==y&&null!=(c=m[h]);h++){if(o&&c){for(u=0,a||c.ownerDocument===M||(O(c),s=!j);T=t[u++];)if(T(c,a||M,s)){l.push(c);break}A&&(R=g)}r&&((c=!T&&c)&&C--,i&&f.push(c))}if(C+=h,r&&h!==C){for(u=0;T=n[u++];)T(f,d,a,s);if(i){if(C>0)for(;h--;)f[h]||d[h]||(d[h]=$.call(l));d=G(d)}J.apply(l,d),A&&!i&&d.length>0&&C+n.length>1&&e.uniqueSort(l)}return A&&(R=g,S=p),f};return r?i(a):a}var m,g,v,y,b,_,x,w,S,k,E,O,M,P,j,F,B,N,I,D="sizzle"+1*new Date,H=t.document,R=0,L=0,z=n(),W=n(),V=n(),q=function(t,e){return t===e&&(E=!0),0},U={}.hasOwnProperty,Z=[],$=Z.pop,X=Z.push,J=Z.push,Y=Z.slice,K=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",nt="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",it=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+nt+")*)|.*)\\)|)",rt=new RegExp(tt+"+","g"),ot=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),at=new RegExp("^"+tt+"*,"+tt+"*"),st=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),lt=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),At=new RegExp(it),ct=new RegExp("^"+et+"$"),ut={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+nt),PSEUDO:new RegExp("^"+it),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},Tt=/^(?:input|select|textarea|button)$/i,Ct=/^h\d$/i,ht=/^[^{]+\{\s*\[native \w/,Gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ft=/[+~]/,dt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),pt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},mt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,gt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},vt=function(){O()},yt=T(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{J.apply(Z=Y.call(H.childNodes),H.childNodes),Z[H.childNodes.length].nodeType}catch(t){J={apply:Z.length?function(t,e){X.apply(t,Y.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}g=e.support={},b=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},O=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:H;return i!==M&&9===i.nodeType&&i.documentElement?(M=i,P=M.documentElement,j=!b(M),H!==M&&(n=M.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",vt,!1):n.attachEvent&&n.attachEvent("onunload",vt)),g.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),g.getElementsByTagName=r(function(t){return t.appendChild(M.createComment("")),!t.getElementsByTagName("*").length}),g.getElementsByClassName=ht.test(M.getElementsByClassName),g.getById=r(function(t){return P.appendChild(t).id=D,!M.getElementsByName||!M.getElementsByName(D).length}),g.getById?(v.filter.ID=function(t){var e=t.replace(dt,pt);return function(t){return t.getAttribute("id")===e}},v.find.ID=function(t,e){if(void 0!==e.getElementById&&j){var n=e.getElementById(t);return n?[n]:[]}}):(v.filter.ID=function(t){var e=t.replace(dt,pt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},v.find.ID=function(t,e){if(void 0!==e.getElementById&&j){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),v.find.TAG=g.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):g.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},v.find.CLASS=g.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&j)return e.getElementsByClassName(t)},B=[],F=[],(g.qsa=ht.test(M.querySelectorAll))&&(r(function(t){P.appendChild(t).innerHTML="<a id='"+D+"'></a><select id='"+D+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||F.push("\\["+tt+"*(?:value|"+Q+")"),t.querySelectorAll("[id~="+D+"-]").length||F.push("~="),t.querySelectorAll(":checked").length||F.push(":checked"),t.querySelectorAll("a#"+D+"+*").length||F.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=M.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&F.push("name"+tt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&F.push(":enabled",":disabled"),P.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&F.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),F.push(",.*:")})),(g.matchesSelector=ht.test(N=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&r(function(t){g.disconnectedMatch=N.call(t,"*"),N.call(t,"[s!='']:x"),B.push("!=",it)}),F=F.length&&new RegExp(F.join("|")),B=B.length&&new RegExp(B.join("|")),e=ht.test(P.compareDocumentPosition),I=e||ht.test(P.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=e?function(t,e){if(t===e)return E=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!g.sortDetached&&e.compareDocumentPosition(t)===n?t===M||t.ownerDocument===H&&I(H,t)?-1:e===M||e.ownerDocument===H&&I(H,e)?1:k?K(k,t)-K(k,e):0:4&n?-1:1)}:function(t,e){if(t===e)return E=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],l=[e];if(!r||!o)return t===M?-1:e===M?1:r?-1:o?1:k?K(k,t)-K(k,e):0;if(r===o)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?a(s[i],l[i]):s[i]===H?-1:l[i]===H?1:0},M):M},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==M&&O(t),n=n.replace(lt,"='$1']"),g.matchesSelector&&j&&!V[n+" "]&&(!B||!B.test(n))&&(!F||!F.test(n)))try{var i=N.call(t,n);if(i||g.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,M,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==M&&O(t),I(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==M&&O(t);var n=v.attrHandle[e.toLowerCase()],i=n&&U.call(v.attrHandle,e.toLowerCase())?n(t,e,!j):void 0;return void 0!==i?i:g.attributes||!j?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.escape=function(t){return(t+"").replace(mt,gt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(E=!g.detectDuplicates,k=!g.sortStable&&t.slice(0),t.sort(q),E){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return k=null,t},y=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=y(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=y(e);return n},v=e.selectors={cacheLength:50,createPseudo:i,match:ut,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(dt,pt),t[3]=(t[3]||t[4]||t[5]||"").replace(dt,pt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ut.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&At.test(n)&&(e=_(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(dt,pt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=z[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&z(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(rt," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var A,c,u,T,C,h,G=o!==a?"nextSibling":"previousSibling",f=e.parentNode,d=s&&e.nodeName.toLowerCase(),p=!l&&!s,m=!1;if(f){if(o){for(;G;){for(T=e;T=T[G];)if(s?T.nodeName.toLowerCase()===d:1===T.nodeType)return!1;h=G="only"===t&&!h&&"nextSibling"}return!0}if(h=[a?f.firstChild:f.lastChild],a&&p){for(T=f,u=T[D]||(T[D]={}),c=u[T.uniqueID]||(u[T.uniqueID]={}),A=c[t]||[],C=A[0]===R&&A[1],m=C&&A[2],T=C&&f.childNodes[C];T=++C&&T&&T[G]||(m=C=0)||h.pop();)if(1===T.nodeType&&++m&&T===e){c[t]=[R,C,m];break}}else if(p&&(T=e,u=T[D]||(T[D]={}),c=u[T.uniqueID]||(u[T.uniqueID]={}),A=c[t]||[],C=A[0]===R&&A[1],m=C),!1===m)for(;(T=++C&&T&&T[G]||(m=C=0)||h.pop())&&((s?T.nodeName.toLowerCase()!==d:1!==T.nodeType)||!++m||(p&&(u=T[D]||(T[D]={}),c=u[T.uniqueID]||(u[T.uniqueID]={}),c[t]=[R,m]),T!==e)););return(m-=r)===i||m%i==0&&m/i>=0}}},PSEUDO:function(t,n){var r,o=v.pseudos[t]||v.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[D]?o(n):o.length>1?(r=[t,t,"",n],v.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),a=r.length;a--;)i=K(t,r[a]),t[i]=!(e[i]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=x(t.replace(ot,"$1"));return r[D]?i(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(dt,pt),function(e){return(e.textContent||e.innerText||y(e)).indexOf(t)>-1}}),lang:i(function(t){return ct.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(dt,pt).toLowerCase(),function(e){var n;do{if(n=j?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===P},focus:function(t){return t===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!v.pseudos.empty(t)},header:function(t){return Ct.test(t.nodeName)},input:function(t){return Tt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[n<0?n+e:n]}),even:l(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:l(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},v.pseudos.nth=v.pseudos.eq;for(m in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})v.pseudos[m]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(m);for(m in{submit:!0,reset:!0})v.pseudos[m]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(m);return c.prototype=v.filters=v.pseudos,v.setFilters=new c,_=e.tokenize=function(t,n){var i,r,o,a,s,l,A,c=W[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],A=v.preFilter;s;){i&&!(r=at.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=st.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ot," ")}),s=s.slice(i.length));for(a in v.filter)!(r=ut[a].exec(s))||A[a]&&!(r=A[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):W(t,l).slice(0)},x=e.compile=function(t,e){var n,i=[],r=[],o=V[t+" "];if(!o){for(e||(e=_(t)),n=e.length;n--;)o=d(e[n]),o[D]?i.push(o):r.push(o);o=V(t,p(r,i)),o.selector=t}return o},w=e.select=function(t,e,n,i){var r,o,a,s,l,c="function"==typeof t&&t,T=!i&&_(t=c.selector||t);if(n=n||[],1===T.length){if(o=T[0]=T[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===e.nodeType&&j&&v.relative[o[1].type]){if(!(e=(v.find.ID(a.matches[0].replace(dt,pt),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ut.needsContext.test(t)?0:o.length;r--&&(a=o[r],!v.relative[s=a.type]);)if((l=v.find[s])&&(i=l(a.matches[0].replace(dt,pt),ft.test(o[0].type)&&A(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&u(o)))return J.apply(n,i),n;break}}return(c||x(t,T))(i,e,!j,n,!e||ft.test(t)&&A(e.parentNode)||e),n},g.sortStable=D.split("").sort(q).join("")===D,g.detectDuplicates=!!E,O(),g.sortDetached=r(function(t){return 1&t.compareDocumentPosition(M.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),g.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(Q,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(n);xt.find=St,xt.expr=St.selectors,xt.expr[":"]=xt.expr.pseudos,xt.uniqueSort=xt.unique=St.uniqueSort,xt.text=St.getText,xt.isXMLDoc=St.isXML,xt.contains=St.contains,xt.escapeSelector=St.escape;var kt=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&xt(t).is(n))break;i.push(t)}return i},Et=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Ot=xt.expr.match.needsContext,Mt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;xt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?xt.find.matchesSelector(i,t)?[i]:[]:xt.find.matches(t,xt.grep(e,function(t){return 1===t.nodeType}))},xt.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(xt(t).filter(function(){for(e=0;e<i;e++)if(xt.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)xt.find(t,r[e],n);return i>1?xt.uniqueSort(n):n},filter:function(t){return this.pushStack(c(this,t||[],!1))},not:function(t){return this.pushStack(c(this,t||[],!0))},is:function(t){return!!c(this,"string"==typeof t&&Ot.test(t)?xt(t):t||[],!1).length}});var Pt,jt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(xt.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||Pt,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:jt.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof xt?e[0]:e,xt.merge(this,xt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:ct,!0)),Mt.test(i[1])&&xt.isPlainObject(e))for(i in e)yt(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=ct.getElementById(i[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):yt(t)?void 0!==n.ready?n.ready(t):t(xt):xt.makeArray(t,this)}).prototype=xt.fn,Pt=xt(ct);var Ft=/^(?:parents|prev(?:Until|All))/,Bt={children:!0,contents:!0,next:!0,prev:!0};xt.fn.extend({has:function(t){var e=xt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(xt.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],a="string"!=typeof t&&xt(t);if(!Ot.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&xt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?xt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?Gt.call(xt(t),this[0]):Gt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(xt.uniqueSort(xt.merge(this.get(),xt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),xt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return kt(t,"parentNode")},parentsUntil:function(t,e,n){return kt(t,"parentNode",n)},next:function(t){return u(t,"nextSibling")},prev:function(t){return u(t,"previousSibling")},nextAll:function(t){return kt(t,"nextSibling")},prevAll:function(t){return kt(t,"previousSibling")},nextUntil:function(t,e,n){return kt(t,"nextSibling",n)},prevUntil:function(t,e,n){return kt(t,"previousSibling",n)},siblings:function(t){return Et((t.parentNode||{}).firstChild,t)},children:function(t){return Et(t.firstChild)},contents:function(t){return A(t,"iframe")?t.contentDocument:(A(t,"template")&&(t=t.content||t),xt.merge([],t.childNodes))}},function(t,e){xt.fn[t]=function(n,i){var r=xt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=xt.filter(i,r)),this.length>1&&(Bt[t]||xt.uniqueSort(r),Ft.test(t)&&r.reverse()),this.pushStack(r)}});var Nt=/[^\x20\t\r\n\f]+/g;xt.Callbacks=function(t){t="string"==typeof t?T(t):xt.extend({},t);var e,n,i,r,o=[],a=[],l=-1,A=function(){for(r=r||t.once,i=e=!0;a.length;l=-1)for(n=a.shift();++l<o.length;)!1===o[l].apply(n[0],n[1])&&t.stopOnFalse&&(l=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(l=o.length-1,a.push(n)),function e(n){xt.each(n,function(n,i){yt(i)?t.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==s(i)&&e(i)})}(arguments),n&&!e&&A()),this},remove:function(){return xt.each(arguments,function(t,e){for(var n;(n=xt.inArray(e,o,n))>-1;)o.splice(n,1),n<=l&&l--}),this},has:function(t){return t?xt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],a.push(n),e||A()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},xt.extend({Deferred:function(t){var e=[["notify","progress",xt.Callbacks("memory"),xt.Callbacks("memory"),2],["resolve","done",xt.Callbacks("once memory"),xt.Callbacks("once memory"),0,"resolved"],["reject","fail",xt.Callbacks("once memory"),xt.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return xt.Deferred(function(n){xt.each(e,function(e,i){var r=yt(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&yt(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,i,r){function o(t,e,i,r){return function(){var s=this,l=arguments,A=function(){var n,A;if(!(t<a)){if((n=i.apply(s,l))===e.promise())throw new TypeError("Thenable self-resolution");A=n&&("object"==typeof n||"function"==typeof n)&&n.then,yt(A)?r?A.call(n,o(a,e,C,r),o(a,e,h,r)):(a++,A.call(n,o(a,e,C,r),o(a,e,h,r),o(a,e,C,e.notifyWith))):(i!==C&&(s=void 0,l=[n]),(r||e.resolveWith)(s,l))}},c=r?A:function(){try{A()}catch(n){xt.Deferred.exceptionHook&&xt.Deferred.exceptionHook(n,c.stackTrace),t+1>=a&&(i!==h&&(s=void 0,l=[n]),e.rejectWith(s,l))}};t?c():(xt.Deferred.getStackHook&&(c.stackTrace=xt.Deferred.getStackHook()),n.setTimeout(c))}}var a=0;return xt.Deferred(function(n){e[0][3].add(o(0,n,yt(r)?r:C,n.notifyWith)),e[1][3].add(o(0,n,yt(t)?t:C)),e[2][3].add(o(0,n,yt(i)?i:h))}).promise()},promise:function(t){return null!=t?xt.extend(t,r):r}},o={};return xt.each(e,function(t,n){var a=n[2],s=n[5];r[n[1]]=a.add,s&&a.add(function(){i=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=Tt.call(arguments),o=xt.Deferred(),a=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?Tt.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(G(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||yt(r[n]&&r[n].then)))return o.then();for(;n--;)G(r[n],a(n),o.reject);return o.promise()}});var It=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;xt.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&It.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},xt.readyException=function(t){n.setTimeout(function(){throw t})};var Dt=xt.Deferred();xt.fn.ready=function(t){return Dt.then(t).catch(function(t){xt.readyException(t)}),this},xt.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--xt.readyWait:xt.isReady)||(xt.isReady=!0,!0!==t&&--xt.readyWait>0||Dt.resolveWith(ct,[xt]))}}),xt.ready.then=Dt.then,"complete"===ct.readyState||"loading"!==ct.readyState&&!ct.documentElement.doScroll?n.setTimeout(xt.ready):(ct.addEventListener("DOMContentLoaded",f),n.addEventListener("load",f));var Ht=function(t,e,n,i,r,o,a){var l=0,A=t.length,c=null==n;if("object"===s(n)){r=!0;for(l in n)Ht(t,e,l,n[l],!0,o,a)}else if(void 0!==i&&(r=!0,yt(i)||(a=!0),c&&(a?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(xt(t),n)})),e))for(;l<A;l++)e(t[l],n,a?i:i.call(t[l],l,e(t[l],n)));return r?t:c?e.call(t):A?e(t[0],n):o},Rt=/^-ms-/,Lt=/-([a-z])/g,zt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};m.uid=1,m.prototype={cache:function(t){var e=t[this.expando];return e||(e={},zt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[p(e)]=n;else for(i in e)r[p(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][p(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){Array.isArray(e)?e=e.map(p):(e=p(e),e=e in i?[e]:e.match(Nt)||[]),n=e.length;for(;n--;)delete i[e[n]]}(void 0===e||xt.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!xt.isEmptyObject(e)}};var Wt=new m,Vt=new m,qt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ut=/[A-Z]/g;xt.extend({hasData:function(t){return Vt.hasData(t)||Wt.hasData(t)},data:function(t,e,n){return Vt.access(t,e,n)},removeData:function(t,e){Vt.remove(t,e)},_data:function(t,e,n){return Wt.access(t,e,n)},_removeData:function(t,e){Wt.remove(t,e)}}),xt.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=Vt.get(o),1===o.nodeType&&!Wt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=p(i.slice(5)),v(o,i,r[i])));Wt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Vt.set(this,t)}):Ht(this,function(e){var n;if(o&&void 0===e){if(void 0!==(n=Vt.get(o,t)))return n;if(void 0!==(n=v(o,t)))return n}else this.each(function(){Vt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Vt.remove(this,t)})}}),xt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Wt.get(t,e),n&&(!i||Array.isArray(n)?i=Wt.access(t,e,xt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=xt.queue(t,e),i=n.length,r=n.shift(),o=xt._queueHooks(t,e),a=function(){xt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Wt.get(t,n)||Wt.access(t,n,{empty:xt.Callbacks("once memory").add(function(){Wt.remove(t,[e+"queue",n])})})}}),xt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?xt.queue(this[0],t):void 0===e?this:this.each(function(){var n=xt.queue(this,t,e);xt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&xt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){xt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=xt.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=Wt.get(o[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var Zt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$t=new RegExp("^(?:([+-])=|)("+Zt+")([a-z%]*)$","i"),Xt=["Top","Right","Bottom","Left"],Jt=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&xt.contains(t.ownerDocument,t)&&"none"===xt.css(t,"display")},Yt=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=a[o];return r},Kt={};xt.fn.extend({show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Jt(this)?xt(this).show():xt(this).hide()})}});var Qt=/^(?:checkbox|radio)$/i,te=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ee=/^$|^module$|\/(?:java|ecma)script/i,ne={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ne.optgroup=ne.option,ne.tbody=ne.tfoot=ne.colgroup=ne.caption=ne.thead,ne.th=ne.td;var ie=/<|&#?\w+;/;!function(){var t=ct.createDocumentFragment(),e=t.appendChild(ct.createElement("div")),n=ct.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),vt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",vt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var re=ct.documentElement,oe=/^key/,ae=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,se=/^([^.]*)(?:\.(.+)|)/;xt.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,A,c,u,T,C,h,G,f=Wt.get(t);if(f)for(n.handler&&(o=n,n=o.handler,r=o.selector),r&&xt.find.matchesSelector(re,r),n.guid||(n.guid=xt.guid++),(l=f.events)||(l=f.events={}),(a=f.handle)||(a=f.handle=function(e){return void 0!==xt&&xt.event.triggered!==e.type?xt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Nt)||[""],A=e.length;A--;)s=se.exec(e[A])||[],C=G=s[1],h=(s[2]||"").split(".").sort(),C&&(u=xt.event.special[C]||{},C=(r?u.delegateType:u.bindType)||C,u=xt.event.special[C]||{},c=xt.extend({type:C,origType:G,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&xt.expr.match.needsContext.test(r),namespace:h.join(".")},o),(T=l[C])||(T=l[C]=[],T.delegateCount=0,u.setup&&!1!==u.setup.call(t,i,h,a)||t.addEventListener&&t.addEventListener(C,a)),u.add&&(u.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?T.splice(T.delegateCount++,0,c):T.push(c),xt.event.global[C]=!0)},remove:function(t,e,n,i,r){var o,a,s,l,A,c,u,T,C,h,G,f=Wt.hasData(t)&&Wt.get(t);if(f&&(l=f.events)){for(e=(e||"").match(Nt)||[""],A=e.length;A--;)if(s=se.exec(e[A])||[],C=G=s[1],h=(s[2]||"").split(".").sort(),C){for(u=xt.event.special[C]||{},C=(i?u.delegateType:u.bindType)||C,T=l[C]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=T.length;o--;)c=T[o],!r&&G!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(T.splice(o,1),c.selector&&T.delegateCount--,u.remove&&u.remove.call(t,c));a&&!T.length&&(u.teardown&&!1!==u.teardown.call(t,h,f.handle)||xt.removeEvent(t,C,f.handle),delete l[C])}else for(C in l)xt.event.remove(t,C+e[A],n,i,!0);xt.isEmptyObject(l)&&Wt.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,a,s=xt.event.fix(t),l=new Array(arguments.length),A=(Wt.get(this,"events")||{})[s.type]||[],c=xt.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=xt.event.handlers.call(this,s,A),e=0;(r=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(i=((xt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,i,r,o,a,s=[],l=e.delegateCount,A=t.target;if(l&&A.nodeType&&!("click"===t.type&&t.button>=1))for(;A!==this;A=A.parentNode||this)if(1===A.nodeType&&("click"!==t.type||!0!==A.disabled)){for(o=[],a={},n=0;n<l;n++)i=e[n],r=i.selector+" ",void 0===a[r]&&(a[r]=i.needsContext?xt(r,this).index(A)>-1:xt.find(r,this,null,[A]).length),a[r]&&o.push(i);o.length&&s.push({elem:A,handlers:o})}return A=this,l<e.length&&s.push({elem:A,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(xt.Event.prototype,t,{enumerable:!0,configurable:!0,get:yt(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[xt.expando]?t:new xt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==O()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===O()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&A(this,"input"))return this.click(),!1},_default:function(t){return A(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},xt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},xt.Event=function(t,e){if(!(this instanceof xt.Event))return new xt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?k:E,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&xt.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[xt.expando]=!0},xt.Event.prototype={constructor:xt.Event,isDefaultPrevented:E,isPropagationStopped:E,isImmediatePropagationStopped:E,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=k,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=k,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=k,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},xt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&oe.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&ae.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},xt.event.addProp),xt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){xt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||xt.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),xt.fn.extend({on:function(t,e,n,i){return M(this,t,e,n,i)},one:function(t,e,n,i){return M(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,xt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=E),this.each(function(){xt.event.remove(this,t,n,e)})}});var le=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ae=/<script|<style|<link/i,ce=/checked\s*(?:[^=]|=\s*.checked.)/i,ue=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;xt.extend({htmlPrefilter:function(t){return t.replace(le,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s=t.cloneNode(!0),l=xt.contains(t.ownerDocument,t);if(!(vt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||xt.isXMLDoc(t)))for(a=x(s),o=x(t),i=0,r=o.length;i<r;i++)N(o[i],a[i]);if(e)if(n)for(o=o||x(t),a=a||x(s),i=0,r=o.length;i<r;i++)B(o[i],a[i]);else B(t,s);return a=x(s,"script"),a.length>0&&w(a,!l&&x(t,"script")),s},cleanData:function(t){for(var e,n,i,r=xt.event.special,o=0;void 0!==(n=t[o]);o++)if(zt(n)){if(e=n[Wt.expando]){if(e.events)for(i in e.events)r[i]?xt.event.remove(n,i):xt.removeEvent(n,i,e.handle);n[Wt.expando]=void 0}n[Vt.expando]&&(n[Vt.expando]=void 0)}}}),xt.fn.extend({detach:function(t){return D(this,t,!0)},remove:function(t){return D(this,t)},text:function(t){return Ht(this,function(t){return void 0===t?xt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return I(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){P(this,t).appendChild(t)}})},prepend:function(){return I(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=P(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return I(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return I(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(xt.cleanData(x(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return xt.clone(this,t,e)})},html:function(t){return Ht(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ae.test(t)&&!ne[(te.exec(t)||["",""])[1].toLowerCase()]){t=xt.htmlPrefilter(t);try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(xt.cleanData(x(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return I(this,arguments,function(e){var n=this.parentNode;xt.inArray(this,t)<0&&(xt.cleanData(x(this)),n&&n.replaceChild(e,this))},t)}}),xt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){xt.fn[t]=function(t){for(var n,i=[],r=xt(t),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),xt(r[a])[e](n),ht.apply(i,n.get());return this.pushStack(i)}});var Te=new RegExp("^("+Zt+")(?!px)[a-z%]+$","i"),Ce=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},he=new RegExp(Xt.join("|"),"i");!function(){function t(){if(A){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",A.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(l).appendChild(A);var t=n.getComputedStyle(A);i="1%"!==t.top,s=12===e(t.marginLeft),A.style.right="60%",a=36===e(t.right),r=36===e(t.width),A.style.position="absolute",o=36===A.offsetWidth||"absolute",re.removeChild(l),A=null}}function e(t){return Math.round(parseFloat(t))}var i,r,o,a,s,l=ct.createElement("div"),A=ct.createElement("div");A.style&&(A.style.backgroundClip="content-box",A.cloneNode(!0).style.backgroundClip="",vt.clearCloneStyle="content-box"===A.style.backgroundClip,xt.extend(vt,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),s},scrollboxSize:function(){return t(),o}}))}();var Ge=/^(none|table(?!-c[ea]).+)/,fe=/^--/,de={position:"absolute",visibility:"hidden",display:"block"},pe={letterSpacing:"0",fontWeight:"400"},me=["Webkit","Moz","ms"],ge=ct.createElement("div").style;xt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=H(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=p(e),l=fe.test(e),A=t.style;if(l||(e=z(s)),a=xt.cssHooks[e]||xt.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:A[e];o=typeof n,"string"===o&&(r=$t.exec(n))&&r[1]&&(n=y(t,e,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(xt.cssNumber[s]?"":"px")),vt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(A[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(l?A.setProperty(e,n):A[e]=n))}},css:function(t,e,n,i){var r,o,a,s=p(e);return fe.test(e)||(e=z(s)),a=xt.cssHooks[e]||xt.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=H(t,e,i)),"normal"===r&&e in pe&&(r=pe[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),xt.each(["height","width"],function(t,e){xt.cssHooks[e]={get:function(t,n,i){if(n)return!Ge.test(xt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?q(t,e,i):Yt(t,de,function(){return q(t,e,i)})},set:function(t,n,i){var r,o=Ce(t),a="border-box"===xt.css(t,"boxSizing",!1,o),s=i&&V(t,e,i,a,o);return a&&vt.scrollboxSize()===o.position&&(s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-V(t,e,"border",!1,o)-.5)),s&&(r=$t.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=xt.css(t,e)),W(t,n,s)}}}),xt.cssHooks.marginLeft=R(vt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(H(t,"marginLeft"))||t.getBoundingClientRect().left-Yt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),xt.each({margin:"",padding:"",border:"Width"},function(t,e){xt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+Xt[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(xt.cssHooks[t+e].set=W)}),xt.fn.extend({css:function(t,e){return Ht(this,function(t,e,n){var i,r,o={},a=0;if(Array.isArray(e)){for(i=Ce(t),r=e.length;a<r;a++)o[e[a]]=xt.css(t,e[a],!1,i);return o}return void 0!==n?xt.style(t,e,n):xt.css(t,e)},t,e,arguments.length>1)}}),xt.Tween=U,U.prototype={constructor:U,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||xt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(xt.cssNumber[n]?"":"px")},cur:function(){var t=U.propHooks[this.prop];return t&&t.get?t.get(this):U.propHooks._default.get(this)},run:function(t){var e,n=U.propHooks[this.prop];return this.options.duration?this.pos=e=xt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=xt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){xt.fx.step[t.prop]?xt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[xt.cssProps[t.prop]]&&!xt.cssHooks[t.prop]?t.elem[t.prop]=t.now:xt.style(t.elem,t.prop,t.now+t.unit)}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},xt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},xt.fx=U.prototype.init,xt.fx.step={};var ve,ye,be=/^(?:toggle|show|hide)$/,_e=/queueHooks$/;xt.Animation=xt.extend(Q,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return y(n.elem,t,$t.exec(e),n),n}]},tweener:function(t,e){yt(t)?(e=t,t=["*"]):t=t.match(Nt);for(var n,i=0,r=t.length;i<r;i++)n=t[i],Q.tweeners[n]=Q.tweeners[n]||[],Q.tweeners[n].unshift(e)},prefilters:[Y],prefilter:function(t,e){e?Q.prefilters.unshift(t):Q.prefilters.push(t)}}),xt.speed=function(t,e,n){var i=t&&"object"==typeof t?xt.extend({},t):{complete:n||!n&&e||yt(t)&&t,duration:t,easing:n&&e||e&&!yt(e)&&e};return xt.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in xt.fx.speeds?i.duration=xt.fx.speeds[i.duration]:i.duration=xt.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){yt(i.old)&&i.old.call(this),i.queue&&xt.dequeue(this,i.queue)},i},xt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Jt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=xt.isEmptyObject(t),o=xt.speed(e,n,i),a=function(){var e=Q(this,xt.extend({},t),o);(r||Wt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=xt.timers,a=Wt.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&_e.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||xt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Wt.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=xt.timers,a=i?i.length:0;for(n.finish=!0,xt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),xt.each(["toggle","show","hide"],function(t,e){var n=xt.fn[e];xt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(X(e,!0),t,i,r)}}),xt.each({slideDown:X("show"),slideUp:X("hide"),slideToggle:X("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){xt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),xt.timers=[],xt.fx.tick=function(){var t,e=0,n=xt.timers;for(ve=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||xt.fx.stop(),ve=void 0},xt.fx.timer=function(t){xt.timers.push(t),xt.fx.start()},xt.fx.interval=13,xt.fx.start=function(){ye||(ye=!0,Z())},xt.fx.stop=function(){ye=null},xt.fx.speeds={slow:600,fast:200,_default:400},xt.fn.delay=function(t,e){return t=xt.fx?xt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=ct.createElement("input"),e=ct.createElement("select"),n=e.appendChild(ct.createElement("option"));t.type="checkbox",vt.checkOn=""!==t.value,vt.optSelected=n.selected,t=ct.createElement("input"),t.value="t",t.type="radio",vt.radioValue="t"===t.value}();var xe,we=xt.expr.attrHandle;xt.fn.extend({attr:function(t,e){return Ht(this,xt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){xt.removeAttr(this,t)})}}),xt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?xt.prop(t,e,n):(1===o&&xt.isXMLDoc(t)||(r=xt.attrHooks[e.toLowerCase()]||(xt.expr.match.bool.test(e)?xe:void 0)),void 0!==n?null===n?void xt.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=xt.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!vt.radioValue&&"radio"===e&&A(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(Nt);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),xe={set:function(t,e,n){return!1===e?xt.removeAttr(t,n):t.setAttribute(n,n),n}},xt.each(xt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=we[e]||xt.find.attr;we[e]=function(t,e,i){var r,o,a=e.toLowerCase();return i||(o=we[a],we[a]=r,r=null!=n(t,e,i)?a:null,we[a]=o),r}});var Se=/^(?:input|select|textarea|button)$/i,ke=/^(?:a|area)$/i;xt.fn.extend({prop:function(t,e){return Ht(this,xt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[xt.propFix[t]||t]})}}),xt.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&xt.isXMLDoc(t)||(e=xt.propFix[e]||e,r=xt.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=xt.find.attr(t,"tabindex");return e?parseInt(e,10):Se.test(t.nodeName)||ke.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),vt.optSelected||(xt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),xt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){xt.propFix[this.toLowerCase()]=this}),xt.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,l=0;if(yt(t))return this.each(function(e){xt(this).addClass(t.call(this,e,et(this)))});if(e=nt(t),e.length)for(;n=this[l++];)if(r=et(n),i=1===n.nodeType&&" "+tt(r)+" "){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=tt(i),r!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,l=0;if(yt(t))return this.each(function(e){xt(this).removeClass(t.call(this,e,et(this)))});if(!arguments.length)return this.attr("class","");if(e=nt(t),e.length)for(;n=this[l++];)if(r=et(n),i=1===n.nodeType&&" "+tt(r)+" "){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=tt(i),r!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):yt(t)?this.each(function(n){xt(this).toggleClass(t.call(this,n,et(this),e),e)}):this.each(function(){var e,r,o,a;if(i)for(r=0,o=xt(this),a=nt(t);e=a[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||(e=et(this),e&&Wt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Wt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+tt(et(n))+" ").indexOf(e)>-1)return!0;return!1}});var Ee=/\r/g;xt.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=yt(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,xt(this).val()):t,null==r?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=xt.map(r,function(t){return null==t?"":t+""})),(e=xt.valHooks[this.type]||xt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return(e=xt.valHooks[r.type]||xt.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(Ee,""):null==n?"":n)}}}),xt.extend({valHooks:{option:{get:function(t){var e=xt.find.attr(t,"value");return null!=e?e:tt(xt.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?o+1:r.length;for(i=o<0?l:a?o:0;i<l;i++)if(n=r[i],(n.selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(e=xt(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=xt.makeArray(e),a=r.length;a--;)i=r[a],(i.selected=xt.inArray(xt.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),xt.each(["radio","checkbox"],function(){xt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=xt.inArray(xt(t).val(),e)>-1}},vt.checkOn||(xt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),vt.focusin="onfocusin"in n;var Oe=/^(?:focusinfocus|focusoutblur)$/,Me=function(t){t.stopPropagation()};xt.extend(xt.event,{trigger:function(t,e,i,r){var o,a,s,l,A,c,u,T,C=[i||ct],h=pt.call(t,"type")?t.type:t,G=pt.call(t,"namespace")?t.namespace.split("."):[];if(a=T=s=i=i||ct,3!==i.nodeType&&8!==i.nodeType&&!Oe.test(h+xt.event.triggered)&&(h.indexOf(".")>-1&&(G=h.split("."),h=G.shift(),G.sort()),A=h.indexOf(":")<0&&"on"+h,t=t[xt.expando]?t:new xt.Event(h,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=G.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+G.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:xt.makeArray(e,[t]),u=xt.event.special[h]||{},r||!u.trigger||!1!==u.trigger.apply(i,e))){if(!r&&!u.noBubble&&!bt(i)){for(l=u.delegateType||h,Oe.test(l+h)||(a=a.parentNode);a;a=a.parentNode)C.push(a),s=a;s===(i.ownerDocument||ct)&&C.push(s.defaultView||s.parentWindow||n)}for(o=0;(a=C[o++])&&!t.isPropagationStopped();)T=a,t.type=o>1?l:u.bindType||h,c=(Wt.get(a,"events")||{})[t.type]&&Wt.get(a,"handle"),c&&c.apply(a,e),(c=A&&a[A])&&c.apply&&zt(a)&&(t.result=c.apply(a,e),!1===t.result&&t.preventDefault());return t.type=h,r||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(C.pop(),e)||!zt(i)||A&&yt(i[h])&&!bt(i)&&(s=i[A],s&&(i[A]=null),xt.event.triggered=h,t.isPropagationStopped()&&T.addEventListener(h,Me),i[h](),t.isPropagationStopped()&&T.removeEventListener(h,Me),xt.event.triggered=void 0,s&&(i[A]=s)),t.result}},simulate:function(t,e,n){var i=xt.extend(new xt.Event,n,{type:t,isSimulated:!0});xt.event.trigger(i,null,e)}}),xt.fn.extend({trigger:function(t,e){return this.each(function(){xt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return xt.event.trigger(t,e,n,!0)}}),vt.focusin||xt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){xt.event.simulate(e,t.target,xt.event.fix(t))};xt.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Wt.access(i,e);r||i.addEventListener(t,n,!0),Wt.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Wt.access(i,e)-1;r?Wt.access(i,e,r):(i.removeEventListener(t,n,!0),Wt.remove(i,e))}}});var Pe=n.location,je=Date.now(),Fe=/\?/;xt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||xt.error("Invalid XML: "+t),e};var Be=/\[\]$/,Ne=/\r?\n/g,Ie=/^(?:submit|button|image|reset|file)$/i,De=/^(?:input|select|textarea|keygen)/i;xt.param=function(t,e){var n,i=[],r=function(t,e){var n=yt(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!xt.isPlainObject(t))xt.each(t,function(){r(this.name,this.value)});else for(n in t)it(n,t[n],e,r);return i.join("&")},xt.fn.extend({serialize:function(){return xt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=xt.prop(this,"elements");return t?xt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!xt(this).is(":disabled")&&De.test(this.nodeName)&&!Ie.test(t)&&(this.checked||!Qt.test(t))}).map(function(t,e){var n=xt(this).val();return null==n?null:Array.isArray(n)?xt.map(n,function(t){return{name:e.name,value:t.replace(Ne,"\r\n")}}):{name:e.name,value:n.replace(Ne,"\r\n")}}).get()}});var He=/%20/g,Re=/#.*$/,Le=/([?&])_=[^&]*/,ze=/^(.*?):[ \t]*([^\r\n]*)$/gm,We=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ve=/^(?:GET|HEAD)$/,qe=/^\/\//,Ue={},Ze={},$e="*/".concat("*"),Xe=ct.createElement("a");Xe.href=Pe.href,xt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pe.href,type:"GET",isLocal:We.test(Pe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$e,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":xt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?at(at(t,xt.ajaxSettings),e):at(xt.ajaxSettings,t)},ajaxPrefilter:rt(Ue),ajaxTransport:rt(Ze),ajax:function(t,e){function i(t,e,i,s){var A,T,C,g,v,y=e;c||(c=!0,l&&n.clearTimeout(l),r=void 0,a=s||"",b.readyState=t>0?4:0,A=t>=200&&t<300||304===t,i&&(g=st(h,b,i)),g=lt(h,g,b,A),A?(h.ifModified&&(v=b.getResponseHeader("Last-Modified"),v&&(xt.lastModified[o]=v),(v=b.getResponseHeader("etag"))&&(xt.etag[o]=v)),204===t||"HEAD"===h.type?y="nocontent":304===t?y="notmodified":(y=g.state,T=g.data,C=g.error,A=!C)):(C=y,!t&&y||(y="error",t<0&&(t=0))),b.status=t,b.statusText=(e||y)+"",A?d.resolveWith(G,[T,y,b]):d.rejectWith(G,[b,y,C]),b.statusCode(m),m=void 0,u&&f.trigger(A?"ajaxSuccess":"ajaxError",[b,h,A?T:C]),p.fireWith(G,[b,y]),u&&(f.trigger("ajaxComplete",[b,h]),--xt.active||xt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,o,a,s,l,A,c,u,T,C,h=xt.ajaxSetup({},e),G=h.context||h,f=h.context&&(G.nodeType||G.jquery)?xt(G):xt.event,d=xt.Deferred(),p=xt.Callbacks("once memory"),m=h.statusCode||{},g={},v={},y="canceled",b={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=ze.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){return null==c&&(t=v[t.toLowerCase()]=v[t.toLowerCase()]||t,g[t]=e),this},overrideMimeType:function(t){return null==c&&(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)b.always(t[b.status]);else for(e in t)m[e]=[m[e],t[e]];return this},abort:function(t){var e=t||y;return r&&r.abort(e),i(0,e),this}};if(d.promise(b),h.url=((t||h.url||Pe.href)+"").replace(qe,Pe.protocol+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(Nt)||[""],null==h.crossDomain){A=ct.createElement("a");try{A.href=h.url,A.href=A.href,h.crossDomain=Xe.protocol+"//"+Xe.host!=A.protocol+"//"+A.host}catch(t){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=xt.param(h.data,h.traditional)),ot(Ue,h,e,b),c)return b;u=xt.event&&h.global,u&&0==xt.active++&&xt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ve.test(h.type),o=h.url.replace(Re,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(He,"+")):(C=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(Fe.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Le,"$1"),C=(Fe.test(o)?"&":"?")+"_="+je+++C),h.url=o+C),h.ifModified&&(xt.lastModified[o]&&b.setRequestHeader("If-Modified-Since",xt.lastModified[o]),xt.etag[o]&&b.setRequestHeader("If-None-Match",xt.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||e.contentType)&&b.setRequestHeader("Content-Type",h.contentType),b.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+$e+"; q=0.01":""):h.accepts["*"]);for(T in h.headers)b.setRequestHeader(T,h.headers[T]);if(h.beforeSend&&(!1===h.beforeSend.call(G,b,h)||c))return b.abort();if(y="abort",p.add(h.complete),b.done(h.success),b.fail(h.error),r=ot(Ze,h,e,b)){if(b.readyState=1,u&&f.trigger("ajaxSend",[b,h]),c)return b;h.async&&h.timeout>0&&(l=n.setTimeout(function(){b.abort("timeout")},h.timeout));try{c=!1,r.send(g,i)}catch(t){if(c)throw t;i(-1,t)}}else i(-1,"No Transport");return b},getJSON:function(t,e,n){return xt.get(t,e,n,"json")},getScript:function(t,e){return xt.get(t,void 0,e,"script")}}),xt.each(["get","post"],function(t,e){xt[e]=function(t,n,i,r){return yt(n)&&(r=r||i,i=n,n=void 0),xt.ajax(xt.extend({url:t,type:e,dataType:r,data:n,success:i},xt.isPlainObject(t)&&t))}}),xt._evalUrl=function(t){return xt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},xt.fn.extend({wrapAll:function(t){var e;return this[0]&&(yt(t)&&(t=t.call(this[0])),e=xt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return yt(t)?this.each(function(e){xt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=xt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=yt(t);return this.each(function(n){xt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){xt(this).replaceWith(this.childNodes)}),this}}),xt.expr.pseudos.hidden=function(t){return!xt.expr.pseudos.visible(t)},xt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},xt.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Je={0:200,1223:204},Ye=xt.ajaxSettings.xhr();vt.cors=!!Ye&&"withCredentials"in Ye,vt.ajax=Ye=!!Ye,xt.ajaxTransport(function(t){var e,i;if(vt.cors||Ye&&!t.crossDomain)return{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)s.setRequestHeader(a,r[a]);e=function(t){return function(){e&&(e=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Je[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),i=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),xt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),xt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return xt.globalEval(t),t}}}),xt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),xt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=xt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),ct.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Ke=[],Qe=/(=)\?(?=&|$)|\?\?/;xt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ke.pop()||xt.expando+"_"+je++;return this[t]=!0,t}}),xt.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,a,s=!1!==t.jsonp&&(Qe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qe.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=yt(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Qe,"$1"+r):!1!==t.jsonp&&(t.url+=(Fe.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||xt.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){a=arguments},i.always(function(){void 0===o?xt(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ke.push(r)),a&&yt(o)&&o(a[0]),a=o=void 0}),"script"}),vt.createHTMLDocument=function(){var t=ct.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),xt.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var i,r,o;return e||(vt.createHTMLDocument?(e=ct.implementation.createHTMLDocument(""),i=e.createElement("base"),i.href=ct.location.href,e.head.appendChild(i)):e=ct),r=Mt.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=S([t],e,o),o&&o.length&&xt(o).remove(),xt.merge([],r.childNodes))},xt.fn.load=function(t,e,n){var i,r,o,a=this,s=t.indexOf(" ");return s>-1&&(i=tt(t.slice(s)),t=t.slice(0,s)),yt(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&xt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?xt("<div>").append(xt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},xt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){xt.fn[e]=function(t){return this.on(e,t)}}),xt.expr.pseudos.animated=function(t){return xt.grep(xt.timers,function(e){return t===e.elem}).length},xt.offset={setOffset:function(t,e,n){var i,r,o,a,s,l,A,c=xt.css(t,"position"),u=xt(t),T={};"static"===c&&(t.style.position="relative"),s=u.offset(),o=xt.css(t,"top"),l=xt.css(t,"left"),A=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,A?(i=u.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),yt(e)&&(e=e.call(t,n,xt.extend({},s))),null!=e.top&&(T.top=e.top-s.top+a),null!=e.left&&(T.left=e.left-s.left+r),"using"in e?e.using.call(t,T):u.css(T)}},xt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){xt.offset.setOffset(this,t,e)});var e,n,i=this[0];if(i)return i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===xt.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===xt.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&(r=xt(t).offset(),r.top+=xt.css(t,"borderTopWidth",!0),r.left+=xt.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-xt.css(i,"marginTop",!0),left:e.left-r.left-xt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===xt.css(t,"position");)t=t.offsetParent;return t||re})}}),xt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;xt.fn[t]=function(i){return Ht(this,function(t,i,r){var o;if(bt(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),xt.each(["top","left"],function(t,e){xt.cssHooks[e]=R(vt.pixelPosition,function(t,n){if(n)return n=H(t,e),Te.test(n)?xt(t).position()[e]+"px":n})}),xt.each({Height:"height",Width:"width"},function(t,e){xt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){xt.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return Ht(this,function(e,n,r){var o;return bt(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?xt.css(e,n,s):xt.style(e,n,r,s)},e,a?r:void 0,a)}})}),xt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){xt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),xt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),xt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),xt.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),yt(t))return i=Tt.call(arguments,2),r=function(){return t.apply(e||this,i.concat(Tt.call(arguments)))},r.guid=t.guid=t.guid||xt.guid++,r},xt.holdReady=function(t){t?xt.readyWait++:xt.ready(!0)},xt.isArray=Array.isArray,xt.parseJSON=JSON.parse,xt.nodeName=A,xt.isFunction=yt,xt.isWindow=bt,xt.camelCase=p,xt.type=s,xt.now=Date.now,xt.isNumeric=function(t){var e=xt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},i=[],void 0!==(r=function(){return xt}.apply(e,i))&&(t.exports=r);var tn=n.jQuery,en=n.$;return xt.noConflict=function(t){return n.$===xt&&(n.$=en),t&&n.jQuery===xt&&(n.jQuery=tn),xt},o||(n.jQuery=n.$=xt),xt})},function(t,e,n){var i=n(20),r=n(6)("toStringTag"),o="Arguments"==i(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),r))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var i=n(20);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){t.exports=n(386),t.exports.color=n(385)},function(t,e,n){var i=n(18),r=n(9),o=n(45);t.exports=function(t){return function(e,n,a){var s,l=i(e),A=r(l.length),c=o(a,A);if(t&&n!=n){for(;A>c;)if((s=l[c++])!=s)return!0}else for(;A>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){"use strict";var i=n(2),r=n(0),o=n(13),a=n(43),s=n(35),l=n(38),A=n(37),c=n(4),u=n(3),T=n(63),C=n(49),h=n(83);t.exports=function(t,e,n,G,f,d){var p=i[t],m=p,g=f?"set":"add",v=m&&m.prototype,y={},b=function(t){var e=v[t];o(v,t,"delete"==t?function(t){return!(d&&!c(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(d&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return d&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof m&&(d||v.forEach&&!u(function(){(new m).entries().next()}))){var _=new m,x=_[g](d?{}:-0,1)!=_,w=u(function(){_.has(1)}),S=T(function(t){new m(t)}),k=!d&&u(function(){for(var t=new m,e=5;e--;)t[g](e,e);return!t.has(-0)});S||(m=e(function(e,n){A(e,m,t);var i=h(new p,e,m);return void 0!=n&&l(n,f,i[g],i),i}),m.prototype=v,v.constructor=m),(w||k)&&(b("delete"),b("has"),f&&b("get")),(k||x)&&b(g),d&&v.clear&&delete v.clear}else m=G.getConstructor(e,t,f,g),a(m.prototype,n),s.NEED=!0;return C(m,t),y[t]=m,r(r.G+r.W+r.F*(m!=p),y),d||G.setStrong(m,t,f),m}},function(t,e,n){"use strict";var i=n(12),r=n(13),o=n(3),a=n(25),s=n(6);t.exports=function(t,e,n){var l=s(t),A=n(a,l,""[t]),c=A[0],u=A[1];o(function(){var e={};return e[l]=function(){return 7},7!=""[t](e)})&&(r(String.prototype,t,c),i(RegExp.prototype,l,2==e?function(t,e){return u.call(t,this,e)}:function(t){return u.call(t,this)}))}},function(t,e,n){"use strict";var i=n(1);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var i=n(20);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(4),r=n(20),o=n(6)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},function(t,e,n){var i=n(6)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){"use strict";t.exports=n(34)||!n(3)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(2)[t]})},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";var i=n(0),r=n(11),o=n(22),a=n(38);t.exports=function(t){i(i.S,t,{from:function(t){var e,n,i,s,l=arguments[1];return r(this),e=void 0!==l,e&&r(l),void 0==t?new this:(n=[],e?(i=0,s=o(l,arguments[2],2),a(t,!1,function(t){n.push(s(t,i++))})):a(t,!1,n.push,n),new this(n))}})}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){var i=n(21),r=n(2),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(34)?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var i=n(1),r=n(11),o=n(6)("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||void 0==(n=i(a)[o])?e:r(n)}},function(t,e,n){for(var i,r=n(2),o=n(12),a=n(46),s=a("typed_array"),l=a("view"),A=!(!r.ArrayBuffer||!r.DataView),c=A,u=0,T="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");u<9;)(i=r[T[u++]])?(o(i.prototype,s,!0),o(i.prototype,l,!0)):c=!1;t.exports={ABV:A,CONSTR:c,TYPED:s,VIEW:l}},function(t,e,n){var i=n(2),r=i.navigator;t.exports=r&&r.userAgent||""},function(t,e,n){t.exports={ParentEndpoint:n(155),getIFrameEndpoint:n(154),structuredClone:n(104),IframePhoneRpcEndpoint:n(393)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(5),A=i(l),c=n(19),u=i(c),T=n(56),C=(i(T),function(t){function e(t){function n(t,e,n,r){var o=r?r[0].toUpperCase()+r.substr(1):"";return i.add.text(t,e,n+o,T)}var i=t.game,a=(t.x,t.y,t.showStart),s=t.showTarget;r(this,e);var l=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));l.game=i,l.alpha=1,l.x=u.default.SAFE_ZONE_WIDTH-110,l.y=-115,l.h=.1,l.s=.1,l.v=.1,l.drake_sprite=i.make.sprite(0,0,"red_drake"),l.shine_sprite=i.make.sprite(0,0,"shine_drake");var A=i.cellModel.getGeneticColorName(),c=i.numInitialStars;c&&(0==parseInt(c)?A="frost":parseInt(c)<23&&(A="lava"));var T={font:"24px yanone_kaffeesatzlight",fill:"#fff",boundsAlignH:"center"},C=i.add.text(0,260,"Current color",T);C.setShadow(1,1,"rgba(0,0,0,0.8)",1),C.anchor.set(.5,0);var h=i.add.sprite(0,40,"chromoscope_circle02");if(h.anchor.set(.5,0),h.width=h.height=220,l.currentColorBmd=i.make.bitmapData(128,128),l.currentColorSwatch=i.add.sprite(0,0,l.currentColorBmd),l.currentColorSwatch.width=128,l.currentColorSwatch.height=128,l.currentColorSwatch.x=5,l.currentColorSwatch.y=h.y+40,l.currentColorSwatch.anchor.set(.5,0),l.currentColorShineBmd=i.make.bitmapData(128,128),l.currentColorSparkles=i.add.sprite(0,0,l.currentColorShineBmd),l.currentColorSparkles.width=l.currentColorSwatch.width,l.currentColorSparkles.height=l.currentColorSwatch.height,l.currentColorSparkles.x=l.currentColorSwatch.x,l.currentColorSparkles.y=l.currentColorSwatch.y,l.currentColorSparkles.anchor.set(.5,0),l.add(h),l.add(l.currentColorSwatch),l.add(l.currentColorSparkles),l.add(C),a){l.geneticColorChromoscope=i.add.sprite(0,400,"chromoscope_"+A),l.geneticColorChromoscope.scale.set(.8),l.geneticColorChromoscope.anchor.set(.5,0),l.add(l.geneticColorChromoscope);var G=n(0,530,"Start: ",A);G.setShadow(1,1,"rgba(0,0,0,0.8)",1),G.anchor.set(.5,0),l.add(G)}if(s){var f=i.add.sprite(0,0,"chromoscope_arrow_down");f.anchor.set(.5,0),f.width=f.height=60,f.y=555,l.add(f);var d=i.finalTarget,p=n(0,760,"Target: ",d);p.setShadow(1,1,"rgba(0,0,0,0.8)",1),p.anchor.set(.5,0),l.targetColorChromoscope=i.add.sprite(0,630,"chromoscope_"+d),l.targetColorChromoscope.scale.set(.8),l.targetColorChromoscope.anchor.set(.5,0),l.add(l.targetColorChromoscope),l.add(p)}l.scale.set(.95),l.y+=160,l.outline=i.make.graphics();var m=l.getLocalBounds();return l.outline.beginFill(16764006,.8),l.outline.drawRoundedRect(-m.width/2-8,0,m.width+12,m.height+40,40),l}return a(e,t),s(e,[{key:"updateColors",value:function(t,e){var n=game.cellModel.getGeneticHSLA(t,e);this.currentColorBmd.load(this.drake_sprite),this.currentColorBmd.shiftHSL(n.h,n.s,n.l),this.currentColorShineBmd.load(this.shine_sprite),this.currentColorShineBmd.shiftHSL(n.h,n.s,n.l),this.currentColorSparkles.alpha=n.a}},{key:"forceUpdateStartColor",value:function(t,e){game.cellModel.getGeneticHSLA(t,e)}},{key:"setHighlight",value:function(t){t?(this.outline.alpha=.2,this.addChildAt(this.outline,0),this.game.add.tween(this.outline).to({alpha:.6},800,A.default.Easing.Linear.In,!0,.2,400,!0)):(this.removeChild(this.outline),this.outline.alpha=0)}}]),e}(A.default.Group));e.default=C},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(5),A=i(l),c=n(182),u=i(c),T=n(29),C=function(t){function e(t){var n=t.game,i=t.x,a=t.y,s=t.base_x,l=t.base_y,c=(t.asset,t.melanosome),C=t.immortal;r(this,e);var h="tyrosine";"supersecret"==(0,T.getParameterByName)("supercrazy")&&(h="tyrosine_crazy");var G=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i,a,h));return G.game=n,G.tint=16777215,G.anchor.set(.5,1),G.movement_speed=.01*G.game.rnd.between(20,100),G.melanosome=c,G.isFloating=!0,G.immortal=C,G.game.physics.enable(G,A.default.Physics.ARCADE),G.scale.set(.44,.52),G.myTweens=[],G.base_x=G.target_x=s,G.base_y=G.target_y=l,G.isInside=!1,G.simplex=new u.default({r:Math}),G.alpha=0,n.add.tween(G).to({alpha:.8},500).start(),G.rotation=A.default.Math.radToDeg(360*n.rnd.frac()),G.body.drag.set(50),G.mydot=n.add.sprite(0,0,"circle"),G.mydot.anchor.set(.5),G.mydot.width=G.mydot.height=1,G.mydot.alpha=0,G}return a(e,t),s(e,[{key:"push",value:function(){this.wasPushed&&this.pushTimer&&game.time.events.remove(this.pushTimer),this.wasPushed=!0,this.immortal||(this.pushTimer=game.time.events.add(4e3,function(){this.wasPushed=!1},this))}},{key:"update",value:function(){this.mydot.parent==game.world&&this.parent&&this.parent.add(this.mydot);var t=64*this.parent.scale.x,e=64*this.parent.scale.y,n=(64-t)/2,i=(64-e)/1+32*this.parent.scale.y,r=new A.default.Point(0,-e/2),o=A.default.Point.rotate(r,0,0,this.rotation);if(n+=o.x,i+=o.y,this.mydot.x=this.x+.25*o.x,this.mydot.y=this.y+.25*o.y,this.body.setSize(t,e,n,i),null!=this.body&&this.body.velocity)if(this.isFloating){var a=.05*game.globalTimeScale,s=20*game.globalTimeScale,l=(game.globalTimeScale,this.parent.scale.x*A.default.Math.distance(this.mydot.x,this.mydot.y,this.melanosome.x,this.melanosome.y)),c=this.melanosome.width*this.melanosome.parent.scale.x*.5+16,u=960*this.parent.scale.x,T=480*this.parent.scale.x;this.isInside?(u=this.melanosome.width/2*this.melanosome.parent.scale.x*.75,T=this.melanosome.width/2*this.melanosome.parent.scale.x*.95,c=-10,s*=1*game.globalTimeScale,.002*game.globalTimeScale,a=.03*game.globalTimeScale,l>T?(this.body.velocity.x=(this.melanosome.x-this.x)*a*5,this.body.velocity.y=(this.melanosome.y-this.y)*a*5):l>u?(this.body.velocity.x+=(this.melanosome.x-this.x)*a,this.body.velocity.y+=(this.melanosome.y-this.y)*a):(this.body.velocity.y+=.01*(game.rnd.frac()-.5)-.005*this.body.velocity.y,this.body.velocity.x+=.01*(game.rnd.frac()-.5)-.005*this.body.velocity.x)):l>u?(this.body.velocity.x+=(this.melanosome.x-this.x)*a,this.body.velocity.y+=(this.melanosome.y-this.y)*a):l<c?(this.body.velocity.x=(this.x-this.melanosome.x)*a,this.body.velocity.y=(this.y-this.melanosome.y)*a):game.rnd.frac()<.05?(this.body.velocity.x+=(this.melanosome.x-this.x)*s*.001,this.body.velocity.y+=(this.melanosome.y-this.y)*s*.001):(this.body.velocity.y+=(game.rnd.frac()-.5)*s,this.body.velocity.x+=(game.rnd.frac()-.5)*s),this.body.velocity.x=game.math.clamp(this.body.velocity.x,-200,200),this.body.velocity.y=game.math.clamp(this.body.velocity.y,-200,200)}else this.body.velocity.x=0,this.body.velocity.y=0}},{key:"rotateTo",value:function(t){for(var e=this.rotation-t;e>Math.PI;)e-=2*Math.PI;for(;e<-Math.PI;)e+=2*Math.PI;this.myTweens.push(game.add.tween(this).to({rotation:this.rotation-e},100).start())}},{key:"stopAllTweens",value:function(){for(var t=0;t<this.myTweens.length;t++)this.myTweens[t].stop(),game.tweens.remove(this.myTweens[t]),this.myTweens[t]=null;this.myTweens=[]}},{key:"dieAfterTime",value:function(){game.time.events.add(25e3,function(){this.isFloating&&this.isInside&&(this.isFloating=!1,game.add.tween(this).to({alpha:0},500).start(),game.time.events.add(501,function(){this.mydot.destroy(),this.destroy()},this))},this)}}]),e}(A.default.Sprite);e.default=C},function(t,e,n){"use strict";Phaser.Filter.Vignette=function(t){Phaser.Filter.call(this,t),this.uniforms.alpha={type:"1f",value:1},this.uniforms.size={type:"1f",value:.5},this.uniforms.amount={type:"1f",value:.5},this.fragmentSrc=["precision mediump float;","uniform sampler2D uSampler;","uniform float time;","uniform float alpha;","uniform float size;","uniform float amount;","varying vec2 vTextureCoord;","void main(void) {","vec4 color = texture2D(uSampler, vTextureCoord);","float dist = distance(vTextureCoord, vec2(0.5, 0.5));","color.rgb *= smoothstep(0.8, size * 1.0 * 0.799, dist * (alpha * amount + size));","gl_FragColor = color;","}"]},Phaser.Filter.Vignette.prototype=Object.create(Phaser.Filter.prototype),Phaser.Filter.Vignette.prototype.constructor=Phaser.Filter.Vignette,Object.defineProperty(Phaser.Filter.Vignette.prototype,"alpha",{get:function(){return this.uniforms.alpha.value},set:function(t){this.uniforms.alpha.value=t}}),Object.defineProperty(Phaser.Filter.Vignette.prototype,"size",{get:function(){return this.uniforms.size.value},set:function(t){this.uniforms.size.value=Math.max(0,Math.min(t,1))}}),Object.defineProperty(Phaser.Filter.Vignette.prototype,"amount",{get:function(){return this.uniforms.amount.value},set:function(t){this.uniforms.amount.value=Math.max(0,Math.min(t,1))}})},function(t,e,n){"use strict";var i=n(10),r=n(45),o=n(9);t.exports=function(t){for(var e=i(this),n=o(e.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,A=void 0===l?n:r(l,n);A>s;)e[s++]=t;return e}},function(t,e,n){var i=n(186);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){"use strict";var i=n(8),r=n(42);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){var i=n(4),r=n(2).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(6)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var i=n(2).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(4),r=n(91).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&i(o)&&r&&r(t,o),t}},function(t,e,n){var i=n(48),r=n(6)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,e,n){"use strict";var i=n(39),r=n(42),o=n(49),a={};n(12)(a,n(6)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(a,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){"use strict";var i=n(34),r=n(0),o=n(13),a=n(12),s=n(48),l=n(85),A=n(49),c=n(17),u=n(6)("iterator"),T=!([].keys&&"next"in[].keys()),C=function(){return this};t.exports=function(t,e,n,h,G,f,d){l(n,e,h);var p,m,g,v=function(t){if(!T&&t in x)return x[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},y=e+" Iterator",b="values"==G,_=!1,x=t.prototype,w=x[u]||x["@@iterator"]||G&&x[G],S=w||v(G),k=G?b?v("entries"):S:void 0,E="Array"==e?x.entries||w:w;if(E&&(g=c(E.call(new t)))!==Object.prototype&&g.next&&(A(g,y,!0),i||"function"==typeof g[u]||a(g,u,C)),b&&w&&"values"!==w.name&&(_=!0,S=function(){return w.call(this)}),i&&!d||!T&&!_&&x[u]||a(x,u,S),s[e]=S,s[y]=C,G)if(p={values:b?S:v("values"),keys:f?S:v("keys"),entries:k},d)for(m in p)m in x||o(x,m,p[m]);else r(r.P+r.F*(T||_),e,p);return p}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){var i=n(2),r=n(97).set,o=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,l="process"==n(20)(a);t.exports=function(){var t,e,n,A=function(){var i,r;for(l&&(i=a.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(l)n=function(){a.nextTick(A)};else if(!o||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(A)}}else n=function(){r.call(i,A)};else{var u=!0,T=document.createTextNode("");new o(A).observe(T,{characterData:!0}),n=function(){T.data=u=!u}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},function(t,e,n){"use strict";function i(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=r(e),this.reject=r(n)}var r=n(11);t.exports.f=function(t){return new i(t)}},function(t,e,n){var i=n(4),r=n(1),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n(22)(Function.call,n(16).f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){var i=n(68)("keys"),r=n(46);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(27),r=n(25);t.exports=function(t){return function(e,n){var o,a,s=String(r(e)),l=i(n),A=s.length;return l<0||l>=A?t?"":void 0:(o=s.charCodeAt(l),o<55296||o>56319||l+1===A||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536)}}},function(t,e,n){var i=n(62),r=n(25);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},function(t,e,n){"use strict";var i=n(27),r=n(25);t.exports=function(t){var e=String(r(this)),n="",o=i(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,n){var i,r,o,a=n(22),s=n(130),l=n(82),A=n(79),c=n(2),u=c.process,T=c.setImmediate,C=c.clearImmediate,h=c.MessageChannel,G=c.Dispatch,f=0,d={},p=function(){var t=+this;if(d.hasOwnProperty(t)){var e=d[t];delete d[t],e()}},m=function(t){p.call(t.data)};T&&C||(T=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return d[++f]=function(){s("function"==typeof t?t:Function(t),e)},i(f),f},C=function(t){delete d[t]},"process"==n(20)(u)?i=function(t){u.nextTick(a(p,t,1))}:G&&G.now?i=function(t){G.now(a(p,t,1))}:h?(r=new h,o=r.port2,r.port1.onmessage=m,i=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(t){c.postMessage(t+"","*")},c.addEventListener("message",m,!1)):i="onreadystatechange"in A("script")?function(t){l.appendChild(A("script")).onreadystatechange=function(){l.removeChild(this),p.call(t)}}:function(t){setTimeout(a(p,t,1),0)}),t.exports={set:T,clear:C}},function(t,e,n){"use strict";function i(t,e,n){var i,r,o,a=new Array(n),s=8*n-e-1,l=(1<<s)-1,A=l>>1,c=23===e?D(2,-24)-D(2,-77):0,u=0,T=t<0||0===t&&1/t<0?1:0;for(t=I(t),t!=t||t===B?(r=t!=t?1:0,i=l):(i=H(R(t)/L),t*(o=D(2,-i))<1&&(i--,o*=2),t+=i+A>=1?c/o:c*D(2,1-A),t*o>=2&&(i++,o/=2),i+A>=l?(r=0,i=l):i+A>=1?(r=(t*o-1)*D(2,e),i+=A):(r=t*D(2,A-1)*D(2,e),i=0));e>=8;a[u++]=255&r,r/=256,e-=8);for(i=i<<e|r,s+=e;s>0;a[u++]=255&i,i/=256,s-=8);return a[--u]|=128*T,a}function r(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,a=o>>1,s=r-7,l=n-1,A=t[l--],c=127&A;for(A>>=7;s>0;c=256*c+t[l],l--,s-=8);for(i=c&(1<<-s)-1,c>>=-s,s+=e;s>0;i=256*i+t[l],l--,s-=8);if(0===c)c=1-a;else{if(c===o)return i?NaN:A?-B:B;i+=D(2,e),c-=a}return(A?-1:1)*i*D(2,c-e)}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function a(t){return[255&t]}function s(t){return[255&t,t>>8&255]}function l(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function A(t){return i(t,52,8)}function c(t){return i(t,23,4)}function u(t,e,n){w(t[E],e,{get:function(){return this[n]}})}function T(t,e,n,i){var r=+n,o=_(r);if(o+e>t[W])throw F(O);var a=t[z]._b,s=o+t[V],l=a.slice(s,s+e);return i?l:l.reverse()}function C(t,e,n,i,r,o){var a=+n,s=_(a);if(s+e>t[W])throw F(O);for(var l=t[z]._b,A=s+t[V],c=i(+r),u=0;u<e;u++)l[A+u]=c[o?u:e-u-1]}var h=n(2),G=n(7),f=n(34),d=n(70),p=n(12),m=n(43),g=n(3),v=n(37),y=n(27),b=n(9),_=n(148),x=n(40).f,w=n(8).f,S=n(76),k=n(49),E="prototype",O="Wrong index!",M=h.ArrayBuffer,P=h.DataView,j=h.Math,F=h.RangeError,B=h.Infinity,N=M,I=j.abs,D=j.pow,H=j.floor,R=j.log,L=j.LN2,z=G?"_b":"buffer",W=G?"_l":"byteLength",V=G?"_o":"byteOffset";if(d.ABV){if(!g(function(){M(1)})||!g(function(){new M(-1)})||g(function(){return new M,new M(1.5),new M(NaN),"ArrayBuffer"!=M.name})){M=function(t){return v(this,M),new N(_(t))};for(var q,U=M[E]=N[E],Z=x(N),$=0;Z.length>$;)(q=Z[$++])in M||p(M,q,N[q]);f||(U.constructor=M)}var X=new P(new M(2)),J=P[E].setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||m(P[E],{setInt8:function(t,e){J.call(this,t,e<<24>>24)},setUint8:function(t,e){J.call(this,t,e<<24>>24)}},!0)}else M=function(t){v(this,M,"ArrayBuffer");var e=_(t);this._b=S.call(new Array(e),0),this[W]=e},P=function(t,e,n){v(this,P,"DataView"),v(t,M,"DataView");var i=t[W],r=y(e);if(r<0||r>i)throw F("Wrong offset!");if(n=void 0===n?i-r:b(n),r+n>i)throw F("Wrong length!");this[z]=t,this[V]=r,this[W]=n},G&&(u(M,"byteLength","_l"),u(P,"buffer","_b"),u(P,"byteLength","_l"),u(P,"byteOffset","_o")),m(P[E],{getInt8:function(t){return T(this,1,t)[0]<<24>>24},getUint8:function(t){return T(this,1,t)[0]},getInt16:function(t){var e=T(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=T(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return o(T(this,4,t,arguments[1]))},getUint32:function(t){return o(T(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return r(T(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return r(T(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){C(this,1,t,a,e)},setUint8:function(t,e){C(this,1,t,a,e)},setInt16:function(t,e){C(this,2,t,s,e,arguments[2])},setUint16:function(t,e){C(this,2,t,s,e,arguments[2])},setInt32:function(t,e){C(this,4,t,l,e,arguments[2])},setUint32:function(t,e){C(this,4,t,l,e,arguments[2])},setFloat32:function(t,e){C(this,4,t,c,e,arguments[2])},setFloat64:function(t,e){C(this,8,t,A,e,arguments[2])}});k(M,"ArrayBuffer"),k(P,"DataView"),p(P[E],d.VIEW,!0),e.ArrayBuffer=M,e.DataView=P},function(t,e,n){var i=n(2),r=n(21),o=n(34),a=n(149),s=n(8).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var i=n(53),r=n(6)("iterator"),o=n(48);t.exports=n(21).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){"use strict";var i=n(33),r=n(133),o=n(48),a=n(18);t.exports=n(86)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):"keys"==e?r(0,n):"values"==e?r(0,t[n]):r(0,[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){t.exports=n.p+"f0cd4c260eba724344b42053fcdf16fa.png"},function(t,e,n){t.exports=n.p+"1050d0750965cd0edfad55f34e9b7333.png"},function(t,e){var n=!1;!function(){var t=0;if(window.postMessage)try{window.onmessage=function(e){var i=Object.prototype.toString.call(e.data);t=-1!=i.indexOf("Null")||-1!=i.indexOf("DOMWindow")?1:0,n={structuredClones:t}},window.postMessage(document.createElement("a"),"*")}catch(e){t=e.DATA_CLONE_ERR||"Cannot post cyclic structures."==e.message?1:0,n={structuredClones:t}}}(),e.supported=function(){return n&&n.structuredClones>0}},,,,function(t,e){t.exports={steps:[{alleles:"11111111",stars:0,tyrs:4,working:1,action:"working_protein_assembled",count:3,text:"Drag to connect",gameSpeed:1},{alleles:"11111111",tyrs:4,working:2,action:"disc_destroyed",count:3,text:"Tap several times to break",gameSpeed:1},{alleles:"11111111",tyrs:4,working:3,action:"protein_broken",count:3,text:"Tap to break",gameSpeed:.5},{alleles:"11001111",tyrs:1,working:1,action:"tri_pushed_into_small_gear",count:3,text:"Tap and hold to push",gameSpeed:.5}]}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(32),l=n(29),A=n(36),c=n(110),u=function(t){return t&&t.__esModule?t:{default:t}}(c),T=function(t){function e(t){i(this,e),t.allChromosomes=[];for(var n=t.chromosomePairs,o=0;o<n.length;o++){var a=new u.default(n[o].chromosomeA),s=new u.default(n[o].chromosomeB);t["Chromosome"+o+"A"]=a,t["Chromosome"+o+"B"]=s,t.allChromosomes.push(a),t.allChromosomes.push(s)}t.maxStars=23,t.maxSlotted=15,t.maxEscaped=20,t.current_pair_index=t.cellData.current_pair_index,t.initial_chromosome_location=t.cellData.initial_chromosome_location;var l=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return l.target_state=l.colorToState(t.target_color),l}return o(e,t),a(e,[{key:"colorToState",value:function(t){var e={};switch(e.numStars=0,e.numSlotted=0,e.numEscaped=0,e.numStarComparison="==",e.numSlottedComparison="==",e.numEscapedComparison="==",t){case"charcoal":e.numStars=this.get("maxStars"),e.numSlotted=this.get("maxSlotted"),e.numEscaped=this.get("maxEscaped"),e.numStarsComparison=">=",e.numSlottedComparison=">=",e.numEscapedComparison=">=";break;case"ash":e.numStars=this.get("maxStars"),e.numSlotted=0,e.numEscaped=this.get("maxEscaped"),e.numStarsComparison=">=",e.numSlottedComparison="<=",e.numEscapedComparison=">=";break;case"lava":e.numStars=Math.round(this.get("maxStars")/2),e.numSlotted=this.get("maxSlotted"),e.numEscaped=this.get("maxEscaped"),e.numStarsComparison="==",e.numSlottedComparison=">=",e.numEscapedComparison=">=";break;case"sand":e.numStars=Math.round(this.get("maxStars")/2),e.numSlotted=0,e.numEscaped=this.get("maxEscaped"),e.numStarsComparison="==",e.numSlottedComparison="<=",e.numEscapedComparison=">=";break;case"steel":e.numStars=this.get("maxStars"),e.numSlotted=this.get("maxSlotted"),e.numEscaped=0,e.numStarsComparison=">=",e.numSlottedComparison=">=",e.numEscapedComparison="<=";break;case"silver":e.numStars=this.get("maxStars"),e.numSlotted=0,e.numEscaped=0,e.numStarsComparison=">=",e.numSlottedComparison="<=",e.numEscapedComparison="<=";break;case"copper":e.numStars=Math.round(this.get("maxStars")/2),e.numSlotted=this.get("maxSlotted"),e.numEscaped=0,e.numStarsComparison="==",e.numSlottedComparison=">=",e.numEscapedComparison="<=";break;case"gold":e.numStars=Math.round(this.get("maxStars")/2),e.numSlotted=0,e.numEscaped=0,e.numStarsComparison="==",e.numSlottedComparison="<=",e.numEscapedComparison="<=";break;case"frost":e.numStars=0,e.numSlotted=0,e.numEscaped=0,e.numStarsComparison="<=",e.numSlottedComparison="<=",e.numEscapedComparison="<="}return e}},{key:"initialize",value:function(){for(var t=this.get("allChromosomes"),e=0;e<t.length;e++){t[e].on("change",function(){this.trigger("change")},this)}}},{key:"getGeneticColor",value:function(t,e){var n,i,r,o=0;n=20/256;var a=this.getCurrentAllele("Chromosome1A","tyr_mouth"),s=this.getCurrentAllele("Chromosome1B","tyr_mouth"),l=this.getCurrentAllele("Chromosome1A","trp_flower_01"),A=this.getCurrentAllele("Chromosome1B","trp_flower_01"),c=this.getCurrentAllele("Chromosome2A","myocin_grabber"),u=this.getCurrentAllele("Chromosome2B","myocin_grabber"),T=this.getCurrentAllele("Chromosome0A","gate_stopper_button"),C=this.getCurrentAllele("Chromosome0B","gate_stopper_button");switch(!0===a.value||!0===s.value?(!0===l.value||!0===A.value?(i=0,r=0,!0===c.value||!0===u.value?r+=0:r+=.5):(i=1,r=.5,!0===c.value||!0===u.value?r+=0:r+=.5),o=0==T.value||0==C.value?1:0):(i=0,r=1,o=1),t){case"size":case"SizeActivity":e>=.5?!0===c.value||!0===u.value?(i=1-2*(e-.5),r=1-e):(i=1-2*(e-.5),r=1-(e-.5)):(!0===c.value||u.value,i=2*e,r=1-e,o=2*(.5-e));break;case"motor":case"MotorActivity":!0===a.value||!0===s.value?r=!0===l.value||!0===A.value?.5-e/2:1-e/2:e=1;break;case"gate":case"GateActivity":o=1-e}n+=.07*r,r=this.convertV(r),i=this.convertS(i);var h=Phaser.Color.HSVtoRGB(n,i,r);return h.a=o,h}},{key:"getGeneticHSLA",value:function(t,e){var n,i,r,o=0;n=.035;var a=this.getCurrentAllele("Chromosome1A","tyr_mouth"),s=this.getCurrentAllele("Chromosome1B","tyr_mouth"),A=this.getCurrentAllele("Chromosome1A","trp_flower_01"),c=this.getCurrentAllele("Chromosome1B","trp_flower_01"),u=this.getCurrentAllele("Chromosome2A","myocin_grabber"),T=this.getCurrentAllele("Chromosome2B","myocin_grabber"),C=this.getCurrentAllele("Chromosome0A","gate_stopper_button"),h=this.getCurrentAllele("Chromosome0B","gate_stopper_button");switch(!0===a.value||!0===s.value?(!0===A.value||!0===c.value?(i=0,r=0,!0===u.value||!0===T.value?r+=0:r+=.5):(i=1,r=.5,!0===u.value||!0===T.value?(r+=0,n=.01):(r+=.5,n=.03)),o=0==C.value||0==h.value?1:0):(i=-.75,r=1.25,o=1),t){case"size":case"SizeActivity":e>=.5?!0===u.value||!0===T.value?(i=1-2*(e-.5),r=1-e):(i=1-2*(e-.5),r=1-(e-.5)):(!0===u.value||T.value,i=2*e,r=1-e,o=2*(.5-e));break;case"motor":case"MotorActivity":!0===a.value||!0===s.value?r=!0===A.value||!0===c.value?.5-e/2:1-e/2:e=1;break;case"gate":case"GateActivity":o=1-e}i=(0,l.clamp)(i,0,1),r=(0,l.clamp)(r,0,1),i=.68*(i-1)-.24,r=.25*(2*r-.9);var G={};return G.h=n,G.s=i,G.l=r,G.a=Math.max(0,.75*o),G}},{key:"getTargetHSLA",value:function(){var t,e,n,i=0;switch(t=.01,this.get("target_color")){case"charcoal":e=0,n=0,i=0;break;case"steel":e=0,n=0,i=1;break;case"ash":e=0,n=.5,i=0;break;case"silver":e=0,n=.5,i=1;break;case"lava":e=1,n=.5,i=0;break;case"copper":e=1,n=.5,i=1;break;case"sand":e=1,n=1,i=0;break;case"gold":e=1,n=1,i=1;break;case"frost":case"albino":e=-.75,n=1.25,i=1}e=(0,l.clamp)(e,0,1),n=(0,l.clamp)(n,0,1),t+=.05*n,e=.68*(e-1)-.24,n=.25*(2*n-.67);var r={};return r.h=t,r.s=e,r.l=n,r.a=.75*i,r}},{key:"getTargetColor",value:function(){var t,e,n,i=0;switch(t=.035,this.get("target_color")){case"charcoal":e=0,n=0,i=0;break;case"steel":e=0,n=0,i=1;break;case"ash":e=0,n=.5,i=0;break;case"silver":e=0,n=.5,i=1;break;case"lava":e=1,n=.5,i=0;break;case"copper":e=1,n=.5,i=1;break;case"sand":e=1,n=1,i=0;break;case"gold":e=1,n=1,i=1;break;case"frost":case"albino":e=0,n=1,i=1}t+=.05*n,n=this.convertV(n),e=this.convertS(e);var r=Phaser.Color.HSVtoRGB(t,e,n);return r.a=i,r}},{key:"convertV",value:function(t){var e=Math.log((t+1)*(t+1));return e=(0,l.clamp)(e,0,1)}},{key:"convertS",value:function(t){var e=.7*t;return e=(0,l.clamp)(e,0,1)}},{key:"getCurrentAllele",value:function(t,e){var n=this.get(t).get("genes"),i=s._.find(n,function(t){return t.id==e});return i.alleles[i.selected_allele]}},{key:"getGene",value:function(t,e){var n=this.get(t).get("genes");return s._.find(n,function(t){return t.id==e})}},{key:"resetChangedness",value:function(){for(var t=this.get("allChromosomes"),e=0;e<t.length;e++)for(var n=t[e].get("genes"),i=0;i<n.length;i++)n[i].has_changed=!1}},{key:"getGeneticColorName",value:function(){var t=this.getCurrentAllele("Chromosome1A","tyr_mouth").value,e=this.getCurrentAllele("Chromosome1B","tyr_mouth").value,n=this.getCurrentAllele("Chromosome1A","trp_flower_01").value,i=this.getCurrentAllele("Chromosome1B","trp_flower_01").value,r=this.getCurrentAllele("Chromosome2A","myocin_grabber").value,o=this.getCurrentAllele("Chromosome2B","myocin_grabber").value,a=this.getCurrentAllele("Chromosome0A","gate_stopper_button").value,s=this.getCurrentAllele("Chromosome0B","gate_stopper_button").value;return 1==t||1==e?!1===a||!1===s?r||o?n||i?"steel":"copper":n||i?"silver":"gold":r||o?n||i?"charcoal":"lava":n||i?"ash":"sand":"frost"}},{key:"getGeneticShortcode",value:function(){var t="";return t+=this.get("Chromosome1A").get("genes")[0].selected_allele,t+=this.get("Chromosome1B").get("genes")[0].selected_allele,t+=this.get("Chromosome1A").get("genes")[1].selected_allele,t+=this.get("Chromosome1B").get("genes")[1].selected_allele,t+=this.get("Chromosome2A").get("genes")[0].selected_allele,t+=this.get("Chromosome2B").get("genes")[0].selected_allele,t+=this.get("Chromosome0A").get("genes")[0].selected_allele,t+=this.get("Chromosome0B").get("genes")[0].selected_allele}}]),e}(A.Model);e.default=T},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=(n(32),n(36)),l=function(t){function e(t){i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.set("fullCode",n.getFullCodeArray()),n}return o(e,t),a(e,[{key:"initialize",value:function(){}},{key:"updateValues",value:function(){}},{key:"updateTRP",value:function(){}},{key:"getFullCodeArray",value:function(){for(var t=[],e="",n=["A","T","C","G"],i=0;i<1e3;i++)e+=n[i%4];e="ACTGCCGATGCATGCTAGCTATCGTACGTAGCTAGCTAGCTGCTAGCTAGCTGATCGATGCTAGCTAGCTGATCGATGCTAGCTAGCTGATCGATCGATGCTAGTGCTAGCTAGCTAGCTGCTAGCTAGCTAGCTAGCTAGCTAGCTAGCTACGTAGCTGCATGCTAGCTAGCTAGCTAGCTAGCTAGCTGACTGTGACTCAACTACGATCGCAGTTCATGCGACTCGACGACGTCGCGGCGACGCATCGCATGCTCGATCGTACCGTCGATCTAGCTGACTGATCGTCGTACGTACGCTAGCTGCTAGCTGCTAGCTAGCTAGTCGACTGCTAGCTGACTGCTGCATACTGCTAGCTCGATCGTACGTCGCTGATCGTACG";for(var i=0;i<100;i++)t.push(e);return t}},{key:"getSelectedAlleleByGeneID",value:function(t){for(var e=this.get("genes"),n=0;n<e.length;n++)if(e[n].id==t){var i=e[n],r=i.alleles[i.selected_allele];return r}}},{key:"getSelectedAlleleByGeneIndex",value:function(t){var e=this.get("genes"),n=e[t];if(n){return n.alleles[n.selected_allele]}}}]),e}(s.Model);e.default=l},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(5),A=i(l),c=n(19),u=i(c),T=function(t){function e(t){var n=t.game,i=t.x,a=t.y,s=(t.width,t.targetGroup),l=t.blobTint,A=t.blobAlpha,c=t.blobBlend,u=t.bloomAlpha;r(this,e);var T=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return T.game=n,T.alpha=1,T.x=i,T.y=a,T.blobAlpha=A,T.bloomAlpha=u,T.targetGroup=s,s.add(T),T.smallGroup=n.add.group(),T.medGroup=n.add.group(),T.lgGroup=n.add.group(),T.add(T.smallGroup),T.add(T.medGroup),T.add(T.lgGroup),T.blobBlend=c,T.generateBackground(l),T}return a(e,t),s(e,[{key:"update",value:function(){this.smallGroup.x=500*Math.sin(1e-4*game.time.time),this.medGroup.x=500*Math.sin(876e-7*game.time.time+Math.PI/3),this.lgGroup.x=500*Math.sin(745e-7*game.time.time+Math.PI*(2/3))}},{key:"resize",value:function(){}},{key:"generateBackground",value:function(t){this.backgroundBloom=game.add.sprite(u.default.SAFE_ZONE_WIDTH/2,u.default.SAFE_ZONE_HEIGHT/2,"white_radial_gradient"),this.backgroundBloom.tint=11639953,this.backgroundBloom.scale.set(4),this.backgroundBloom.anchor.set(.5),this.backgroundBloom.alpha=this.bloomAlpha,this.backgroundBloom.blendMode=PIXI.blendModes.ADD,this.add(this.backgroundBloom);for(var e=1.5*u.default.SAFE_ZONE_WIDTH,n=1.5*u.default.SAFE_ZONE_HEIGHT,i=0;i<10;i++){var r=game.rnd.frac()*e,o=game.rnd.frac()*n,a=game.add.sprite(r,o,"small_white_blur");a.scale.set(1.6*game.rnd.frac()+3.2),a.tint=t,a.alpha=.4*this.blobAlpha,a.anchor.set(.5),a.blendMode=this.blobBlend,this.targetGroup.add(a)}for(var i=0;i<10;i++){var r=game.rnd.frac()*e,o=game.rnd.frac()*n,a=game.add.sprite(r,o,"small_white_blur");a.scale.set(1*game.rnd.frac()+1),a.tint=t,a.alpha=.3*this.blobAlpha,a.anchor.set(.5),a.blendMode=this.blobBlend,this.targetGroup.add(a)}for(var i=0;i<10;i++){var r=game.rnd.frac()*e,o=game.rnd.frac()*n,a=game.add.sprite(r,o,"small_white_blur");a.scale.set(.5*game.rnd.frac()+.5),a.tint=t,a.alpha=.2*this.blobAlpha,a.anchor.set(.5),a.blendMode=this.blobBlend,this.targetGroup.add(a)}}}]),e}(A.default.Group);e.default=T},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(5),A=i(l),c=n(19),u=(i(c),function(t){function e(t){var n=t.game,i=t.x,a=t.y;r(this,e);var s=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));s.game=n,s.alpha=0,s.x=i,s.y=a,s.circles=[];for(var l=0;l<15;l++){var A=n.add.sprite(i,a,"circle_outline");s.add(A),A.anchor.set(.5),A.x=0,A.y=0,A.blendMode=1,s.circles.push(A)}return s.offset=0,s.isActive=!1,s.forcefieldSfx=n.add.sound("forcefield"),s.forcefieldSfx.loop=!0,s.forcefieldSfx.volume=0,s.forcefieldSfx.play(),s}return a(e,t),s(e,[{key:"update",value:function(){this.isActive?this.alpha+=.1*(1-this.alpha):this.alpha+=.1*(0-this.alpha),this.forcefieldSfx.volume=Math.max(this.alpha/3-.2,0);for(var t=0;t<this.circles.length;t++){var e=this.circles[t],n=t/this.circles.length;this.offset+=25e-6*game.time.elapsed;var i=n+this.offset;i%=1,e.scale.set(i*(1-i)*1.5);var r=.8*(.5-i);r<0&&(r=0),e.alpha=r}}},{key:"resize",value:function(){}}]),e}(A.default.Group));e.default=u},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(5),l=function(t){return t&&t.__esModule?t:{default:t}}(s),A=function(t){function e(t){var n=t.game,o=t.x,a=t.y,s=(t.asset,t.maxStars),l=t.zoom,A=void 0===l?1:l;i(this,e);var c=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,o,a,"sizeMelanosome"));return c.game=n,c.tint=11768963,c.alpha=1,c.anchor.set(.5),c.size=.5,c.zoom=A,c.numStars=0,c.maxStars=s||29,c.halfMaxStars=c.maxStars/2,c.scale.set(c.size),c.tyrs=[],c.smallColor=16777215,c.midColor=16757894,c.largeColor=5522496,c.smallStarColor=16777215,c.midStarColor=16753798,c.largeStarColor=6708055,c.starColor=c.midStarColor,c.outline=n.add.sprite(0,0,"sizeMelanosomeOutline"),c.outline.x=c.x,c.outline.y=c.y,c.outline.anchor.set(.5),c.outline.alpha=.5,c}return o(e,t),a(e,[{key:"update",value:function(){this.outline.parent==game.world&&this.parent&&this.parent.add(this.outline),this.size=this.getSize(),this.width+=.1*(this.size-this.width),this.height+=.1*(this.size-this.height),this.outline.width=this.outline.height=this.width;var t=this.smallColor;if(this.numStars<this.halfMaxStars){var e=Math.min(this.numStars/this.halfMaxStars,1);t=l.default.Color.interpolateColor(this.smallColor,this.midColor,1,e),this.starColor=l.default.Color.interpolateColor(this.smallStarColor,this.midStarColor,1,e)}else{var e=Math.min((this.numStars-this.halfMaxStars)/this.halfMaxStars,1);t=l.default.Color.interpolateColor(this.midColor,this.largeColor,1,e),this.starColor=l.default.Color.interpolateColor(this.midStarColor,this.largeStarColor,1,e)}this.tint=t}},{key:"getSize",value:function(){return this.starsToSize(this.numStars)*this.zoom}},{key:"starsToSize",value:function(t){return Math.min(256+t/this.maxStars*410,666)}},{key:"jumpToSize",value:function(){this.size=this.getSize(),this.width=this.height=this.size,this.outline.width=this.outline.height=this.size;var t=this.smallColor;if(this.numStars<this.halfMaxStars){var e=Math.min(this.numStars/this.halfMaxStars,1);t=l.default.Color.interpolateColor(this.smallColor,this.midColor,1,e),this.starColor=l.default.Color.interpolateColor(this.smallStarColor,this.midStarColor,1,e)}else{var e=Math.min((this.numStars-this.halfMaxStars)/this.halfMaxStars,1);t=l.default.Color.interpolateColor(this.midColor,this.largeColor,1,e),this.starColor=l.default.Color.interpolateColor(this.midStarColor,this.largeStarColor,1,e)}this.tint=t}}]),e}(l.default.Sprite);e.default=A},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(5),l=function(t){return t&&t.__esModule?t:{default:t}}(s),A=(n(29),function(t){function e(t){var n=t.game,o=t.x,a=t.y,s=t.direction,A=(t.axleFlowerBmd,t.melanosome),c=t.initialGroup,u=t.working,T=t.onConnect,C=t.onFalloff,h=t.onGrab;i(this,e);var G=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));c.add(G),G.game=n,G.x=o,G.y=a,G.v_x=0,G.v_y=0,G.angle=360*n.rnd.frac(),G.w=90,G.alpha=0,G.tyr=null,G.melanosome=A,G.isFloating=!0,G.isBeingDragged=!1,G.numUses=0,G.maxUses=1,G.maxTrpFlowerSize=32,G.minTrpFlowerSize=10,G.direction=s,G.hasFallenOff=!1,G.onConnect=T,G.onFalloff=C,G.onGrab=h;var f="trp_01";return G.numCorrectAxles=1,G.isWorking=u,f=u?"trp_02":"trp_01",G.tube=n.add.sprite(0,0,f),G.tube.width=G.w,G.tube.height=.25*G.w,G.tube.anchor.set(.5),G.add(G.tube),G.fakeHitZone=n.add.sprite(o,a,"square",null,G),G.fakeHitZone.width=G.w,G.fakeHitZone.height=G.w,G.fakeHitZone.inputEnabled=!0,G.fakeHitZone.input.enableDrag(),G.fakeHitZone.anchor.set(.5),G.fakeHitZone.alpha=0,G.fakeHitZone.trpRef=G,n.physics.enable(G.fakeHitZone,l.default.Physics.ARCADE),G.width*=-1,G.height*=-1,G.fakeHitZone.body.velocity.x=30*G.direction.x,G.fakeHitZone.body.velocity.y=30*G.direction.y,G.parent.add(G.fakeHitZone),n.add.tween(G).to({alpha:1},500).start(),G.fakeHitZone.events.onDragStart.add(function(t,e,n,i){this.fakeHitZone.body.velocity.x=0,this.fakeHitZone.body.velocity.y=0,this.onGrab.call(),this.isBeingDragged=!0},G),G.fakeHitZone.events.onDragStop.add(function(t,e,n,i){this.fakeHitZone.body.velocity.x=30*this.direction.x,this.fakeHitZone.body.velocity.y=30*this.direction.y,this.isBeingDragged=!1},G),G.fakeHitZone.body.drag.set(10),G.fakeHitZone.events.onDragUpdate.add(function(t,e,n,i){var r=t.game.input.getLocalPosition(t.parent,e);t.hitArea,t.x=r.x,t.y=r.y},G.fakeHitZone),G}return o(e,t),a(e,[{key:"fallOffTyr",value:function(){if(this.connecting_tyr&&!0!==this.hasFallenOff){this.hasFallenOff=!0;var t=Math.sin(this.rotation),e=Math.cos(this.rotation),n=this.x+-200*t+50,i=this.y- -200*e;game.add.tween(this).to({alpha:0,x:n,y:i},1e3/game.globalTimeScale).start(),this.onFalloff&&this.onFalloff.call(),this.connecting_tyr.connecting_trp=null,game.time.events.add(1e3/game.globalTimeScale,function(){this.fakeHitZone.destroy(),this.destroy()},this)}}},{key:"connectToTyr",value:function(t){this.fakeHitZone.input.draggable=!1,this.fakeHitZone.input.enabled=!1,this.isFloating=!1,this.connecting_tyr=t,t.connecting_trp=this,t.isSeparate=!1,t.isConnecting=!0,this.onConnect&&this.onConnect.call(void 0,this),this.isBeingDragged=!1,game.time.events.add(1e3/game.globalTimeScale,function(){t.isConnecting=!1},this)}},{key:"update",value:function(){if(this.isFloating){var t=.01*game.globalTimeScale,e=20*game.globalTimeScale,n=(game.globalTimeScale,this.parent.scale.x*l.default.Math.distance(this.x,this.y,this.melanosome.x,this.melanosome.y)),i=this.melanosome.width*this.melanosome.parent.scale.x*.5+16,r=960*this.parent.scale.x;this.parent.scale.x;n>r?(this.fakeHitZone.body.velocity.x+=(this.melanosome.x-this.x)*t,this.fakeHitZone.body.velocity.y+=(this.melanosome.y-this.y)*t):n<i?(t=.25,this.fakeHitZone.body.velocity.x=(this.x-this.melanosome.x)*t,this.fakeHitZone.body.velocity.y=(this.y-this.melanosome.y)*t,this.fakeHitZone.input.isDragged=!1,this.fakeHitZone.input.disableDrag()):(this.fakeHitZone.input.enableDrag(),this.fakeHitZone.body.velocity.y+=(game.rnd.frac()-.5)*e,this.fakeHitZone.body.velocity.x+=(game.rnd.frac()-.5)*e);var o=400*game.globalTimeScale;this.fakeHitZone.body.velocity.x=game.math.clamp(this.fakeHitZone.body.velocity.x,-o,o),this.fakeHitZone.body.velocity.y=game.math.clamp(this.fakeHitZone.body.velocity.y,-o,o),this.x=this.fakeHitZone.x,this.y=this.fakeHitZone.y}else if(null!=this.connecting_tyr){!0!==this.isWorking&&this.numUses>this.maxUses&&this.fallOffTyr();var a=this.connecting_tyr.angle;this.angle+=.1*(a-this.angle);var s=(this.connecting_tyr.alphaBlob.world.x+this.connecting_tyr.betaBlob.world.x)/2/this.parent.scale.x-this.parent.x/this.parent.scale.x,A=(this.connecting_tyr.alphaBlob.world.y+this.connecting_tyr.betaBlob.world.y)/2/this.parent.scale.y-this.parent.y/this.parent.scale.y;this.x+=.08*(s-this.x),this.y+=.08*(A-this.y),!0!==this.isWorking&&(this.x+=5*(game.rnd.frac()-.5)*this.numUses/this.maxUses,this.y+=5*(game.rnd.frac()-.5)*this.numUses/this.maxUses),this.fakeHitZone.position=this.position,this.fakeHitZone.body.velocity.x=0,this.fakeHitZone.body.velocity.y=0}}}]),e}(l.default.Group));e.default=A},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(5),A=i(l),c=n(19),u=i(c),T=n(116),C=i(T),h=n(74),G=i(h),f=function(t){function e(t){var n=t.game,i=(t.x,t.y,t.asset,t.axleFlowerBmd),a=t.melanosome,s=t.shouldBeActive,l=t.allele,c=t.chromosome_id,u=t.anchorPosition,T=t.onSeparate,C=t.onPlayerBreak,h=t.breakable,G=void 0!==h&&h;r(this,e);var f=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));f.game=n,f.inputEnabled=!0,f.alpha=0,f.melanosome=a,f.anchorPosition=u,f.angle=-1*f.anchorPosition,f.separation_amount=50,f.separation=f.separation_amount,f.isSeparate=!0,f.isProcessing=!1,f.delta=0,f.axleFlowerBmd=i,f.y_offset=0,f.scale.set(0),f.activationTweens=[],f.chromosome_id=c,f.isActive=s,f.tyrosines=[],f.connecting_trp=null,f.capacity=6,f.allele=l,f.isWorking=f.allele.value,f.grabEvents=[],f.onSeparate=T,f.onPlayerBreak=C,f.breakable=G,f.onStarCreation=new A.default.Signal,f.alphaBlob=n.add.sprite(124,0,"tyr"),f.alphaBlob.anchor.set(.5),f.alphaBlob.scale.set(.4),f.add(f.alphaBlob),f.alphaOpenAmount=0,f.betaOpenAmount=0,f.aMask=f.game.add.graphics(0,0),f.aMask.beginFill(65280),f.aMask.arc(0,0,128,n.math.degToRad(0),n.math.degToRad(30),!0),f.aMask.endFill(),f.aMask.anchor.set(.5),f.alphaBlob.addChild(f.aMask),f.alphaBlob.mask=f.aMask,f.betaBlob=f.game.add.sprite(-124,0,"tyr"),f.betaBlob.anchor.set(.5),f.betaBlob.scale.set(.6),f.add(f.betaBlob),f.betaMask=f.game.add.graphics(0,0),f.betaMask.beginFill(16777215),f.betaMask.arc(0,0,128,n.math.degToRad(0),n.math.degToRad(30),!0),f.betaMask.endFill(),f.betaMask.anchor.set(.5),f.betaBlob.addChild(f.betaMask),f.betaBlob.mask=f.betaMask,f.alphaBlob.inputEnabled=!0,f.alphaBlob.events.onInputDown.add(f.handleClick,f),f.betaBlob.inputEnabled=!0,f.betaBlob.events.onInputDown.add(f.handleClick,f),f.game.physics.enable(f.alphaBlob,A.default.Physics.ARCADE),f.game.physics.enable(f.betaBlob,A.default.Physics.ARCADE);var d=f.alphaBlob.width/2+f.separation,p=-f.betaBlob.width/2-f.separation;f.alphaBlob.x=d,f.betaBlob.x=p;var m=f.melanosome.scale.x*(f.alphaBlob.width/2-f.alphaBlob.x)/Math.PI;return f.alphaBlob.y=m,f.betaBlob.y=m,f.betaBlob.angle=-180,f.tyrosineAngle=2*Math.PI/f.capacity,f.semiformedStarGroup=n.add.group(),f.semiformedStarGroup.rotation=-Math.PI-.5*f.tyrosineAngle,f.add(f.semiformedStarGroup),!0===f.isActive&&(n.add.tween(f).to({alpha:1},1e3).start(),n.add.tween(f.scale).to({x:1,y:1},500).start()),f}return a(e,t),s(e,[{key:"create",value:function(){}},{key:"update",value:function(){if(this.isActive){this.angle=-1*this.anchorPosition;var t=this.scale.x*this.parent.scale.x*128,e=this.scale.y*this.parent.scale.y*128;this.alphaBlob.body.setSize(1.125*t,1.125*e,(128-1.125*t)/2,(128-1.125*e)/2),this.betaBlob.body.setSize(t,e,(128-t)/2,(128-e)/2);var n=0;this.isSeparate?(this.separation=this.separation_amount,n=0):(this.separation=0,n=Math.PI/3);var i=n,r=n;if(this.isWorking||(r*=2),!0!==this.isSeparate){this.delta+=game.time.elapsed/150,this.alphaOpenAmount+=.1*(i-this.alphaOpenAmount),this.betaOpenAmount+=.1*(r-this.betaOpenAmount);var o=game.math.degToRad(-90);this.aMask.clear(),this.aMask.beginFill(16777215),this.aMask.arc(0,0,128,o-this.alphaOpenAmount/2,o+this.alphaOpenAmount/2,!0,128),this.aMask.endFill(),this.betaMask.clear(),this.betaMask.beginFill(16777215),this.betaMask.arc(0,0,128,o-this.betaOpenAmount/2,o+this.betaOpenAmount/2,!0),this.betaMask.endFill(),!0!==this.isProcessing&&(this.alphaBlob.angle+=.1*(0-this.alphaBlob.angle),this.betaBlob.angle+=.1*(-180-this.betaBlob.angle))}else{this.alphaOpenAmount+=.05*(n-this.alphaOpenAmount),this.betaOpenAmount+=.05*(n-this.betaOpenAmount);var o=game.math.degToRad(-90);this.aMask.clear(),this.aMask.beginFill(16777215),this.alphaOpenAmount>.001?this.aMask.arc(0,0,128,o-this.alphaOpenAmount/2,o+this.alphaOpenAmount/2,!0,128):this.aMask.drawRect(-128,-128,256,256),this.aMask.endFill(),this.betaMask.clear(),this.betaMask.beginFill(16777215),this.betaOpenAmount>.001?this.betaMask.arc(0,0,128,o-this.betaOpenAmount/2,o+this.betaOpenAmount/2,!0):this.betaMask.drawRect(-128,-128,256,256),this.betaMask.endFill(),this.alphaBlob.angle+=.1*(-180-this.alphaBlob.angle),this.betaBlob.angle+=.1*(0-this.betaBlob.angle)}var a=this.separation*this.parent.scale.x,s=this.alphaBlob.width/2+a,l=-this.betaBlob.width/2-a;this.alphaBlob.x+=.1*(s-this.alphaBlob.x),this.betaBlob.x+=.1*(l-this.betaBlob.x);var A=256*this.melanosome.scale.x,c=Math.sqrt(A*A-this.alphaBlob.x*this.alphaBlob.x);this.alphaBlob.y=c,this.betaBlob.y=c,this.semiformedStarGroup.x=this.alphaBlob.x,this.semiformedStarGroup.y=this.alphaBlob.y-50,this.x=u.default.SAFE_ZONE_WIDTH/2,this.y=u.default.SAFE_ZONE_HEIGHT/2}}},{key:"grab",value:function(t){if(!(t.isInside||this.isProcessing||this.isConnecting)){this.isProcessing=!0,this.currentTyrosine=t;var e=100/game.globalTimeScale;if(!0===this.isWorking){t.isFloating=!1,t.body.velocity.x=0,t.body.velocity.y=0;var n=this.betaBlob.world.x/this.parent.scale.x-this.parent.x/this.parent.scale.x,i=this.betaBlob.world.y/this.parent.scale.y-this.parent.y/this.parent.scale.y,r=this.angle+this.betaBlob.angle,o=game.math.getShortestAngle(t.angle,r),a=game.add.tween(t).to({angle:o+t.angle,x:n,y:i},3*e).start();t.myTweens.push(a),a.onComplete.add(function(){this.tyrosines.push(t),t.angle=this.betaBlob.angle,!1===t.isFloating&&(this.add(t),t.x=this.betaBlob.x,t.y=this.betaBlob.y,t.myTweens.push(game.add.tween(t).to({rotation:-Math.PI/2+0,x:this.alphaBlob.x,y:this.alphaBlob.y},3.1*e).start())),game.add.tween(this.alphaBlob).to({angle:-90},3*e).start(),game.add.tween(this.betaBlob).to({angle:-270},3.1*e).start().onComplete.add(function(){var n=this;if(game.add.tween(this.alphaBlob).to({angle:0},1.5*e).start(),game.add.tween(this.betaBlob).to({angle:180},3*e).start(),!1===t.isFloating){var i=(.5-this.tyrosines.length)*this.tyrosineAngle-Math.PI,r=(game.add.tween(this.semiformedStarGroup).to({rotation:i},5.5*e,A.default.Easing.Linear.Out).delay(1*e).start(),game.add.tween(t).to({rotation:.5*this.tyrosineAngle+0,x:this.alphaBlob.x,y:this.alphaBlob.y},3*e).start());t.myTweens.push(r),r.onComplete.add(function(){var r=game.add.tween(t).to({rotation:t.rotation+Math.PI-.5*n.tyrosineAngle,x:n.semiformedStarGroup.x,y:n.semiformedStarGroup.y},3*e).start();t.myTweens.push(r),r.onComplete.add(function(){this.semiformedStarGroup.add(t),!1===t.isFloating&&(t.position.x=0,t.position.y=0,t.rotation=-i+Math.PI);var n=function(){this.currentTyrosine=null,this.isProcessing=!1,this.tyrosines.length>=this.capacity&&this.releaseStar(),this.connecting_trp&&this.connecting_trp.numUses++},r=i-this.tyrosineAngle;game.add.tween(this.semiformedStarGroup).to({rotation:r},3*e).start().onComplete.add(n,this)},n)})}},this)},this)}else{t.isFloating=!1,t.body.velocity.x=0,t.body.velocity.y=0;var n=this.betaBlob.world.x/this.parent.scale.x-this.parent.x/this.parent.scale.x,i=this.betaBlob.world.y/this.parent.scale.y-this.parent.y/this.parent.scale.y,r=this.angle+this.betaBlob.angle+40,o=game.math.getShortestAngle(t.angle,r),a=game.add.tween(t).to({angle:o+t.angle,x:n,y:i},3*e).start();t.myTweens.push(a),a.onComplete.add(function(){game.add.tween(this.alphaBlob).to({angle:-90},3*e).start();var n=game.add.tween(this.betaBlob).to({angle:-270},3*e).start();!1===t.isFloating&&(this.add(t),t.angle=this.betaBlob.angle+40,t.x=this.betaBlob.x,t.y=this.betaBlob.y,t.myTweens.push(game.add.tween(t).to({angle:-320,x:this.betaBlob.x,y:this.betaBlob.y},3*e).start())),n.onComplete.add(function(){game.add.tween(this.alphaBlob).to({angle:0},3*e).start();var t=game.add.tween(this.betaBlob).to({angle:180},3*e).start();this.currentTyrosine.stopAllTweens(),this.currentTyrosine.isFloating=!0,this.currentTyrosine.isInside=!0;var n=new A.default.Point(this.currentTyrosine.x,this.currentTyrosine.y),i=A.default.Point.rotate(n,0,0,this.rotation);this.parent.add(this.currentTyrosine),this.currentTyrosine.x=this.x+i.x,this.currentTyrosine.y=this.y+i.y,this.currentTyrosine.angle+=this.angle,this.currentTyrosine.dieAfterTime(),this.currentTyrosine.body.velocity.x+=200*game.rnd.frac,this.currentTyrosine.body.velocity.y+=200*game.rnd.frac,this.currentTyrosine=null,t.onComplete.add(function(){this.isProcessing=!1,this.connecting_trp&&this.connecting_trp.numUses++},this)},this)},this)}}}},{key:"innerGrab",value:function(t){if(t.isInside&&!this.isProcessing&&!this.isConnecting){var e=100/game.globalTimeScale;this.isProcessing=!0,this.currentTyrosine=t;t.rotation=this.rotation+this.alphaBlob.rotation+0,t.isFloating=!1,t.body.velocity.x=0,t.body.velocity.y=0,this.tyrosines.push(t);var n=this.alphaBlob.world.x/this.parent.scale.x-this.parent.x/this.parent.scale.x,i=this.alphaBlob.world.y/this.parent.scale.y-this.parent.y/this.parent.scale.y,r=game.add.tween(t).to({x:n,y:i},3*e).start();t.myTweens.push(r),r.onComplete.add(function(){game.add.tween(this.alphaBlob).to({angle:360},3*e).start();var n=game.add.tween(this.betaBlob).to({angle:180},3*e).start();if(!1===t.isFloating){t.rotation=this.alphaBlob.rotation+0,this.add(t),t.x=this.alphaBlob.x,t.y=this.alphaBlob.y;var i=(.5-this.tyrosines.length)*this.tyrosineAngle-Math.PI,r=(game.add.tween(this.semiformedStarGroup).to({rotation:i},3*e,A.default.Easing.Linear.Out).delay(2.5*e).start(),game.add.tween(t).to({rotation:2*Math.PI+.5*this.tyrosineAngle+0,x:this.alphaBlob.x,y:this.alphaBlob.y},3*e).start());t.myTweens.push(r),r.onComplete.add(function(){var n=this;if(!1===t.isFloating){var r=game.add.tween(t).to({rotation:t.rotation+Math.PI-.5*this.tyrosineAngle,x:this.semiformedStarGroup.x,y:this.semiformedStarGroup.y},2*e).start();t.myTweens.push(r),r.onComplete.add(function(){n.semiformedStarGroup.add(t),!1===t.isFloating&&(t.x=0,t.y=0,t.rotation=-i+Math.PI);var r=function(){this.currentTyrosine=null,this.isProcessing=!1,this.tyrosines.length>=this.capacity&&this.releaseStar(2),this.connecting_trp&&this.connecting_trp.numUses++},o=i-n.tyrosineAngle;game.add.tween(n.semiformedStarGroup).to({rotation:o},1.5*e).start().onComplete.add(r,n)},this)}},this)}n.onComplete.add(function(){game.add.tween(this.alphaBlob).to({angle:0},3*e).start(),game.add.tween(this.betaBlob).to({angle:-180},3*e).start()},this)},this)}}},{key:"createPreformedStar",value:function(t){for(var e=0;e<t;e++){var n=new G.default({game:game,x:this.semiformedStarGroup.x,y:this.semiformedStarGroup.y,melanosome:this.melanosome});n.rotation=(e+.5)*this.tyrosineAngle,this.tyrosines.push(n),this.semiformedStarGroup.add(n)}this.semiformedStarGroup.rotation=(this.tyrosines.length-.5)*this.tyrosineAngle-3*Math.PI}},{key:"initPositionAndRotation",value:function(){}},{key:"releaseTyrosine",value:function(){for(var t=0;t<this.tyrosines.length;t++){var e=this.tyrosines[t];if(e.stopAllTweens(),e.isFloating=!0,e.isInside=!0,e.parent==this){var n=new A.default.Point(e.x,e.y);this.parent.add(e),e.x+=this.x,e.y+=this.y;var i=A.default.Point.rotate(n,0,0,this.rotation);e.x+=i.x,e.y+=i.y,e.rotation+=this.rotation}else if(e.parent==this.semiformedStarGroup){var n=new A.default.Point(this.semiformedStarGroup.x,this.semiformedStarGroup.y);this.parent.add(e),e.x+=this.x,e.y+=this.y;var i=A.default.Point.rotate(n,0,0,this.rotation);e.x+=i.x,e.y+=i.y}e.z=0,e.parent.sendToBack(e),e.dieAfterTime()}this.tyrosines=[]}},{key:"releaseStar",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.melanosome.numStars++;var e=game.add.group();this.add(e),e.x=this.semiformedStarGroup.x,e.y=this.semiformedStarGroup.y,e.rotation=this.semiformedStarGroup.rotation;for(var n=0;n<this.tyrosines.length;n++){var i=this.tyrosines[n];e.add(i)}var r=85e3;null==this.connecting_trp&&(r=25e3);var o=new C.default({game:game,x:this.semiformedStarGroup.worldPosition.x/this.parent.scale.x-this.parent.x/this.parent.scale.x,y:this.semiformedStarGroup.worldPosition.y/this.parent.scale.y-this.parent.y/this.parent.scale.y,targetGroup:this.parent,existingGroup:e,rotation:e.rotation,initialLifetime:r*t,melanosome:this.melanosome,working:!0});this.onStarCreation&&this.onStarCreation.dispatch(o),this.tyrosines=[],this.semiformedStarGroup.angle=-Math.PI+.5*this.tyrosineAngle,null==this.connecting_trp&&this.handleSeperation()}},{key:"handleClick",value:function(){this.breakable&&(this.connecting_trp&&(this.onPlayerBreak.call(),this.connecting_trp.fallOffTyr()),!0!==this.isSeparate&&this.handleSeperation())}},{key:"handleSeperation",value:function(){this.releaseTyrosine(),this.isProcessing=!1,this.isSeparate=!0,this.onSeparate&&this.onSeparate.call(),game.tweens.removeFrom(this,!0),game.tweens.removeFrom(this.alphaBlob,!0),game.tweens.removeFrom(this.betaBlob,!0),game.tweens.removeFrom(this.semiformedStarGroup,!0),this.currentTyrosine&&(this.currentTyrosine.isFloating=!0,game.tweens.removeFrom(this.currentTyrosine),this.currentTyrosine=null)}},{key:"activate",value:function(){if(!0!==this.isActive){game.tweens.removeFrom(this,!0);for(var t=0;t<this.activationTweens.length;t++)this.activationTweens[t].stop(!0);this.activationTweens=[],this.scale.set(0),this.isActive=!0,this.activationTweens.push(game.add.tween(this).to({alpha:1},1e3).start()),this.activationTweens.push(game.add.tween(this.scale).to({x:1,y:1},500).start())}}},{key:"deactivate",value:function(){if(!1!==this.isActive){for(var t=0;t<this.activationTweens.length;t++)this.activationTweens[t].stop(!0);this.activationTweens=[],this.isActive=!1,this.aMask.clear(),this.betaMask.clear(),this.activationTweens.push(game.add.tween(this).to({alpha:0},500).start()),this.connecting_trp&&this.connecting_trp.fallOffTyr()}}},{key:"handleAlleleChange",value:function(){this.allele=game.cellModel.getCurrentAllele(this.chromosome_id,"tyr_mouth"),this.isWorking=this.allele.value}}]),e}(A.default.Group);e.default=f},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(5),l=function(t){return t&&t.__esModule?t:{default:t}}(s),A=(n(29),function(t){function e(t){var n=t.game,o=t.x,a=t.y,s=(t.asset,t.targetGroup),A=t.existingGroup,c=t.rotation,u=t.melanosome,T=t.working,C=t.initialLifetime,h=t.visible,G=void 0===h||h,f=t.immortal,d=void 0!==f&&f;i(this,e);var p=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));if(p.game=n,p.x=o,p.y=a,p.melanosome=u,p.targetPos=new l.default.Point(o,a),p.isWorking=T,p.existingGroup=A,p.existingGroup.alpha=0,p.add(p.existingGroup),p.targetGroup=s,s.add(p),p.maxLifetime=6e4,p.lifetime=p.maxLifetime,p.immortal=d,C&&(p.lifetime=C),p.rotation=c,p.visible=G,G?(p.clickArea=n.add.sprite(0,0,"square"),p.clickArea.width=64,p.clickArea.height=64,p.clickArea.anchor.set(.5),p.clickArea.alpha=0,p.clickArea.inputEnabled=!0,p.clickArea.events.onInputDown.add(p.handleClick,p),p.add(p.clickArea)):p.alpha=0,p.onStarDestruction=new l.default.Signal,p.onPoke=new l.default.Signal,p.fakeHitArea=n.add.sprite(0,0,"square"),p.fakeHitArea.width=64,p.fakeHitArea.height=64,p.fakeHitArea.anchor.set(.5),p.fakeHitArea.alpha=0,p.parent.add(p.fakeHitArea),p.fakeHitArea.x=p.x,p.fakeHitArea.y=p.y,n.physics.enable(p.fakeHitArea,l.default.Physics.ARCADE),p.fakeHitArea.body.drag.set(20),p.game.add.tween(p.scale).to({x:1.3,y:1.3}).start(),!1===p.isWorking){var m=1e4+5e3*n.rnd.frac();n.time.events.add(m,p.breakApart,p)}return p}return o(e,t),a(e,[{key:"update",value:function(){if(this.immortal||(this.lifetime-=1e3*game.time.physicsElapsed*game.globalTimeScale),this.lifetime<0)return void this.breakApart();var t=Math.max(0,.75-this.lifetime/this.maxLifetime),e=this.targetPos.x-this.fakeHitArea.x,n=this.targetPos.y-this.fakeHitArea.y,i=new l.default.Point(e,n);this.fakeHitArea.body.velocity.x=2*i.x,this.fakeHitArea.body.velocity.y=2*i.y,this.position.x=this.fakeHitArea.x+game.rnd.frac()*t*10,this.position.y=this.fakeHitArea.y+game.rnd.frac()*t*10,this.angle+=.1*(0-this.angle)}},{key:"handleClick",value:function(){this.wasPoked=!0,this.lifetime-=15e3,this.alpha=0,this.onPoke.dispatch(this),game.time.events.add(100,function(){this.alpha=1},this)}},{key:"pulseVulnerable",value:function(t){this.clickArea.inputEnabled=!0}},{key:"breakApart",value:function(){var t=this.existingGroup.children;for(this.existingGroup.alpha=1;t.length>0;){var e=t[0];e.isInside=!0,e.isFloating=!0,this.targetGroup.add(e),this.targetGroup.sendToBack(e),e.body.velocity.x=100*e.x,e.body.velocity.y=100*e.y,e.x+=this.x,e.y+=this.y,e.dieAfterTime(),e.z=0}this.melanosome.numStars--,this.onStarDestruction.dispatch(this),this.destroy()}},{key:"jumpToLocation",value:function(){this.fakeHitArea.x=this.targetPos.x,this.fakeHitArea.y=this.targetPos.y,this.position.x=this.fakeHitArea.x,this.position.y=this.fakeHitArea.y}},{key:"resize",value:function(){var t=this.scale.x*this.parent.scale.x*512,e=this.scale.y*this.parent.scale.y*512;this.fakeHitArea.body.setSize(t,e,(512-t)/2,(512-e)/2)}}]),e}(l.default.Group));e.default=A},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(32),l=n(52),A=function(t){return t&&t.__esModule?t:{default:t}}(l),c=n(36),u=n(390),T=function(t){function e(t){var n=t.el,o=t.model,a=t.initial_chromosome_location;i(this,e);var l=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{el:n,events:{"click .close":"close","change select":"handleSelectChange","click .allele-selector":"handleSelectClick","click .allele-label":"handleSelectClick","mousedown .chromosome-scrubber":"startScrubbing","mousemove .chromosome-scrubber":"handleScrubber","mouseexit .chromosome-scrubber":"endScrubbing","mouseleave .chromosome-scrubber":"endScrubbing","mouseup .chromosome-scrubber":"endScrubbing"},model:o}));return l.template=s._.template(u),l.render(),l.initial_chromosome_location=a,l.jumpToLocation(a),l.clickSfx=game.add.audio("click_hit"),l}return o(e,t),a(e,[{key:"initialize",value:function(){this.listenTo(this.model,"change",this.onModelChange)}},{key:"onModelChange",value:function(){game.useBossMove(),this.render()}},{key:"render",value:function(){var t=(0,A.default)(".beta-inner").css("top"),e=(0,A.default)(".viewport-indicator").css("top"),n=this.template({chromosome:this.model});this.$el.html(n),(0,A.default)(".beta-inner").css({top:t}),(0,A.default)(".viewport-indicator").css({top:e});var i=this;this.$el.find("select").each(function(){var t=(0,A.default)(this),e=(0,A.default)(this).children("option").length;t.addClass("select-hidden");var n=t.find(":selected"),r=n.data("img"),o=(0,A.default)('<div class="select"></div>');r&&o.addClass("image"),t.wrap(o),t.after('<div class="select-styled"></div>');var a=t.next("div.select-styled");if(r){var l=(0,A.default)('<div class="content"/>');l.append((0,A.default)('<img src="'+n.data("img")+'" />')),t.data("label")&&l.append((0,A.default)("<label/>").text(t.data("label"))),a.append(l)}else a.removeClass("image").text(n.text());for(var c=(0,A.default)("<ul />",{class:"select-options"}).insertBefore(a),u=0;u<e;u++){var T=t.children("option").eq(u),C=(0,A.default)("<li />",{html:T.html(),rel:T.val()}).appendTo(c);T.data("img")&&C.addClass("image").append((0,A.default)('<img src="'+T.data("img")+'" />'))}var h=c.children("li");a.click(function(e){e.stopPropagation();var n=(0,A.default)(e.currentTarget);if(i.newHandleSelectClick(t),0==n.closest(".relevant").length)return!1;(0,A.default)("div.select-styled.active").not(this).each(function(){(0,A.default)(this).removeClass("active").prev("ul.select-options").hide()}),(0,A.default)(this).toggleClass("active").prev("ul.select-options").toggle(),i.clickSfx.play()}),h.click(function(e){e.stopPropagation(),a.text((0,A.default)(this).text()).removeClass("active"),t.val((0,A.default)(this).attr("rel")),c.hide();var n=t,r=n.data("gene"),o=s._.find(i.model.get("genes"),function(t){return t.id==r});o.has_changed=!0,o.selected_allele=n.val(),i.model.trigger("change"),i.clickSfx.play()}),(0,A.default)(document).click(function(){a.removeClass("active"),c.hide()})})}},{key:"handleSelectClick",value:function(t){var e=(0,A.default)(t.currentTarget);return this.jumpToLocation(e.data("location")),!1}},{key:"newHandleSelectClick",value:function(t){return this.jumpToLocation(t.data("location")),!1}},{key:"updateTRP",value:function(t){var e=(0,A.default)(t.currentTarget),n=e.data("model");this.model.set(n,e.val())}},{key:"handleScrubber",value:function(t){if(this.isScrubbing){t.preventDefault();var e=(0,A.default)(t.currentTarget),n=t.pageY-e.offset().top,i=Math.min(.99,Math.max(.01,n/e.height()));(0,A.default)(".viewport-indicator").css({top:100*i+"%"});var r=i*(0,A.default)(".beta-inner .full-code").height()-(0,A.default)(".beta").height()/2;return(0,A.default)(".beta-inner").css({top:-r+"px"}),!1}}},{key:"jumpToLocation",value:function(t){var e=Math.min(.99,Math.max(.01,parseInt(t)/100));(0,A.default)(".viewport-indicator").css({top:100*e+"%"});var n=e*(0,A.default)(".beta-inner .full-code").height()-(0,A.default)(".beta").height()/2;(0,A.default)(".beta-inner").css({top:-n+"px"})}},{key:"startScrubbing",value:function(t){this.isScrubbing=!0,this.handleScrubber(t)}},{key:"endScrubbing",value:function(){this.isScrubbing=!1}},{key:"close",value:function(){this.$el.hide()}}]),e}(c.View);e.default=T},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(32),A=n(52),c=i(A),u=n(36),T=n(183),C=i(T),h=n(388),G=function(t){function e(t){var n=t.el,i=t.model,a=t.game;r(this,e);var s=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{el:n,events:{"click #show-nucleus":"showNucleus","click #game-win":"win","click #exit":"confirmExit","click #fast-exit":"fastExit","click .stay":"stay","click .leave":"exit"},model:i}));return s.template=h,s.clickSfx=a.add.audio("click_hit"),s.render(),s.viewType="protein",s}return a(e,t),s(e,[{key:"initialize",value:function(){this.listenTo(this.model,"change",this.render)}},{key:"render",value:function(){var t=l._.template(this.template),e=t({model:this.model.attributes});this.$el.html(e),game.isNucleus&&this.$el.find(".nucleus-only").show()}},{key:"loadTutorial",value:function(){var t=this;!game.isBossLevel&&game.tutorialData&&game.tutorialData[this.viewType]&&(0,c.default)(".tutorial-wrapper").hasClass("hidden")&&((0,c.default)(".tutorial-wrapper").empty(),this.tutorialView=new C.default({model:game.tutorialData[this.viewType],game:game,state:game.state.getCurrentState(),closeCallback:function(){t.hideTutorial()}}),(0,c.default)(".tutorial-wrapper").append(this.tutorialView.$el),"results"===this.viewType?(0,c.default)(".tutorial-wrapper").addClass("results"):(0,c.default)(".tutorial-wrapper").removeClass("results"),this.showTutorial())}},{key:"showTutorial",value:function(){game.tutorialData&&game.tutorialData[this.viewType]&&((0,c.default)(".tutorial-wrapper").removeClass("hidden"),this.tutorialView.setAction(!0))}},{key:"hideTutorial",value:function(){(0,c.default)(".tutorial-wrapper").addClass("hidden")}},{key:"showMessage",value:function(t){(0,c.default)(".nucleus-explanation").removeClass("hidden").html((0,c.default)("<p/>").text(t))}},{key:"hideMessage",value:function(){(0,c.default)(".nucleus-explanation").addClass("hidden")}},{key:"showStats",value:function(){(0,c.default)("#stats").removeClass("hidden"),this.updateStats(),game.actions.onAction.add(this.updateStats,this),game.actions.onTrack.add(this.updateStats,this)}},{key:"updateStats",value:function(){var t=game.actions.stats,e="";for(var n in t)e+=n+": "+t[n]+"<br>";(0,c.default)("#stats").html(e)}},{key:"hideStats",value:function(){(0,c.default)("#stats").addClass("hidden")}},{key:"setBlockInput",value:function(t){t?(0,c.default)("#input-blocker").removeClass("disabled"):(0,c.default)("#input-blocker").addClass("disabled")}},{key:"showNucleus",value:function(t){var e=(0,c.default)("#nucleus");e.removeClass("out"),e.removeClass("notransition"),e.addClass("notransition"),e[0].offsetHeight,!0!==t&&e.removeClass("notransition"),e.addClass("in"),e.addClass("viewing-chromosome"),this.viewType="nucleus",this.loadTutorial(),game.paused=!0,this.clickSfx.play()}},{key:"setHighlight",value:function(t,e){var n=(0,c.default)(t),i=n.offset(),r=(0,c.default)("#highlight").height(n.innerHeight()+12).width(n.innerWidth()+12).offset({left:i.left-12,top:i.top-12});e?r.removeClass("hidden"):r.addClass("hidden")}},{key:"win",value:function(){game.win()}},{key:"confirmExit",value:function(){this.clickSfx.play(),game.paused=!0,(0,c.default)(".exit-confirmation").removeClass("hidden")}},{key:"exit",value:function(){game.paused=!1,game.exit()}},{key:"stay",value:function(){game.paused=!1,(0,c.default)(".exit-confirmation").addClass("hidden")}},{key:"fastExit",value:function(){game.fastExit()}},{key:"hideEverything",value:function(t){t?this.$el.children().not("#stats").addClass("hidden"):this.$el.children().not(".nucleus-explanation").not("#stats").addClass("hidden")}}]),e}(u.View);e.default=G},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(32),A=n(52),c=i(A),u=n(36),T=n(117),C=i(T),h=n(392),G=n(391),f=function(t){function e(t){var n=t.el,i=t.model,a=t.game;r(this,e);var s=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{el:n,events:{"click .close":"close","click .compile":"compile","click .back":"back","click .chromosome-selectors button":"switchVisibleChromosome"},model:i,game:a}));return s.template=l._.template(h),s.resultsTemplate=l._.template(G),s.render(),s.compileSfx=a.add.audio("compile"),s.clickSfx=a.add.audio("click_hit"),s.game=a,s}return a(e,t),s(e,[{key:"initialize",value:function(){}},{key:"render",value:function(){var t=this.template({cellModel:this.model});this.$el.html(t);var e=this.model.get("current_pair_index"),n=this.model.get("Chromosome"+e+"A"),i=this.model.get("Chromosome"+e+"B"),r=n.get("genes"),o=0,a=0,s=0;r.forEach(function(t){t.isRelevant&&(o++,a+=t.location)}),s=o>1?a/o:r[0].location,this.chromosomeAView=new C.default({el:".chromosome-a",model:n,initial_chromosome_location:s}),this.chromosomeBView=new C.default({el:".chromosome-b",model:i,initial_chromosome_location:s}),this.chromosomeAView.jumpToLocation(s),this.chromosomeBView.jumpToLocation(s)}},{key:"renderResults",value:function(){var t=this.resultsTemplate({cellModel:this.model});this.$el.find("#nucleus-results").html(t)}},{key:"switchVisibleChromosome",value:function(t){this.clickSfx.play();var e=this.model.get("current_pair_index"),n=parseInt((0,c.default)(t.currentTarget).val());t!=e&&(this.model.set("current_pair_index",n),this.render())}},{key:"close",value:function(){this.clickSfx.play(),(0,c.default)("#nucleus").removeClass("viewing-chromosome"),(0,c.default)("#nucleus").removeClass("viewing-results"),(0,c.default)("#nucleus").addClass("out"),(0,c.default)("#nucleus").removeClass("in"),game.useBossMove(),game.hudView.viewType="protein",game.handleReturnFromNucleus(),game.nucleusOnly&&game.phone.post("activityExit",{activity:"nucleus",resultingGeneticColor:this.model.getGeneticColorName(),geneticShortcode:this.model.getGeneticShortcode(),cellModel:this.model.toJSON()})}},{key:"back",value:function(){(0,c.default)("#nucleus").addClass("viewing-chromosome"),(0,c.default)("#nucleus").removeClass("viewing-results"),this.model.resetChangedness()}},{key:"compile",value:function(){this.renderResults(),game.hudView.viewType="results",game.hudView.loadTutorial(),this.compileSfx.play(),(0,c.default)("#nucleus").removeClass("viewing-chromosome"),(0,c.default)("#nucleus").addClass("viewing-results"),this.model.resetChangedness()}}]),e}(u.View);e.default=f},function(t,e,n){var i=n(20);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},function(t,e,n){"use strict";var i=n(10),r=n(45),o=n(9);t.exports=[].copyWithin||function(t,e){var n=i(this),a=o(n.length),s=r(t,a),l=r(e,a),A=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===A?a:r(A,a))-l,a-s),u=1;for(l<s&&s<l+c&&(u=-1,l+=c-1,s+=c-1);c-- >0;)l in n?n[s]=n[l]:delete n[s],s+=u,l+=u;return n}},function(t,e,n){var i=n(38);t.exports=function(t,e){var n=[];return i(t,!1,n.push,n,e),n}},function(t,e,n){var i=n(11),r=n(10),o=n(54),a=n(9);t.exports=function(t,e,n,s,l){i(e);var A=r(t),c=o(A),u=a(A.length),T=l?u-1:0,C=l?-1:1;if(n<2)for(;;){if(T in c){s=c[T],T+=C;break}if(T+=C,l?T<0:u<=T)throw TypeError("Reduce of empty array with no initial value")}for(;l?T>=0:u>T;T+=C)T in c&&(s=e(s,c[T],T,A));return s}},function(t,e,n){"use strict";var i=n(11),r=n(4),o=n(130),a=[].slice,s={},l=function(t,e,n){if(!(e in s)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";s[e]=Function("F,a","return new F("+i.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=a.call(arguments,1),s=function(){var i=n.concat(a.call(arguments));return this instanceof s?l(e,i.length,i):o(e,i,t)};return r(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e,n){"use strict";var i=n(8).f,r=n(39),o=n(43),a=n(22),s=n(37),l=n(38),A=n(86),c=n(133),u=n(44),T=n(7),C=n(35).fastKey,h=n(51),G=T?"_s":"size",f=function(t,e){var n,i=C(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,A){var c=t(function(t,i){s(t,c,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[G]=0,void 0!=i&&l(i,n,t[A],t)});return o(c.prototype,{clear:function(){for(var t=h(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[G]=0},delete:function(t){var n=h(this,e),i=f(n,t);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[G]--}return!!i},forEach:function(t){h(this,e);for(var n,i=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!f(h(this,e),t)}}),T&&i(c.prototype,"size",{get:function(){return h(this,e)[G]}}),c},def:function(t,e,n){var i,r,o=f(t,e);return o?o.v=n:(t._l=o={i:r=C(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[G]++,"F"!==r&&(t._i[r]=o)),t},getEntry:f,setStrong:function(t,e,n){A(t,e,function(t,n){this._t=h(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?c(0,n.k):"values"==e?c(0,n.v):c(0,[n.k,n.v]):(t._t=void 0,c(1))},n?"entries":"values",!n,!0),u(e)}}},function(t,e,n){var i=n(53),r=n(122);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},function(t,e,n){"use strict";var i=n(43),r=n(35).getWeak,o=n(1),a=n(4),s=n(37),l=n(38),A=n(24),c=n(15),u=n(51),T=A(5),C=A(6),h=0,G=function(t){return t._l||(t._l=new f)},f=function(){this.a=[]},d=function(t,e){return T(t.a,function(t){return t[0]===e})};f.prototype={get:function(t){var e=d(this,t);if(e)return e[1]},has:function(t){return!!d(this,t)},set:function(t,e){var n=d(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=C(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var A=t(function(t,i){s(t,A,e,"_i"),t._t=e,t._i=h++,t._l=void 0,void 0!=i&&l(i,n,t[o],t)});return i(A.prototype,{delete:function(t){if(!a(t))return!1;var n=r(t);return!0===n?G(u(this,e)).delete(t):n&&c(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=r(t);return!0===n?G(u(this,e)).has(t):n&&c(n,this._i)}}),A},def:function(t,e,n){var i=r(o(e),!0);return!0===i?G(t).set(e,n):i[t._i]=n,t},ufstore:G}},function(t,e,n){"use strict";function i(t,e,n,A,c,u,T,C){for(var h,G,f=c,d=0,p=!!T&&s(T,C,3);d<A;){if(d in n){if(h=p?p(n[d],d,e):n[d],G=!1,o(h)&&(G=h[l],G=void 0!==G?!!G:r(h)),G&&u>0)f=i(t,e,h,a(h.length),f,u-1)-1;else{if(f>=9007199254740991)throw TypeError();t[f]=h}f++}d++}return f}var r=n(61),o=n(4),a=n(9),s=n(22),l=n(6)("isConcatSpreadable");t.exports=i},function(t,e,n){t.exports=!n(7)&&!n(3)(function(){return 7!=Object.defineProperty(n(79)("div"),"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(4),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},function(t,e,n){var i=n(1);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var i=n(88),r=Math.pow,o=r(2,-52),a=r(2,-23),s=r(2,127)*(2-a),l=r(2,-126),A=function(t){return t+1/o-1/o};t.exports=Math.fround||function(t){var e,n,r=Math.abs(t),c=i(t);return r<l?c*A(r/l/a)*l*a:(e=(1+a/o)*r,n=e-(e-r),n>s||n!=n?c*(1/0):c*n)}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e){t.exports=Math.scale||function(t,e,n,i,r){return 0===arguments.length||t!=t||e!=e||n!=n||i!=i||r!=r?NaN:t===1/0||t===-1/0?t:(t-e)*(r-i)/(n-e)+i}},function(t,e,n){"use strict";var i=n(41),r=n(65),o=n(55),a=n(10),s=n(54),l=Object.assign;t.exports=!l||n(3)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i})?function(t,e){for(var n=a(t),l=arguments.length,A=1,c=r.f,u=o.f;l>A;)for(var T,C=s(arguments[A++]),h=c?i(C).concat(c(C)):i(C),G=h.length,f=0;G>f;)u.call(C,T=h[f++])&&(n[T]=C[T]);return n}:l},function(t,e,n){var i=n(8),r=n(1),o=n(41);t.exports=n(7)?Object.defineProperties:function(t,e){r(t);for(var n,a=o(e),s=a.length,l=0;s>l;)i.f(t,n=a[l++],e[n]);return t}},function(t,e,n){var i=n(18),r=n(40).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return r(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):r(i(t))}},function(t,e,n){var i=n(15),r=n(18),o=n(57)(!1),a=n(92)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),l=0,A=[];for(n in s)n!=a&&i(s,n)&&A.push(n);for(;e.length>l;)i(s,n=e[l++])&&(~o(A,n)||A.push(n));return A}},function(t,e,n){var i=n(41),r=n(18),o=n(55).f;t.exports=function(t){return function(e){for(var n,a=r(e),s=i(a),l=s.length,A=0,c=[];l>A;)o.call(a,n=s[A++])&&c.push(t?[n,a[n]]:a[n]);return c}}},function(t,e,n){var i=n(40),r=n(65),o=n(1),a=n(2).Reflect;t.exports=a&&a.ownKeys||function(t){var e=i.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},function(t,e,n){var i=n(2).parseFloat,r=n(50).trim;t.exports=1/i(n(96)+"-0")!=-1/0?function(t){var e=r(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},function(t,e,n){var i=n(2).parseInt,r=n(50).trim,o=n(96),a=/^[-+]?0[xX]/;t.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(a.test(n)?16:10))}:i},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var i=n(1),r=n(4),o=n(90);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var i=n(9),r=n(95),o=n(25);t.exports=function(t,e,n,a){var s=String(o(t)),l=s.length,A=void 0===n?" ":String(n),c=i(e);if(c<=l||""==A)return s;var u=c-l,T=r.call(A,Math.ceil(u/A.length));return T.length>u&&(T=T.slice(0,u)),a?T+s:s+T}},function(t,e,n){var i=n(27),r=n(9);t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){e.f=n(6)},function(t,e,n){"use strict";var i=n(125),r=n(51);t.exports=n(58)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=i.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(r(this,"Map"),0===t?0:t,e)}},i,!0)},function(t,e,n){n(7)&&"g"!=/./g.flags&&n(8).f(RegExp.prototype,"flags",{configurable:!0,get:n(60)})},function(t,e,n){"use strict";var i=n(125),r=n(51);t.exports=n(58)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},function(t,e,n){"use strict";var i,r=n(24)(0),o=n(13),a=n(35),s=n(137),l=n(127),A=n(4),c=n(3),u=n(51),T=a.getWeak,C=Object.isExtensible,h=l.ufstore,G={},f=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},d={get:function(t){if(A(t)){var e=T(t);return!0===e?h(u(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(u(this,"WeakMap"),t,e)}},p=t.exports=n(58)("WeakMap",f,d,l,!0,!0);c(function(){return 7!=(new p).set((Object.freeze||Object)(G),7).get(G)})&&(i=l.getConstructor(f,"WeakMap"),s(i.prototype,d),a.NEED=!0,r(["delete","has","get","set"],function(t){var e=p.prototype,n=e[t];o(e,t,function(e,r){if(A(e)&&!C(e)){this._f||(this._f=new i);var o=this._f[t](e,r);return"set"==t?this:o}return n.call(this,e,r)})}))},function(t,e,n){function i(){function t(t){r.supported()?window.parent.postMessage(t,"*"):window.parent.postMessage(JSON.stringify(t),"*")}function e(e,n){var i;i=1===arguments.length&&"object"==typeof e&&"string"==typeof e.type?e:{type:e,content:n},d?t(i):p.push(i)}function n(){t({type:"hello"})}function i(t,e){G[t]=e}function s(){G={}}function l(){return Object.keys(G)}function A(t){if(t.source===window.parent){var n=t.data;if("string"==typeof n&&(n=JSON.parse(n)),!d&&"hello"===n.type)for(d=!0,C();p.length>0;)e(p.shift());d&&G[n.type]&&G[n.type](n.content)}}function c(){d=!1,C(),window.removeEventListener("message",messsageListener)}function u(){f||(f=!0,window.parent!==window&&(T(),window.addEventListener("message",A,!1)))}function T(){h&&C(),h=window.setInterval(n,o),window.setTimeout(C,a),n()}function C(){window.clearInterval(h),h=null}var h,G={},f=!1,d=!1,p=[];return{initialize:u,getListenerNames:l,addListener:i,removeAllListeners:s,disconnect:c,post:e}}var r=n(104),o=200,a=6e4,s=null;t.exports=function(){return s||(s=new i),s}},function(t,e,n){var i=n(104);t.exports=function(t,e,n){function r(t,n){var r;if(r=1===arguments.length&&"object"==typeof t&&"string"==typeof t.type?t:{type:t,content:n},T){var o=s();i.supported()?o.postMessage(r,e):o.postMessage(JSON.stringify(r),e)}else u.push(r)}function o(t,e){C[t]=e}function a(t){C[t]=null}function s(){if(c){var e=t.contentWindow;if(!e)throw"IFrame element needs to be added to DOM before communication can be started (.contentWindow is not available)";return e}return t}function l(t){var n;t.source!==s()||"*"!==e&&t.origin!==e||(n=t.data,"string"==typeof n&&(n=JSON.parse(n)),C[n.type]?C[n.type](n.content):console.log("cant handle type: "+n.type))}function A(){T=!1,window.removeEventListener("message",l)}var c,u=[],T=!1,C={};try{c=t.constructor===HTMLIFrameElement}catch(t){c=!1}return c&&(e&&e.constructor!==Function||(n=e,e=function(t){return t.src.match(/(.*?\/\/.*?)\//)[1]}(t))),"file://"===e&&(e="*"),o("hello",function(){for(T=!0,r({type:"hello",origin:window.location.href.match(/(.*?\/\/.*?)\//)[1]}),n&&"function"==typeof n&&n();u.length>0;)r(u.shift())}),window.addEventListener("message",l,!1),{post:r,addListener:o,removeListener:a,disconnect:A,getTargetWindow:s,targetOrigin:e}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(105),n(106);var l=n(5),A=i(l),c=n(72),u=i(c),T=n(175),C=i(T),h=n(180),G=i(h),f=n(179),d=i(f),p=n(178),m=i(p),g=n(177),v=i(g),y=n(176),b=i(y),_=n(158),x=i(_),w=n(160),S=i(w),k=n(108),E=(i(k),n(159)),O=i(E),M=n(119),P=(i(M),n(118)),j=(i(P),n(109)),F=i(j),B=n(29),N=n(19),I=(i(N),n(161)),D=i(I),H=function(t){function e(){r(this,e);var t=(document.documentElement,window.innerWidth),n=window.innerHeight,i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,A.default.CANVAS,"content",""));i.globalTimeScale=1,i.phone=new u.default.getIFrameEndpoint,i.phone.initialize(),i.phone.addListener("showTutorial",function(){i.hudView.showTutorial()}),i.phone.addListener("hideTutorial",function(){i.hudView.hideTutorial()}),i.phone.addListener("getActionStats",function(){i.phone.post("stats",i.actions.stats)}),i.phone.addListener("showActionStats",function(){i.hudView.showStats()}),i.phone.addListener("hideActionStats",function(){i.hudView.hideStats()}),i.actions=new D.default(i);var a=(0,B.getParameterByName)("stats");i.showStats=a&&"true"===a,i.initialState=(0,B.getParameterByName)("initial-state");var s=i.baseAlleles=(0,B.getParameterByName)("allele-shorthand");s||(s="11111111"),i.preAlleles=(0,B.getParameterByName)("pre-alleles"),i.preTargetColor=(0,B.getParameterByName)("pre-target-color"),i.numInitialStars=(0,B.getParameterByName)("num-stars");var l=(0,B.getParameterByName)("target-color");l=l?l.toLowerCase():"lava",i.finalTarget=l;var c=(0,B.getParameterByName)("boss");i.isBossLevel=!!c,i.bossMoves=0;var T=(0,B.getParameterByName)("nucleus");i.isNucleus=!!T&&(i.isBossLevel=!0),i.relevantGeneShorthand=(0,B.getParameterByName)("relevant-gene-shorthand");var h=(0,B.getParameterByName)("mission");if(h){i.missionId=h;"3.2.1"==h?(i.ftueFile=O.default,i.ftueStep=0,i.ftueData=i.ftueFile.steps[i.ftueStep],s=i.ftueData.alleles,i.numInitialStars=i.ftueData.stars):(i.tutorialData=S.default[h],"3.4.3"===h&&(s=i.baseAlleles="00111111",i.initialState="gate",i.finalTarget="steel",i.isNucleus=!0,i.relevantGeneShorthand="11000011",i.isBossLevel=!0,i.preAlleles="11111111",i.preTargetColor="charcoal",i.numInitialStars=13))}return i.loadCellData(s,i.finalTarget,i.numInitialStars),i.postNucleusMsgs={SizeActivity:"Watch as the proteins you created are delivered to the melapod.",GateActivity:"Watch as the proteins you created are delivered to the tunnels.",MotorActivity:""},i.state.add("Boot",C.default,!1),i.state.add("Splash",G.default,!1),i.state.add("SizeActivity",d.default,!1),i.state.add("MotorActivity",m.default,!1),i.state.add("GateActivity",v.default,!1),i.state.add("FakeStateActivity",b.default,!1),i.state.start("Boot"),i}return a(e,t),s(e,[{key:"loadCellData",value:function(t,e,n){switch(this.cellData=x.default,this.cellData.chromosomePairs[1].chromosomeA.genes[0].selected_allele=t[0],this.cellData.chromosomePairs[1].chromosomeB.genes[0].selected_allele=t[1],this.cellData.chromosomePairs[1].chromosomeA.genes[1].selected_allele=t[2],this.cellData.chromosomePairs[1].chromosomeB.genes[1].selected_allele=t[3],this.cellData.chromosomePairs[2].chromosomeA.genes[0].selected_allele=t[4],this.cellData.chromosomePairs[2].chromosomeB.genes[0].selected_allele=t[5],this.cellData.chromosomePairs[0].chromosomeA.genes[0].selected_allele=t[6],this.cellData.chromosomePairs[0].chromosomeB.genes[0].selected_allele=t[7],this.relevantGeneShorthand||(this.relevantGeneShorthand="11111111"),this.cellData.chromosomePairs[1].chromosomeA.genes[0].isRelevant="1"==this.relevantGeneShorthand[0],this.cellData.chromosomePairs[1].chromosomeB.genes[0].isRelevant="1"==this.relevantGeneShorthand[1],this.cellData.chromosomePairs[1].chromosomeA.genes[1].isRelevant="1"==this.relevantGeneShorthand[2],this.cellData.chromosomePairs[1].chromosomeB.genes[1].isRelevant="1"==this.relevantGeneShorthand[3],this.cellData.chromosomePairs[2].chromosomeA.genes[0].isRelevant="1"==this.relevantGeneShorthand[4],this.cellData.chromosomePairs[2].chromosomeB.genes[0].isRelevant="1"==this.relevantGeneShorthand[5],this.cellData.chromosomePairs[0].chromosomeA.genes[0].isRelevant="1"==this.relevantGeneShorthand[6],this.cellData.chromosomePairs[0].chromosomeB.genes[0].isRelevant="1"==this.relevantGeneShorthand[7],this.initialState){case"size":this.cellData.chromosomePairs[1].isRelevant=!0,this.cellData.current_pair_index=1,1==this.cellData.chromosomePairs[1].chromosomeA.genes[0].isRelevant?this.cellData.initial_chromosome_location=this.cellData.chromosomePairs[1].chromosomeA.genes[0].location:1==this.cellData.chromosomePairs[1].chromosomeA.genes[1].isRelevant&&(this.cellData.initial_chromosome_location=this.cellData.chromosomePairs[1].chromosomeA.genes[1].location);break;case"motor":this.cellData.chromosomePairs[2].isRelevant=!0,this.cellData.current_pair_index=2,this.cellData.initial_chromosome_location=this.cellData.chromosomePairs[2].chromosomeA.genes[0].location;break;case"gate":this.cellData.chromosomePairs[0].isRelevant=!0,this.cellData.current_pair_index=0,this.cellData.initial_chromosome_location=this.cellData.chromosomePairs[0].chromosomeA.genes[0].location;break;default:this.cellData.chromosomePairs[1].isRelevant=!0,this.cellData.current_pair_index=1,this.cellData.initial_chromosome_location=this.cellData.chromosomePairs[1].chromosomeA.genes[0].location}this.cellModel=new F.default({cellData:this.cellData,chromosomePairs:this.cellData.chromosomePairs,target_color:e,initial_stars:n})}},{key:"useBossMove",value:function(){this.bossMoves++,this.isBossLevel&&console.log("moveUsed")}},{key:"handleReturnFromNucleus",value:function(){game.paused=!1;var t=game.state.states[game.state.current];if("GateActivity"===game.state.current&&game.isBossLevel&&game.cellModel.getGeneticColorName()==game.finalTarget)game.isPostNucleus=!0,game.currentAlleles=this.cellModel.getGeneticShortcode(),game.inPreScene=!0,this.loadCellData(this.preAlleles,this.preTargetColor,this.numInitialStars),game.state.start("SizeActivity"),game.hudView.showMessage(this.postNucleusMsgs.SizeActivity);else if(t&&t.handleReturnFromNucleus){t.handleReturnFromNucleus();var e=this.postNucleusMsgs[game.state.current];""!=e?game.hudView.showMessage(e):game.hudView.hideMessage()}}},{key:"handlePreSceneComplete",value:function(){this.inPreScene=!1,this.loadCellData(game.currentAlleles,game.finalTarget,0),game.state.start("GateActivity"),game.hudView.showMessage(this.postNucleusMsgs.GateActivity)}},{key:"loadNextStep",value:function(){this.ftueStep++,this.ftueStep<this.ftueFile.steps.length?(this.ftueData=this.ftueFile.steps[this.ftueStep],this.globalTimeScale=this.ftueData.gameSpeed,this.numInitialStars=this.ftueData.stars,this.loadCellData(this.ftueData.alleles,null,this.numInitialStars),game.state.restart()):game.state.postWin()}},{key:"exit",value:function(){console.log("game.exit()"),console.log("ATTN: You'll probably need to re-focus on the app for it to unpause and complete the win."),game.state.states[game.state.current].handleExit()}},{key:"fastExit",value:function(){this.phone.post("activityExit",{activity:"gate",cellModel:this.cellModel.toJSON()})}},{key:"win",value:function(){console.log("game.win()"),console.log("ATTN: You'll probably need to re-focus on the app for it to unpause and complete the win."),game.state.states[game.state.current].handleWin()}},{key:"hideHud",value:function(t){this.hudView.hideEverything(t)}}]),e}(A.default.Game);window.game=new H,window.addEventListener("contextmenu",function(t){t.preventDefault()})},function(t,e,n){"use strict";(function(t){function e(t,e,n){t[e]||Object[i](t,e,{writable:!0,configurable:!0,value:n})}if(n(384),n(184),n(185),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var i="defineProperty";e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(e,n(47))},function(t,e){t.exports={chromosomePairs:[{chromosomeA:{genes:[{id:"gate_stopper_button",name:"Pod-Releasing Protein",value:"working",selected_allele:1,location:80,alleles:[{id:"broken",name:"shiny",value:!1,img:"assets/images/chromosome/asip_broken.png",code:"<em>ATGACAGTGGGATTTTTTC<strong>A</strong>CGCAACAATGAAAAGGAAGAACCTTTTCCT</em>AAGCCTATTGCTCTGCTACAGTTTGCTCAGAGCTGCCAGTTCTCACCTCATAATCGAGGAGAAGACAGAATGCAACCTTTCAAAGAGCAACAAAATGAACCTCCCAGATCTCCCACCCATCTCCATTGTAGATTTAACTAAAAGATCCCAGAAAGTCAGCAGAAAAGAGGCAGAGAATAAGAAATCTTCCAAGAAAAATGCTGAACTGAAGGCACCTCCAAAACCAAGGCCCACACCTGCTGCTGACTGCGTGCCAAACTTCAAAACCTGCAAACCACACTTGAATCCATGTTGTAACTACTGTGCGTTGTGCAAATGCCGAATTTTTCAGACTATCTGCCAATGTCTACTGTTAAACCCAAAGTGTTAA"},{id:"working",name:"dull",value:!0,img:"assets/images/chromosome/asip_working.png",code:"<em>ATGACAGTGGGATTTTTTC<strong>T</strong>CGCAACAATGAAAAGGAAGAACCTTTTCCT</em>AAGCCTATTGCTCTGCTACAGTTTGCTCAGAGCTGCCAGTTCTCACCTCATAATCGAGGAGAAGACAGAATGCAACCTTTCAAAGAGCAACAAAATGAACCTCCCAGATCTCCCACCCATCTCCATTGTAGATTTAACTAAAAGATCCCAGAAAGTCAGCAGAAAAGAGGCAGAGAATAAGAAATCTTCCAAGAAAAATGCTGAACTGAAGGCACCTCCAAAACCAAGGCCCACACCTGCTGCTGACTGCGTGCCAAACTTCAAAACCTGCAAACCACACTTGAATCCATGTTGTAACTACTGTGCGTTGTGCAAATGCCGAATTTTTCAGACTATCTGCCAATGTCTACTGTTAAACCCAAAGTGTTAA"}]}]},chromosomeB:{genes:[{id:"gate_stopper_button",name:"Pod-Releasing Protein",value:"working",selected_allele:1,location:80,alleles:[{id:"broken",name:"shiny",value:!1,img:"assets/images/chromosome/asip_broken.png",code:"<em>ATGACAGTGGGATTTTTTC<strong>A</strong>CGCAACAATGAAAAGGAAGAACCTTTTCCT</em>AAGCCTATTGCTCTGCTACAGTTTGCTCAGAGCTGCCAGTTCTCACCTCATAATCGAGGAGAAGACAGAATGCAACCTTTCAAAGAGCAACAAAATGAACCTCCCAGATCTCCCACCCATCTCCATTGTAGATTTAACTAAAAGATCCCAGAAAGTCAGCAGAAAAGAGGCAGAGAATAAGAAATCTTCCAAGAAAAATGCTGAACTGAAGGCACCTCCAAAACCAAGGCCCACACCTGCTGCTGACTGCGTGCCAAACTTCAAAACCTGCAAACCACACTTGAATCCATGTTGTAACTACTGTGCGTTGTGCAAATGCCGAATTTTTCAGACTATCTGCCAATGTCTACTGTTAAACCCAAAGTGTTAA"},{id:"working",name:"dull",value:!0,img:"assets/images/chromosome/asip_working.png",code:"<em>ATGACAGTGGGATTTTTTC<strong>T</strong>CGCAACAATGAAAAGGAAGAACCTTTTCCT</em>AAGCCTATTGCTCTGCTACAGTTTGCTCAGAGCTGCCAGTTCTCACCTCATAATCGAGGAGAAGACAGAATGCAACCTTTCAAAGAGCAACAAAATGAACCTCCCAGATCTCCCACCCATCTCCATTGTAGATTTAACTAAAAGATCCCAGAAAGTCAGCAGAAAAGAGGCAGAGAATAAGAAATCTTCCAAGAAAAATGCTGAACTGAAGGCACCTCCAAAACCAAGGCCCACACCTGCTGCTGACTGCGTGCCAAACTTCAAAACCTGCAAACCACACTTGAATCCATGTTGTAACTACTGTGCGTTGTGCAAATGCCGAATTTTTCAGACTATCTGCCAATGTCTACTGTTAAACCCAAAGTGTTAA"}]}]}},{chromosomeA:{genes:[{id:"trp_flower_01",name:"Mela-Helper",value:"working",selected_allele:1,location:10,alleles:[{id:"broken",name:"orange",value:!1,img:"assets/images/chromosome/trp_01.png",code:"ATGCAGAGTGTT<em>ATTATGCACCTATCCATATTACTAC<strong>T</strong>CCTCACCTTTTTTCAAGAAAT</em>TCATGCTCAGTTCCCCCGGCAGTGTGCTACAGTTGCGGCTCTGACAAGCGGTGAATGTTGCCCAGATCTGTCTCCCGTGGTGATACCCGGTTCAGACCGTTGTGGATCATCTATTGGAAGGGGTCAATGTGTCCAAGTGATGGCAGACAGTCGGCCCCATGGACCACAGTACATGCATGATGGTCAAGATGACCGAGAGCAGTGGCCTCTGCGCTTTTTCAATCGAACCTGTCAATGCAACAGAAATTTTTCAGGATATAATTGTGGGTCCTGCCGTCCTGGTTGGAGTGGACCTGCATGTGATCAGCAGACTCAGACAGTCAGACGAAACATTCTGGATCTGAGTAACGAGGAAAGGAATCAATTCCTAAGAGTCCTTCATCAAGCCAAAAACACAGTGCATCCCAACATTGTGATTGCTATCCGGAGGCGGGAAGAGATACTGGGTCCTGATGGCAACACACCACAATTCGAAAATGTGACAATTTATAATTACTTTGTGTGGTCCCATTACTACTCTGTCAGAAAGACATTCCTTGGCCCAGGGCTGCCCAGTTTTGGGGGAATAGATTTCTCCCATGAAGGGCCAGCATTTCTCACCTGGCATAGATACCACCTCCTACAGCTGGAAAAAGATATCCAGGATATGATCCGGGATCCTTCTTTTGCACTTCCCTACTGGAACTTTGCAACAGGTAGAAACACTTGTGACATCTGTACAGATGAACTCATGGGAGCTAGAAGCAACTTTGATACCAATCTTCTAAGCCAAAACTCTGTCTTCTCTCAGTGGCGTGTTTTGTGTGAAAATGTTGATGACTATGACACCTTGGGAACCATATGCAACAGCTCAGAAGGGGGTCCAATTAGACGAAACCCAGCTGGAAATGTTGCTCGGCCAATGGTGCAGCGCCTTCCTGAGCCACAGGATGTAGCTCTTTGCTTAGAAGTCGGATTGTTTGATACACCGCCATTCTATTCAAATTCAACAGACAGTTTTCGCAATTCGCTGGAAGGCTACAGCCAACCTTCTGGAAAGTATGATCCCATAGTACGCAGTCTTCACAACCTGGCCCATCTGTTTTTGAATGGCACGGGAGGGCAAACCCATCTCTCGCCAAATGATCCTATCTTTGTTCTCCTTCATACCTTTACTGATGCACTTTTTGATGAATGGCTGAGGAGGCACAATACCGATATTTCAATATTTCCTCTGGAGAATGCCCCCATTGGACACAACAGACAGTACAACATGGTGCCATTCTGGCCTCCAGTGACCAACAATGAGATGTTTGTTTCAGCACCAGAAAATCTGGGCTACAGTTATGAAGTTCAATGGCCAACTCGGGCCCTCCACATCACTGAGATCATAACTATCGCAATTGTGACAGCCTTGATCCTGGTTGCAATTATATTTGCCGGTGCCACATGCATAGTTCACGCCAGACGGAGGGACGATGAAATTCACCAGCCTCTTCTCAATGAACAATATCAGACCTACTCAGACGATTACGACAGTATACCCACCCCAAGCCAGTCAGTTGTGTGA"},{id:"working",name:"gray",value:!0,img:"assets/images/chromosome/trp_02.png",code:"ATGCAGAGTGTT<em>ATTATGCACCTATCCATATTACTAC<strong>G</strong>CCTCACCTTTTTTCAAGAAAT</em>TCATGCTCAGTTCCCCCGGCAGTGTGCTACAGTTGCGGCTCTGACAAGCGGTGAATGTTGCCCAGATCTGTCTCCCGTGGTGATACCCGGTTCAGACCGTTGTGGATCATCTATTGGAAGGGGTCAATGTGTCCAAGTGATGGCAGACAGTCGGCCCCATGGACCACAGTACATGCATGATGGTCAAGATGACCGAGAGCAGTGGCCTCTGCGCTTTTTCAATCGAACCTGTCAATGCAACAGAAATTTTTCAGGATATAATTGTGGGTCCTGCCGTCCTGGTTGGAGTGGACCTGCATGTGATCAGCAGACTCAGACAGTCAGACGAAACATTCTGGATCTGAGTAACGAGGAAAGGAATCAATTCCTAAGAGTCCTTCATCAAGCCAAAAACACAGTGCATCCCAACATTGTGATTGCTATCCGGAGGCGGGAAGAGATACTGGGTCCTGATGGCAACACACCACAATTCGAAAATGTGACAATTTATAATTACTTTGTGTGGTCCCATTACTACTCTGTCAGAAAGACATTCCTTGGCCCAGGGCTGCCCAGTTTTGGGGGAATAGATTTCTCCCATGAAGGGCCAGCATTTCTCACCTGGCATAGATACCACCTCCTACAGCTGGAAAAAGATATCCAGGATATGATCCGGGATCCTTCTTTTGCACTTCCCTACTGGAACTTTGCAACAGGTAGAAACACTTGTGACATCTGTACAGATGAACTCATGGGAGCTAGAAGCAACTTTGATACCAATCTTCTAAGCCAAAACTCTGTCTTCTCTCAGTGGCGTGTTTTGTGTGAAAATGTTGATGACTATGACACCTTGGGAACCATATGCAACAGCTCAGAAGGGGGTCCAATTAGACGAAACCCAGCTGGAAATGTTGCTCGGCCAATGGTGCAGCGCCTTCCTGAGCCACAGGATGTAGCTCTTTGCTTAGAAGTCGGATTGTTTGATACACCGCCATTCTATTCAAATTCAACAGACAGTTTTCGCAATTCGCTGGAAGGCTACAGCCAACCTTCTGGAAAGTATGATCCCATAGTACGCAGTCTTCACAACCTGGCCCATCTGTTTTTGAATGGCACGGGAGGGCAAACCCATCTCTCGCCAAATGATCCTATCTTTGTTCTCCTTCATACCTTTACTGATGCACTTTTTGATGAATGGCTGAGGAGGCACAATACCGATATTTCAATATTTCCTCTGGAGAATGCCCCCATTGGACACAACAGACAGTACAACATGGTGCCATTCTGGCCTCCAGTGACCAACAATGAGATGTTTGTTTCAGCACCAGAAAATCTGGGCTACAGTTATGAAGTTCAATGGCCAACTCGGGCCCTCCACATCACTGAGATCATAACTATCGCAATTGTGACAGCCTTGATCCTGGTTGCAATTATATTTGCCGGTGCCACATGCATAGTTCACGCCAGACGGAGGGACGATGAAATTCACCAGCCTCTTCTCAATGAACAATATCAGACCTACTCAGACGATTACGACAGTATACCCACCCCAAGCCAGTCAGTTGTGTGA"}]},{id:"tyr_mouth",name:"Mela-Maker",value:"working",selected_allele:1,location:30,alleles:[{id:"broken",name:"albino",value:!1,img:"assets/images/chromosome/tyr_broken.png",code:"<em>ATG<strong>__</strong>TCTTTTCTCCATCGGCATCTTC</em>TTCGGTCTTCTTCCTCTAGGATTGAGCCAGTTCCCACGGGCATGTGCCAATTCGGACAGTCTGCTAAAAAAGGAATGCTGCCCCCCTTGGCCAGGGGACGGGTCTCCTTGTGGAGAGCTTTCAGGCAGGGGGTCCTGTTCAGATATCCTTCTTTCAGATGCCCCACTTGGTCCTCAGTTTCCCTTCTCTGGAGTGGACGACAGGGAAGATTGGCCAGCTGTTTTTTATAACAGAACTTGCCAATGCACAGGCAACTTCATGGGGTTCAACTGCGGCGATTGCAAGTTCAACTTTGCAGGTCCCAACTGCACTCAAAGAAAGGCACAGGTGAGGAGAGATATCTTCCGGATCAGTGCCAGGGAAAAGTTCCAGTTTCTTGCCTACCTCAATTTGGCCAAGCACACAACTAGCCGGGATTTTGTCATTGCAACAGGAACGTATGCTCAAATGAACAACGGCTCAACCCCTATGTTCCGAGACATCAACGTCTATGACCTGTTCGTTTGGATGCATTATTACGTGTCCCGGGATACGCTCCTTGGAGGCACCAGCGTGTGGCGAGACATTGATTTTGCCCATGAGGCCCCAGGTTTCCTTCCTTGGCACCGGCTTTTTTTGCTCATGTGGGAACATGAGATCCAGAAGTTGACTGGGAATGAGAACTTTACCATCCCCTATTGGGACTGGCGAGATGCCCAGGGCTGTGACATCTGTACGGATGAAATCATGGGTGGCAGACATCCCAGCAACCCAAACATTCTGAGTCCAGCTTCTTTCTTCTCTTCATGGCAGGTAATTTGCAGCCGGTCAGAAGAGTACAACAGTCGTCAAGAACTTTGCAATGGCACAAATGAAGGGCCTATTCTTCGAAACCCCGGCAACCATGATAAAGGGAGGACACCTCGGCTTCCATCTTCGGCAGATGTTGAATTCTGCTTAAGTTTGACACAGTACGAAGCGGGAACCATGGACAAAATGGCTAACTTCAGCTTCAGGAATACTTTGGAAGGCTTTGCTGATCCGAGTACTGCAATATCAAATGTATCTCAAAGCAGCCTGCACAACGCATTGCACATCTACATGAATGGCTCCATGTCTGAGGTACAAGGATCAGCCAATGATCCCATCTTCATCCTTCACCATGCCTTTGTTGACAGCATTTTTGAACAATGGCTTAGAAGACATCGACCTCTACGTGAGGTTTATCCTGCAGCCAATGCCCCAATTGGACACAACCGTGAATCCTACATGGTCCCCTTCATTCCACTTTACAGGAATGGGGAATTCTTCATATCATCAATAGAACTGGGATATGACTATGAATATCTAACAAATCCAGCCAACCCCTTCCAGAATTTTTTCCTGCCTTATTTGGAACAGGCACGTCAAATCTGGCCATGGCTGGTGGGAGCTGCCGTGGTGGGTGCCATTATAATGTTGATTGTTGGCATCATTGTTCTACGATGTCGGAAGAAGAGACGGATCTCAGAAGAGACACAACCATTACTCATGGAGAGTGAGGATTATCAGCACATGACATACCAGTCACATGTATAA"},{id:"working",name:"color",value:!0,img:"assets/images/chromosome/tyr_working.png",code:"<em>ATG<strong>TG</strong>TCTTTTCTCCATCGGCATCTTC</em>TTCGGTCTTCTTCCTCTAGGATTGAGCCAGTTCCCACGGGCATGTGCCAATTCGGACAGTCTGCTAAAAAAGGAATGCTGCCCCCCTTGGCCAGGGGACGGGTCTCCTTGTGGAGAGCTTTCAGGCAGGGGGTCCTGTTCAGATATCCTTCTTTCAGATGCCCCACTTGGTCCTCAGTTTCCCTTCTCTGGAGTGGACGACAGGGAAGATTGGCCAGCTGTTTTTTATAACAGAACTTGCCAATGCACAGGCAACTTCATGGGGTTCAACTGCGGCGATTGCAAGTTCAACTTTGCAGGTCCCAACTGCACTCAAAGAAAGGCACAGGTGAGGAGAGATATCTTCCGGATCAGTGCCAGGGAAAAGTTCCAGTTTCTTGCCTACCTCAATTTGGCCAAGCACACAACTAGCCGGGATTTTGTCATTGCAACAGGAACGTATGCTCAAATGAACAACGGCTCAACCCCTATGTTCCGAGACATCAACGTCTATGACCTGTTCGTTTGGATGCATTATTACGTGTCCCGGGATACGCTCCTTGGAGGCACCAGCGTGTGGCGAGACATTGATTTTGCCCATGAGGCCCCAGGTTTCCTTCCTTGGCACCGGCTTTTTTTGCTCATGTGGGAACATGAGATCCAGAAGTTGACTGGGAATGAGAACTTTACCATCCCCTATTGGGACTGGCGAGATGCCCAGGGCTGTGACATCTGTACGGATGAAATCATGGGTGGCAGACATCCCAGCAACCCAAACATTCTGAGTCCAGCTTCTTTCTTCTCTTCATGGCAGGTAATTTGCAGCCGGTCAGAAGAGTACAACAGTCGTCAAGAACTTTGCAATGGCACAAATGAAGGGCCTATTCTTCGAAACCCCGGCAACCATGATAAAGGGAGGACACCTCGGCTTCCATCTTCGGCAGATGTTGAATTCTGCTTAAGTTTGACACAGTACGAAGCGGGAACCATGGACAAAATGGCTAACTTCAGCTTCAGGAATACTTTGGAAGGCTTTGCTGATCCGAGTACTGCAATATCAAATGTATCTCAAAGCAGCCTGCACAACGCATTGCACATCTACATGAATGGCTCCATGTCTGAGGTACAAGGATCAGCCAATGATCCCATCTTCATCCTTCACCATGCCTTTGTTGACAGCATTTTTGAACAATGGCTTAGAAGACATCGACCTCTACGTGAGGTTTATCCTGCAGCCAATGCCCCAATTGGACACAACCGTGAATCCTACATGGTCCCCTTCATTCCACTTTACAGGAATGGGGAATTCTTCATATCATCAATAGAACTGGGATATGACTATGAATATCTAACAAATCCAGCCAACCCCTTCCAGAATTTTTTCCTGCCTTATTTGGAACAGGCACGTCAAATCTGGCCATGGCTGGTGGGAGCTGCCGTGGTGGGTGCCATTATAATGTTGATTGTTGGCATCATTGTTCTACGATGTCGGAAGAAGAGACGGATCTCAGAAGAGACACAACCATTACTCATGGAGAGTGAGGATTATCAGCACATGACATACCAGTCACATGTATAA"}]}]},chromosomeB:{genes:[{id:"trp_flower_01",name:"Mela-Helper",value:"working",selected_allele:1,location:10,alleles:[{id:"broken",name:"orange",value:!1,img:"assets/images/chromosome/trp_01.png",code:"ATGCAGAGTGTT<em>ATTATGCACCTATCCATATTACTAC<strong>T</strong>CCTCACCTTTTTTCAAGAAAT</em>TCATGCTCAGTTCCCCCGGCAGTGTGCTACAGTTGCGGCTCTGACAAGCGGTGAATGTTGCCCAGATCTGTCTCCCGTGGTGATACCCGGTTCAGACCGTTGTGGATCATCTATTGGAAGGGGTCAATGTGTCCAAGTGATGGCAGACAGTCGGCCCCATGGACCACAGTACATGCATGATGGTCAAGATGACCGAGAGCAGTGGCCTCTGCGCTTTTTCAATCGAACCTGTCAATGCAACAGAAATTTTTCAGGATATAATTGTGGGTCCTGCCGTCCTGGTTGGAGTGGACCTGCATGTGATCAGCAGACTCAGACAGTCAGACGAAACATTCTGGATCTGAGTAACGAGGAAAGGAATCAATTCCTAAGAGTCCTTCATCAAGCCAAAAACACAGTGCATCCCAACATTGTGATTGCTATCCGGAGGCGGGAAGAGATACTGGGTCCTGATGGCAACACACCACAATTCGAAAATGTGACAATTTATAATTACTTTGTGTGGTCCCATTACTACTCTGTCAGAAAGACATTCCTTGGCCCAGGGCTGCCCAGTTTTGGGGGAATAGATTTCTCCCATGAAGGGCCAGCATTTCTCACCTGGCATAGATACCACCTCCTACAGCTGGAAAAAGATATCCAGGATATGATCCGGGATCCTTCTTTTGCACTTCCCTACTGGAACTTTGCAACAGGTAGAAACACTTGTGACATCTGTACAGATGAACTCATGGGAGCTAGAAGCAACTTTGATACCAATCTTCTAAGCCAAAACTCTGTCTTCTCTCAGTGGCGTGTTTTGTGTGAAAATGTTGATGACTATGACACCTTGGGAACCATATGCAACAGCTCAGAAGGGGGTCCAATTAGACGAAACCCAGCTGGAAATGTTGCTCGGCCAATGGTGCAGCGCCTTCCTGAGCCACAGGATGTAGCTCTTTGCTTAGAAGTCGGATTGTTTGATACACCGCCATTCTATTCAAATTCAACAGACAGTTTTCGCAATTCGCTGGAAGGCTACAGCCAACCTTCTGGAAAGTATGATCCCATAGTACGCAGTCTTCACAACCTGGCCCATCTGTTTTTGAATGGCACGGGAGGGCAAACCCATCTCTCGCCAAATGATCCTATCTTTGTTCTCCTTCATACCTTTACTGATGCACTTTTTGATGAATGGCTGAGGAGGCACAATACCGATATTTCAATATTTCCTCTGGAGAATGCCCCCATTGGACACAACAGACAGTACAACATGGTGCCATTCTGGCCTCCAGTGACCAACAATGAGATGTTTGTTTCAGCACCAGAAAATCTGGGCTACAGTTATGAAGTTCAATGGCCAACTCGGGCCCTCCACATCACTGAGATCATAACTATCGCAATTGTGACAGCCTTGATCCTGGTTGCAATTATATTTGCCGGTGCCACATGCATAGTTCACGCCAGACGGAGGGACGATGAAATTCACCAGCCTCTTCTCAATGAACAATATCAGACCTACTCAGACGATTACGACAGTATACCCACCCCAAGCCAGTCAGTTGTGTGA"},{id:"working",name:"gray",value:!0,img:"assets/images/chromosome/trp_02.png",code:"ATGCAGAGTGTT<em>ATTATGCACCTATCCATATTACTAC<strong>G</strong>CCTCACCTTTTTTCAAGAAAT</em>TCATGCTCAGTTCCCCCGGCAGTGTGCTACAGTTGCGGCTCTGACAAGCGGTGAATGTTGCCCAGATCTGTCTCCCGTGGTGATACCCGGTTCAGACCGTTGTGGATCATCTATTGGAAGGGGTCAATGTGTCCAAGTGATGGCAGACAGTCGGCCCCATGGACCACAGTACATGCATGATGGTCAAGATGACCGAGAGCAGTGGCCTCTGCGCTTTTTCAATCGAACCTGTCAATGCAACAGAAATTTTTCAGGATATAATTGTGGGTCCTGCCGTCCTGGTTGGAGTGGACCTGCATGTGATCAGCAGACTCAGACAGTCAGACGAAACATTCTGGATCTGAGTAACGAGGAAAGGAATCAATTCCTAAGAGTCCTTCATCAAGCCAAAAACACAGTGCATCCCAACATTGTGATTGCTATCCGGAGGCGGGAAGAGATACTGGGTCCTGATGGCAACACACCACAATTCGAAAATGTGACAATTTATAATTACTTTGTGTGGTCCCATTACTACTCTGTCAGAAAGACATTCCTTGGCCCAGGGCTGCCCAGTTTTGGGGGAATAGATTTCTCCCATGAAGGGCCAGCATTTCTCACCTGGCATAGATACCACCTCCTACAGCTGGAAAAAGATATCCAGGATATGATCCGGGATCCTTCTTTTGCACTTCCCTACTGGAACTTTGCAACAGGTAGAAACACTTGTGACATCTGTACAGATGAACTCATGGGAGCTAGAAGCAACTTTGATACCAATCTTCTAAGCCAAAACTCTGTCTTCTCTCAGTGGCGTGTTTTGTGTGAAAATGTTGATGACTATGACACCTTGGGAACCATATGCAACAGCTCAGAAGGGGGTCCAATTAGACGAAACCCAGCTGGAAATGTTGCTCGGCCAATGGTGCAGCGCCTTCCTGAGCCACAGGATGTAGCTCTTTGCTTAGAAGTCGGATTGTTTGATACACCGCCATTCTATTCAAATTCAACAGACAGTTTTCGCAATTCGCTGGAAGGCTACAGCCAACCTTCTGGAAAGTATGATCCCATAGTACGCAGTCTTCACAACCTGGCCCATCTGTTTTTGAATGGCACGGGAGGGCAAACCCATCTCTCGCCAAATGATCCTATCTTTGTTCTCCTTCATACCTTTACTGATGCACTTTTTGATGAATGGCTGAGGAGGCACAATACCGATATTTCAATATTTCCTCTGGAGAATGCCCCCATTGGACACAACAGACAGTACAACATGGTGCCATTCTGGCCTCCAGTGACCAACAATGAGATGTTTGTTTCAGCACCAGAAAATCTGGGCTACAGTTATGAAGTTCAATGGCCAACTCGGGCCCTCCACATCACTGAGATCATAACTATCGCAATTGTGACAGCCTTGATCCTGGTTGCAATTATATTTGCCGGTGCCACATGCATAGTTCACGCCAGACGGAGGGACGATGAAATTCACCAGCCTCTTCTCAATGAACAATATCAGACCTACTCAGACGATTACGACAGTATACCCACCCCAAGCCAGTCAGTTGTGTGA"}]},{id:"tyr_mouth",name:"Mela-Maker",value:"working",selected_allele:1,location:30,alleles:[{id:"broken",name:"albino",value:!1,img:"assets/images/chromosome/tyr_broken.png",code:"<em>ATG<strong>__</strong>TCTTTTCTCCATCGGCATCTTC</em>TTCGGTCTTCTTCCTCTAGGATTGAGCCAGTTCCCACGGGCATGTGCCAATTCGGACAGTCTGCTAAAAAAGGAATGCTGCCCCCCTTGGCCAGGGGACGGGTCTCCTTGTGGAGAGCTTTCAGGCAGGGGGTCCTGTTCAGATATCCTTCTTTCAGATGCCCCACTTGGTCCTCAGTTTCCCTTCTCTGGAGTGGACGACAGGGAAGATTGGCCAGCTGTTTTTTATAACAGAACTTGCCAATGCACAGGCAACTTCATGGGGTTCAACTGCGGCGATTGCAAGTTCAACTTTGCAGGTCCCAACTGCACTCAAAGAAAGGCACAGGTGAGGAGAGATATCTTCCGGATCAGTGCCAGGGAAAAGTTCCAGTTTCTTGCCTACCTCAATTTGGCCAAGCACACAACTAGCCGGGATTTTGTCATTGCAACAGGAACGTATGCTCAAATGAACAACGGCTCAACCCCTATGTTCCGAGACATCAACGTCTATGACCTGTTCGTTTGGATGCATTATTACGTGTCCCGGGATACGCTCCTTGGAGGCACCAGCGTGTGGCGAGACATTGATTTTGCCCATGAGGCCCCAGGTTTCCTTCCTTGGCACCGGCTTTTTTTGCTCATGTGGGAACATGAGATCCAGAAGTTGACTGGGAATGAGAACTTTACCATCCCCTATTGGGACTGGCGAGATGCCCAGGGCTGTGACATCTGTACGGATGAAATCATGGGTGGCAGACATCCCAGCAACCCAAACATTCTGAGTCCAGCTTCTTTCTTCTCTTCATGGCAGGTAATTTGCAGCCGGTCAGAAGAGTACAACAGTCGTCAAGAACTTTGCAATGGCACAAATGAAGGGCCTATTCTTCGAAACCCCGGCAACCATGATAAAGGGAGGACACCTCGGCTTCCATCTTCGGCAGATGTTGAATTCTGCTTAAGTTTGACACAGTACGAAGCGGGAACCATGGACAAAATGGCTAACTTCAGCTTCAGGAATACTTTGGAAGGCTTTGCTGATCCGAGTACTGCAATATCAAATGTATCTCAAAGCAGCCTGCACAACGCATTGCACATCTACATGAATGGCTCCATGTCTGAGGTACAAGGATCAGCCAATGATCCCATCTTCATCCTTCACCATGCCTTTGTTGACAGCATTTTTGAACAATGGCTTAGAAGACATCGACCTCTACGTGAGGTTTATCCTGCAGCCAATGCCCCAATTGGACACAACCGTGAATCCTACATGGTCCCCTTCATTCCACTTTACAGGAATGGGGAATTCTTCATATCATCAATAGAACTGGGATATGACTATGAATATCTAACAAATCCAGCCAACCCCTTCCAGAATTTTTTCCTGCCTTATTTGGAACAGGCACGTCAAATCTGGCCATGGCTGGTGGGAGCTGCCGTGGTGGGTGCCATTATAATGTTGATTGTTGGCATCATTGTTCTACGATGTCGGAAGAAGAGACGGATCTCAGAAGAGACACAACCATTACTCATGGAGAGTGAGGATTATCAGCACATGACATACCAGTCACATGTATAA"},{id:"working",name:"color",value:!0,img:"assets/images/chromosome/tyr_working.png",code:"<em>ATG<strong>TG</strong>TCTTTTCTCCATCGGCATCTTC</em>TTCGGTCTTCTTCCTCTAGGATTGAGCCAGTTCCCACGGGCATGTGCCAATTCGGACAGTCTGCTAAAAAAGGAATGCTGCCCCCCTTGGCCAGGGGACGGGTCTCCTTGTGGAGAGCTTTCAGGCAGGGGGTCCTGTTCAGATATCCTTCTTTCAGATGCCCCACTTGGTCCTCAGTTTCCCTTCTCTGGAGTGGACGACAGGGAAGATTGGCCAGCTGTTTTTTATAACAGAACTTGCCAATGCACAGGCAACTTCATGGGGTTCAACTGCGGCGATTGCAAGTTCAACTTTGCAGGTCCCAACTGCACTCAAAGAAAGGCACAGGTGAGGAGAGATATCTTCCGGATCAGTGCCAGGGAAAAGTTCCAGTTTCTTGCCTACCTCAATTTGGCCAAGCACACAACTAGCCGGGATTTTGTCATTGCAACAGGAACGTATGCTCAAATGAACAACGGCTCAACCCCTATGTTCCGAGACATCAACGTCTATGACCTGTTCGTTTGGATGCATTATTACGTGTCCCGGGATACGCTCCTTGGAGGCACCAGCGTGTGGCGAGACATTGATTTTGCCCATGAGGCCCCAGGTTTCCTTCCTTGGCACCGGCTTTTTTTGCTCATGTGGGAACATGAGATCCAGAAGTTGACTGGGAATGAGAACTTTACCATCCCCTATTGGGACTGGCGAGATGCCCAGGGCTGTGACATCTGTACGGATGAAATCATGGGTGGCAGACATCCCAGCAACCCAAACATTCTGAGTCCAGCTTCTTTCTTCTCTTCATGGCAGGTAATTTGCAGCCGGTCAGAAGAGTACAACAGTCGTCAAGAACTTTGCAATGGCACAAATGAAGGGCCTATTCTTCGAAACCCCGGCAACCATGATAAAGGGAGGACACCTCGGCTTCCATCTTCGGCAGATGTTGAATTCTGCTTAAGTTTGACACAGTACGAAGCGGGAACCATGGACAAAATGGCTAACTTCAGCTTCAGGAATACTTTGGAAGGCTTTGCTGATCCGAGTACTGCAATATCAAATGTATCTCAAAGCAGCCTGCACAACGCATTGCACATCTACATGAATGGCTCCATGTCTGAGGTACAAGGATCAGCCAATGATCCCATCTTCATCCTTCACCATGCCTTTGTTGACAGCATTTTTGAACAATGGCTTAGAAGACATCGACCTCTACGTGAGGTTTATCCTGCAGCCAATGCCCCAATTGGACACAACCGTGAATCCTACATGGTCCCCTTCATTCCACTTTACAGGAATGGGGAATTCTTCATATCATCAATAGAACTGGGATATGACTATGAATATCTAACAAATCCAGCCAACCCCTTCCAGAATTTTTTCCTGCCTTATTTGGAACAGGCACGTCAAATCTGGCCATGGCTGGTGGGAGCTGCCGTGGTGGGTGCCATTATAATGTTGATTGTTGGCATCATTGTTCTACGATGTCGGAAGAAGAGACGGATCTCAGAAGAGACACAACCATTACTCATGGAGAGTGAGGATTATCAGCACATGACATACCAGTCACATGTATAA"}]}]}},{chromosomeA:{genes:[{id:"myocin_grabber",name:"Mela-Motor",value:"working",selected_allele:1,location:65,alleles:[{id:"broken",name:"faded",value:!1,img:"assets/images/chromosome/myocin_broken.png",code:"ATGTATGCAAGGATTTGGATACCTGATTCAGAAGTGGTCTGGAAGTCAGCAGAACTTGTGAAAGATTATAAGCCAGGA<em>GACAAAGTCCTCCATCTT<strong>T</strong>GACTTGAGGATGGCAAGGATCTTGAATA</em>CAGCCTCGATCCAAAGAAAAAGGATCTGCCACCCTTGCGAAACCCTGATATACTTGTGGGAGAAAATGACCTGACAGCACTCAGCTATCTCCATGAACCTGCTGTTCTCCATAACCTAAAAGTTCGGTTTATAGACTCGAAGCTCATTTACACATATTGTGGCATAGTTTTGGTAGCTATAAATCCTTACGAACAGCTGCCCATCTATGGCGAAGACATCATCAATGCGTACAGTGGCCAGAATATGGGGGATATGGACCCCCACATCTTTGCTGTGGCTGAGGAAGCATATAAACAGATGGCCAGGTATTTTGGAATTCTGAATGCTGGCTACTCAGCCTACACTATTACTGTTTTAGAAATCATTTTAAAGTATCTGCTACCTAATTGGCTGTGTTTGGCGCTTTTCGTGACGGTGCAAATTGAGCAAACTCAAACCCTTTCCGTGTTTTGTTTCCCCCCACAGTCCATTGGGAACGCCAAAACCACGCGGAATGATAACAGCAGTCGCTTTGGGAAGTACATTGAGATAGGTTTTGATAAGCGGTATCGAATTACTGGTGCTAACATGAGAACATACCTCCTAGAAAAATCAAGAGTGGTCTTCCAGGCCGACGAAGAGCGAAATTACCATATCTTTTATCAGCTTTGTGCTTCTGCAGCAGTGCCGGAATTTAAAACATTGCGGTTAGGCAATGCAGACTATTTTTACTATACAAAGCAAGGGGGCAGCCCAGTGATTGATGGTGTTGATGATGCAAAGGAGATGGCAAACACGAGGCGTGCGTGCACATTGTTAGGGATTGTTGATTCCTGCCAGATGGGAATTTTTCAAATCCTTGCTGCTATTCTTCACCTGGGCAATGTAGCATTTCAGTCTCGCGATTCCGACAGCTGTGTAATACCACCAAAACACGAACCTCTCAAGATTTTCTGTGACCTCATGGGAGTGGAGTATGACCAAATGGCTCACTGGCTCTGCCATAAGAAACTTGCCACTGCCACAGAGACATACATCAAGCCTATTTCCAAGCTGCAAGCCATCAACGGCAGGGATGCTCTTGCAAAACACATTTATGCCAATCTCTTTAACTGGATTGTCGATCACGTGAACAAAGCTCTTTATTCTCCCACGAAACAGCATTCGTTTATTGGTGTATTGGACATTTACGGGTTTGAAACATTTGAGATCAACAGCTTTGAACAATTTTGTATCAACTATGCCAATGAGAAACTGCAGCAACAGTTCAATATGCATGTATTTAAGCTAGAGCAAGAAGAATATATGAGGGAAGAAATTCCATGGACCTTGATTGATTTCTATGACAATCAACCCTGCATTAATCTCATAGAGGCCAAATTGGGAATTTTGGATTTATTAGATGAGGAATGTAAGATGCCTAAAGGTTCAGATAATAGTTGGGCCCAGAAATTATACAATACGCATTTGAACAAGACTTCGCTTTTTGAAAAACCCCGCTTGTCAAACAAGGCCTTTATCATCCAACACTTTGCAGATAAGGTAGGGGTTTTCTGTTTCAACAAAATGTGTTTTGACCAGAGCCATAGGCCAGGGGTCCCCAAACTAAGGCCCTCCAAGGTCATTGACCTGGCCCCTATGGCCTTTGAGGATCACTTTCCTTACCTATGGTCTTCTGATGGCCTGATGAGATCATCTAGATGCCCTTTGAGGGTCCCTTTCCTTACCGATGGTCTTATGAGACCATCTATGACTTCAGCACGGGGTCCGCGAATGGTGGGAGTTGCATTCAGAAATTCCCTGCATCTTCTCATGGAGACCCTTAATGCCACGACGCCACATTATGTGCGGTGTATTAAACCAAATGACTTCAAGATTCCATTCATGTTTGATGAAAAACGGACTGTGCAGCAGCTCCGGGCTTGCGGTGTGTTGGAAACCATCCGAATCAGTGCAGCTGGTTTTCCCTCGAGGTGGACATATCAAGAATTCTTCAGCCGCTACCGCGTCCTGATGAAGCAGAAGGACGTTCTCAGTGACAGAAAGCAGACCTGTAAAAACGTCTTGGAGAAGCTGATTCTGGACAAGGATAAATACCAGTTTGGGAAGACGAAAATATTTTTCCGGGCTGGCCAGGTGGCTTACATGGAAAAAATAAGGGCGGACAAACTCAGAGAGGCTTGCATCCGCATCCAAAAGACCATCAGAGGGTGGCTGTTCAGGAAGAAGTACCTGCGCATGCGGAAAGCGGCCATCACGGTTCAAAGATATGTCCGAGGATACCAGGCGCGATGCCTTGCCAGCTTTCTTCGGAGAACCAAAGCTGCCACCATTATCCAGAAATTCCGGCGCATGTACGCTACACGCAAGCGATACCGTCGCACACGAGCATCCACCGTGGCCCTTCAGTCCTACATGCGAGGTTATCTTGCCAGGAAGAAGTACCGCAGGATGCTTGAAGAGCACAAGGCCATCATTATCCAGAAGCACGTGCGCGGGTGGCTGAGCCGCAAGCGCTACCAGAAGACCTTGAAGGGCATTGTCTACTTGCAATGTTGCTGCCGGCGCATGATAGCCAAGAGGGAGTTGAAGAAGCTGAAGATCGAAGCCCGCTCTGTGGAACACTACAAGAAGCTCAACGTTGGCATGGAGAACAAGATCATGCAGCTCCAGCGTAAAATCAATGAGCAGTCAAAAGACTCCAAATCCCTGCTTGAGAAACTGACCACTCTTGAGGCAACATACAATTCTGAGACAGAAAAACTGAAGAATGATGTGGAAAGGCTTAGGATGAGTGAAGAAGAGGCCAAGAATGCGACCAACCGGCTCCTTACGCTTCAAGATGAGATCAGCAAGCTCCGAAAGGAACTGCACCAGACGCAGATTGCAAAGAAGACCATCGAGGAACAGGCAGATGTATATAAACAGGAGACAGACAAGCTGGTGCTAGAACTTACAGAGCAAAACACCCTGCTTAAAAAAGAAAAAGATGAGCTGAACCATCATATCCAGGAGCAGGCCAAAGAGATAACAGAGGTCATGGAGAAAAAGCTTCTTGAGGAGACGAAACAGCTGGACCTGGATCTGAATAATGAAAGGCAGCGGTATCAGAACCTCCTCCAAGAGTTTAGTCGGTTAGAGGAGCGATACGATGACCTCAAGGATGAGATGAATTTGATGGTGAACATCTCTAAGCCTGGACACAAACGAAGAGATTCCACACATAGCAACGAATCCGAAAATACCTATAGCTCTGAGATCACTGAACCAGAAGAGCTGCAAATGAGAACAGAGGATGAACCAAGTGAGAAGAAAGCTCCACTGGACATGTCTCTCTTCCTCAAGCTTCAAAAACGGGTTTCGGAGCTGGAGCAGGAAAAGCAATCCATGCAGGATGAGTTGGACAGGAAAGAAGAACAAGTTCTCCGAGCCAAGGCCAAGGAGGAGGAAAGGCCTCAAATGAGAGGTGCTGAGCTGGAATATGAATCACTTAAGCGTCAAGAGCTTGAATCAGAAAATAAGAAACTGAAGAATGAGTTGAATGAGCTGAGGAAAGCCCTGCTGGAAAAGAGCTCTCCAGATGCAACGGCTCCTGGTGCCCCGGGGTACAGAGTCCTCTTGGATCAGATGGCCTCTGTTAGCGAGGAACTAGAAGTGCGCAAGGAGGAAGTCCTCATCTTGAGATCTCAGCTGATGAGCCAGAAGGAGGCAATTCCACCCAAGGATGACAAGAACACGATGACTGACTCCACAATCCTTTTGGAGGATGTACAGAAGATGAAGGACAAAGGAGAGATAGCTCAGGCGTACATTGGTTTGAAGGAGACAAACAGGCTTCTGGAGTCTCAGCTACAGACTCAGAAAAGGAGCCATGACAATGAATTGGAAGCCCTCCGCGGAGAGATTCAAAGCCTGAAGGAGGAAAACAACCGCCAGCAACAGTTGCTGGCACAAAATCTCCAGTTGCCCCCAGAGGCCCGGATAGAAGCTAGCTTACAGCACGAGATCACCCGCCTGACGAATGAAAACCTGGATTTGATGGAACAGCTTGAAAAACAGGACAAGACTGTTCGCAAACTGAAAAAGCAACTCAAAGTCTTTGCTAAAAAGATTGACGAACTTGAAGTGGGTCAGATGGAGAACATTTCGCCTGGACAAATAATCGACGAGCCGATCCATCCTGTGAATATTCCAAGGAAAGAAAAAGACTTCCAGGGAATGTTGGAGTATAAGAGAGAGGATGAGCCCAAACTCATCAAGAACCTTATTTTAGAACTGAAACCACGTGGTGTTGCAGTCAATCTCATCCCAGGATTGCCTGCTTATATTCTGTTCATGTGCGTCCGCCATGCAGACTATGTTAATGATGATCAAAAAGTGAGGTCCTTGCTGACTTCCACGATTAATGGCATCAAGAAAATTTTGAAGAAAAGAGGTGATGACTTTGAAGCGGTTTCCTTCTGGCTGTCTAACACGTGCCGATTTTTGCACTGTTTGAAGCAGTACAGTGGCGAAGAGGCAAGTTTTGGGTTTATGAAGCACAACACGCCTCGTCAAAATGAACACTGCCTCCACAATTTTGACCTTGCCGAATACAGGCAAGTGCTGAGTGATTTGGCCATTCAGATTTATCAGCAGCTTGTAAGAGTGTTGGAGAATATTCTTCAGCCAATGATTGTTTCAGGGATGTTGGAACACGAAACTATCCAAGGGGTCTCGGGCGTAAAACCAACCGGCCTCCGAAAGAGAACCTCCAGCATTGCTGATGAAGGGACATACACACTAGACTCTATCATTCGGCAACAGAACACTTTCCACTCCATCATGTGTCAACATGGGATGGATCCAGAACTGATCAAACAGGTGGTCAAGCAGATGTTTTACATCATTGGGGCTGTGACCCTCAACAACCTCCTCCTGCGAAAAGACATGTGCTCCTGGAGTAAAGGGATGCAGATAAGGTACAATGTAAGTCAGCTTGAAGAATGGCTTCGGGACAAAAACCTGATGAATAGTGGTGCTAAGGAAACTCTGGAGCCCCTTATCCAGGCAGCACAGTTGTTGCAAGTGAAAAAGAAGACGGATGAAGATGCAGAGGCCATTTGCTGCATGTGCAATGCCTTAACTACTGCACAGATTGTTAAAGTTTTGAACTTGTATACTCCAGTTAATGAGTTTGAAGAAAGAGTGTCTGTGTCCTTCATCCGGACGATACAGCTGCGTATGAGAGACCGGAAAGACTCTCCTCAACTGCTGATGGATGCTAAGCATATTTTCCCCGTTACTTTCCCATTTAATCCCTCATCCCTTGCATTAGAAACCATCCAGATCCCAGCAAGTTTGGGTCTAGGATTCATCACTCGTGTCTGA"},{id:"working",name:"deep",value:!0,img:"assets/images/chromosome/myocin_working.png",code:"ATGTATGCAAGGATTTGGATACCTGATTCAGAAGTGGTCTGGAAGTCAGCAGAACTTGTGAAAGATTATAAGCCAGGA<em>GACAAAGTCCTCCATCTT<strong>C</strong>GACTTGAGGATGGCAAGGATCTTGAATA</em>CAGCCTCGATCCAAAGAAAAAGGATCTGCCACCCTTGCGAAACCCTGATATACTTGTGGGAGAAAATGACCTGACAGCACTCAGCTATCTCCATGAACCTGCTGTTCTCCATAACCTAAAAGTTCGGTTTATAGACTCGAAGCTCATTTACACATATTGTGGCATAGTTTTGGTAGCTATAAATCCTTACGAACAGCTGCCCATCTATGGCGAAGACATCATCAATGCGTACAGTGGCCAGAATATGGGGGATATGGACCCCCACATCTTTGCTGTGGCTGAGGAAGCATATAAACAGATGGCCAGGTATTTTGGAATTCTGAATGCTGGCTACTCAGCCTACACTATTACTGTTTTAGAAATCATTTTAAAGTATCTGCTACCTAATTGGCTGTGTTTGGCGCTTTTCGTGACGGTGCAAATTGAGCAAACTCAAACCCTTTCCGTGTTTTGTTTCCCCCCACAGTCCATTGGGAACGCCAAAACCACGCGGAATGATAACAGCAGTCGCTTTGGGAAGTACATTGAGATAGGTTTTGATAAGCGGTATCGAATTACTGGTGCTAACATGAGAACATACCTCCTAGAAAAATCAAGAGTGGTCTTCCAGGCCGACGAAGAGCGAAATTACCATATCTTTTATCAGCTTTGTGCTTCTGCAGCAGTGCCGGAATTTAAAACATTGCGGTTAGGCAATGCAGACTATTTTTACTATACAAAGCAAGGGGGCAGCCCAGTGATTGATGGTGTTGATGATGCAAAGGAGATGGCAAACACGAGGCGTGCGTGCACATTGTTAGGGATTGTTGATTCCTGCCAGATGGGAATTTTTCAAATCCTTGCTGCTATTCTTCACCTGGGCAATGTAGCATTTCAGTCTCGCGATTCCGACAGCTGTGTAATACCACCAAAACACGAACCTCTCAAGATTTTCTGTGACCTCATGGGAGTGGAGTATGACCAAATGGCTCACTGGCTCTGCCATAAGAAACTTGCCACTGCCACAGAGACATACATCAAGCCTATTTCCAAGCTGCAAGCCATCAACGGCAGGGATGCTCTTGCAAAACACATTTATGCCAATCTCTTTAACTGGATTGTCGATCACGTGAACAAAGCTCTTTATTCTCCCACGAAACAGCATTCGTTTATTGGTGTATTGGACATTTACGGGTTTGAAACATTTGAGATCAACAGCTTTGAACAATTTTGTATCAACTATGCCAATGAGAAACTGCAGCAACAGTTCAATATGCATGTATTTAAGCTAGAGCAAGAAGAATATATGAGGGAAGAAATTCCATGGACCTTGATTGATTTCTATGACAATCAACCCTGCATTAATCTCATAGAGGCCAAATTGGGAATTTTGGATTTATTAGATGAGGAATGTAAGATGCCTAAAGGTTCAGATAATAGTTGGGCCCAGAAATTATACAATACGCATTTGAACAAGACTTCGCTTTTTGAAAAACCCCGCTTGTCAAACAAGGCCTTTATCATCCAACACTTTGCAGATAAGGTAGGGGTTTTCTGTTTCAACAAAATGTGTTTTGACCAGAGCCATAGGCCAGGGGTCCCCAAACTAAGGCCCTCCAAGGTCATTGACCTGGCCCCTATGGCCTTTGAGGATCACTTTCCTTACCTATGGTCTTCTGATGGCCTGATGAGATCATCTAGATGCCCTTTGAGGGTCCCTTTCCTTACCGATGGTCTTATGAGACCATCTATGACTTCAGCACGGGGTCCGCGAATGGTGGGAGTTGCATTCAGAAATTCCCTGCATCTTCTCATGGAGACCCTTAATGCCACGACGCCACATTATGTGCGGTGTATTAAACCAAATGACTTCAAGATTCCATTCATGTTTGATGAAAAACGGACTGTGCAGCAGCTCCGGGCTTGCGGTGTGTTGGAAACCATCCGAATCAGTGCAGCTGGTTTTCCCTCGAGGTGGACATATCAAGAATTCTTCAGCCGCTACCGCGTCCTGATGAAGCAGAAGGACGTTCTCAGTGACAGAAAGCAGACCTGTAAAAACGTCTTGGAGAAGCTGATTCTGGACAAGGATAAATACCAGTTTGGGAAGACGAAAATATTTTTCCGGGCTGGCCAGGTGGCTTACATGGAAAAAATAAGGGCGGACAAACTCAGAGAGGCTTGCATCCGCATCCAAAAGACCATCAGAGGGTGGCTGTTCAGGAAGAAGTACCTGCGCATGCGGAAAGCGGCCATCACGGTTCAAAGATATGTCCGAGGATACCAGGCGCGATGCCTTGCCAGCTTTCTTCGGAGAACCAAAGCTGCCACCATTATCCAGAAATTCCGGCGCATGTACGCTACACGCAAGCGATACCGTCGCACACGAGCATCCACCGTGGCCCTTCAGTCCTACATGCGAGGTTATCTTGCCAGGAAGAAGTACCGCAGGATGCTTGAAGAGCACAAGGCCATCATTATCCAGAAGCACGTGCGCGGGTGGCTGAGCCGCAAGCGCTACCAGAAGACCTTGAAGGGCATTGTCTACTTGCAATGTTGCTGCCGGCGCATGATAGCCAAGAGGGAGTTGAAGAAGCTGAAGATCGAAGCCCGCTCTGTGGAACACTACAAGAAGCTCAACGTTGGCATGGAGAACAAGATCATGCAGCTCCAGCGTAAAATCAATGAGCAGTCAAAAGACTCCAAATCCCTGCTTGAGAAACTGACCACTCTTGAGGCAACATACAATTCTGAGACAGAAAAACTGAAGAATGATGTGGAAAGGCTTAGGATGAGTGAAGAAGAGGCCAAGAATGCGACCAACCGGCTCCTTACGCTTCAAGATGAGATCAGCAAGCTCCGAAAGGAACTGCACCAGACGCAGATTGCAAAGAAGACCATCGAGGAACAGGCAGATGTATATAAACAGGAGACAGACAAGCTGGTGCTAGAACTTACAGAGCAAAACACCCTGCTTAAAAAAGAAAAAGATGAGCTGAACCATCATATCCAGGAGCAGGCCAAAGAGATAACAGAGGTCATGGAGAAAAAGCTTCTTGAGGAGACGAAACAGCTGGACCTGGATCTGAATAATGAAAGGCAGCGGTATCAGAACCTCCTCCAAGAGTTTAGTCGGTTAGAGGAGCGATACGATGACCTCAAGGATGAGATGAATTTGATGGTGAACATCTCTAAGCCTGGACACAAACGAAGAGATTCCACACATAGCAACGAATCCGAAAATACCTATAGCTCTGAGATCACTGAACCAGAAGAGCTGCAAATGAGAACAGAGGATGAACCAAGTGAGAAGAAAGCTCCACTGGACATGTCTCTCTTCCTCAAGCTTCAAAAACGGGTTTCGGAGCTGGAGCAGGAAAAGCAATCCATGCAGGATGAGTTGGACAGGAAAGAAGAACAAGTTCTCCGAGCCAAGGCCAAGGAGGAGGAAAGGCCTCAAATGAGAGGTGCTGAGCTGGAATATGAATCACTTAAGCGTCAAGAGCTTGAATCAGAAAATAAGAAACTGAAGAATGAGTTGAATGAGCTGAGGAAAGCCCTGCTGGAAAAGAGCTCTCCAGATGCAACGGCTCCTGGTGCCCCGGGGTACAGAGTCCTCTTGGATCAGATGGCCTCTGTTAGCGAGGAACTAGAAGTGCGCAAGGAGGAAGTCCTCATCTTGAGATCTCAGCTGATGAGCCAGAAGGAGGCAATTCCACCCAAGGATGACAAGAACACGATGACTGACTCCACAATCCTTTTGGAGGATGTACAGAAGATGAAGGACAAAGGAGAGATAGCTCAGGCGTACATTGGTTTGAAGGAGACAAACAGGCTTCTGGAGTCTCAGCTACAGACTCAGAAAAGGAGCCATGACAATGAATTGGAAGCCCTCCGCGGAGAGATTCAAAGCCTGAAGGAGGAAAACAACCGCCAGCAACAGTTGCTGGCACAAAATCTCCAGTTGCCCCCAGAGGCCCGGATAGAAGCTAGCTTACAGCACGAGATCACCCGCCTGACGAATGAAAACCTGGATTTGATGGAACAGCTTGAAAAACAGGACAAGACTGTTCGCAAACTGAAAAAGCAACTCAAAGTCTTTGCTAAAAAGATTGACGAACTTGAAGTGGGTCAGATGGAGAACATTTCGCCTGGACAAATAATCGACGAGCCGATCCATCCTGTGAATATTCCAAGGAAAGAAAAAGACTTCCAGGGAATGTTGGAGTATAAGAGAGAGGATGAGCCCAAACTCATCAAGAACCTTATTTTAGAACTGAAACCACGTGGTGTTGCAGTCAATCTCATCCCAGGATTGCCTGCTTATATTCTGTTCATGTGCGTCCGCCATGCAGACTATGTTAATGATGATCAAAAAGTGAGGTCCTTGCTGACTTCCACGATTAATGGCATCAAGAAAATTTTGAAGAAAAGAGGTGATGACTTTGAAGCGGTTTCCTTCTGGCTGTCTAACACGTGCCGATTTTTGCACTGTTTGAAGCAGTACAGTGGCGAAGAGGCAAGTTTTGGGTTTATGAAGCACAACACGCCTCGTCAAAATGAACACTGCCTCCACAATTTTGACCTTGCCGAATACAGGCAAGTGCTGAGTGATTTGGCCATTCAGATTTATCAGCAGCTTGTAAGAGTGTTGGAGAATATTCTTCAGCCAATGATTGTTTCAGGGATGTTGGAACACGAAACTATCCAAGGGGTCTCGGGCGTAAAACCAACCGGCCTCCGAAAGAGAACCTCCAGCATTGCTGATGAAGGGACATACACACTAGACTCTATCATTCGGCAACAGAACACTTTCCACTCCATCATGTGTCAACATGGGATGGATCCAGAACTGATCAAACAGGTGGTCAAGCAGATGTTTTACATCATTGGGGCTGTGACCCTCAACAACCTCCTCCTGCGAAAAGACATGTGCTCCTGGAGTAAAGGGATGCAGATAAGGTACAATGTAAGTCAGCTTGAAGAATGGCTTCGGGACAAAAACCTGATGAATAGTGGTGCTAAGGAAACTCTGGAGCCCCTTATCCAGGCAGCACAGTTGTTGCAAGTGAAAAAGAAGACGGATGAAGATGCAGAGGCCATTTGCTGCATGTGCAATGCCTTAACTACTGCACAGATTGTTAAAGTTTTGAACTTGTATACTCCAGTTAATGAGTTTGAAGAAAGAGTGTCTGTGTCCTTCATCCGGACGATACAGCTGCGTATGAGAGACCGGAAAGACTCTCCTCAACTGCTGATGGATGCTAAGCATATTTTCCCCGTTACTTTCCCATTTAATCCCTCATCCCTTGCATTAGAAACCATCCAGATCCCAGCAAGTTTGGGTCTAGGATTCATCACTCGTGTCTGA"}]}]},chromosomeB:{genes:[{id:"myocin_grabber",name:"Mela-Motor",value:"working",selected_allele:1,location:65,alleles:[{id:"broken",name:"faded",value:!1,img:"assets/images/chromosome/myocin_broken.png",code:"ATGTATGCAAGGATTTGGATACCTGATTCAGAAGTGGTCTGGAAGTCAGCAGAACTTGTGAAAGATTATAAGCCAGGA<em>GACAAAGTCCTCCATCTT<strong>T</strong>GACTTGAGGATGGCAAGGATCTTGAATA</em>CAGCCTCGATCCAAAGAAAAAGGATCTGCCACCCTTGCGAAACCCTGATATACTTGTGGGAGAAAATGACCTGACAGCACTCAGCTATCTCCATGAACCTGCTGTTCTCCATAACCTAAAAGTTCGGTTTATAGACTCGAAGCTCATTTACACATATTGTGGCATAGTTTTGGTAGCTATAAATCCTTACGAACAGCTGCCCATCTATGGCGAAGACATCATCAATGCGTACAGTGGCCAGAATATGGGGGATATGGACCCCCACATCTTTGCTGTGGCTGAGGAAGCATATAAACAGATGGCCAGGTATTTTGGAATTCTGAATGCTGGCTACTCAGCCTACACTATTACTGTTTTAGAAATCATTTTAAAGTATCTGCTACCTAATTGGCTGTGTTTGGCGCTTTTCGTGACGGTGCAAATTGAGCAAACTCAAACCCTTTCCGTGTTTTGTTTCCCCCCACAGTCCATTGGGAACGCCAAAACCACGCGGAATGATAACAGCAGTCGCTTTGGGAAGTACATTGAGATAGGTTTTGATAAGCGGTATCGAATTACTGGTGCTAACATGAGAACATACCTCCTAGAAAAATCAAGAGTGGTCTTCCAGGCCGACGAAGAGCGAAATTACCATATCTTTTATCAGCTTTGTGCTTCTGCAGCAGTGCCGGAATTTAAAACATTGCGGTTAGGCAATGCAGACTATTTTTACTATACAAAGCAAGGGGGCAGCCCAGTGATTGATGGTGTTGATGATGCAAAGGAGATGGCAAACACGAGGCGTGCGTGCACATTGTTAGGGATTGTTGATTCCTGCCAGATGGGAATTTTTCAAATCCTTGCTGCTATTCTTCACCTGGGCAATGTAGCATTTCAGTCTCGCGATTCCGACAGCTGTGTAATACCACCAAAACACGAACCTCTCAAGATTTTCTGTGACCTCATGGGAGTGGAGTATGACCAAATGGCTCACTGGCTCTGCCATAAGAAACTTGCCACTGCCACAGAGACATACATCAAGCCTATTTCCAAGCTGCAAGCCATCAACGGCAGGGATGCTCTTGCAAAACACATTTATGCCAATCTCTTTAACTGGATTGTCGATCACGTGAACAAAGCTCTTTATTCTCCCACGAAACAGCATTCGTTTATTGGTGTATTGGACATTTACGGGTTTGAAACATTTGAGATCAACAGCTTTGAACAATTTTGTATCAACTATGCCAATGAGAAACTGCAGCAACAGTTCAATATGCATGTATTTAAGCTAGAGCAAGAAGAATATATGAGGGAAGAAATTCCATGGACCTTGATTGATTTCTATGACAATCAACCCTGCATTAATCTCATAGAGGCCAAATTGGGAATTTTGGATTTATTAGATGAGGAATGTAAGATGCCTAAAGGTTCAGATAATAGTTGGGCCCAGAAATTATACAATACGCATTTGAACAAGACTTCGCTTTTTGAAAAACCCCGCTTGTCAAACAAGGCCTTTATCATCCAACACTTTGCAGATAAGGTAGGGGTTTTCTGTTTCAACAAAATGTGTTTTGACCAGAGCCATAGGCCAGGGGTCCCCAAACTAAGGCCCTCCAAGGTCATTGACCTGGCCCCTATGGCCTTTGAGGATCACTTTCCTTACCTATGGTCTTCTGATGGCCTGATGAGATCATCTAGATGCCCTTTGAGGGTCCCTTTCCTTACCGATGGTCTTATGAGACCATCTATGACTTCAGCACGGGGTCCGCGAATGGTGGGAGTTGCATTCAGAAATTCCCTGCATCTTCTCATGGAGACCCTTAATGCCACGACGCCACATTATGTGCGGTGTATTAAACCAAATGACTTCAAGATTCCATTCATGTTTGATGAAAAACGGACTGTGCAGCAGCTCCGGGCTTGCGGTGTGTTGGAAACCATCCGAATCAGTGCAGCTGGTTTTCCCTCGAGGTGGACATATCAAGAATTCTTCAGCCGCTACCGCGTCCTGATGAAGCAGAAGGACGTTCTCAGTGACAGAAAGCAGACCTGTAAAAACGTCTTGGAGAAGCTGATTCTGGACAAGGATAAATACCAGTTTGGGAAGACGAAAATATTTTTCCGGGCTGGCCAGGTGGCTTACATGGAAAAAATAAGGGCGGACAAACTCAGAGAGGCTTGCATCCGCATCCAAAAGACCATCAGAGGGTGGCTGTTCAGGAAGAAGTACCTGCGCATGCGGAAAGCGGCCATCACGGTTCAAAGATATGTCCGAGGATACCAGGCGCGATGCCTTGCCAGCTTTCTTCGGAGAACCAAAGCTGCCACCATTATCCAGAAATTCCGGCGCATGTACGCTACACGCAAGCGATACCGTCGCACACGAGCATCCACCGTGGCCCTTCAGTCCTACATGCGAGGTTATCTTGCCAGGAAGAAGTACCGCAGGATGCTTGAAGAGCACAAGGCCATCATTATCCAGAAGCACGTGCGCGGGTGGCTGAGCCGCAAGCGCTACCAGAAGACCTTGAAGGGCATTGTCTACTTGCAATGTTGCTGCCGGCGCATGATAGCCAAGAGGGAGTTGAAGAAGCTGAAGATCGAAGCCCGCTCTGTGGAACACTACAAGAAGCTCAACGTTGGCATGGAGAACAAGATCATGCAGCTCCAGCGTAAAATCAATGAGCAGTCAAAAGACTCCAAATCCCTGCTTGAGAAACTGACCACTCTTGAGGCAACATACAATTCTGAGACAGAAAAACTGAAGAATGATGTGGAAAGGCTTAGGATGAGTGAAGAAGAGGCCAAGAATGCGACCAACCGGCTCCTTACGCTTCAAGATGAGATCAGCAAGCTCCGAAAGGAACTGCACCAGACGCAGATTGCAAAGAAGACCATCGAGGAACAGGCAGATGTATATAAACAGGAGACAGACAAGCTGGTGCTAGAACTTACAGAGCAAAACACCCTGCTTAAAAAAGAAAAAGATGAGCTGAACCATCATATCCAGGAGCAGGCCAAAGAGATAACAGAGGTCATGGAGAAAAAGCTTCTTGAGGAGACGAAACAGCTGGACCTGGATCTGAATAATGAAAGGCAGCGGTATCAGAACCTCCTCCAAGAGTTTAGTCGGTTAGAGGAGCGATACGATGACCTCAAGGATGAGATGAATTTGATGGTGAACATCTCTAAGCCTGGACACAAACGAAGAGATTCCACACATAGCAACGAATCCGAAAATACCTATAGCTCTGAGATCACTGAACCAGAAGAGCTGCAAATGAGAACAGAGGATGAACCAAGTGAGAAGAAAGCTCCACTGGACATGTCTCTCTTCCTCAAGCTTCAAAAACGGGTTTCGGAGCTGGAGCAGGAAAAGCAATCCATGCAGGATGAGTTGGACAGGAAAGAAGAACAAGTTCTCCGAGCCAAGGCCAAGGAGGAGGAAAGGCCTCAAATGAGAGGTGCTGAGCTGGAATATGAATCACTTAAGCGTCAAGAGCTTGAATCAGAAAATAAGAAACTGAAGAATGAGTTGAATGAGCTGAGGAAAGCCCTGCTGGAAAAGAGCTCTCCAGATGCAACGGCTCCTGGTGCCCCGGGGTACAGAGTCCTCTTGGATCAGATGGCCTCTGTTAGCGAGGAACTAGAAGTGCGCAAGGAGGAAGTCCTCATCTTGAGATCTCAGCTGATGAGCCAGAAGGAGGCAATTCCACCCAAGGATGACAAGAACACGATGACTGACTCCACAATCCTTTTGGAGGATGTACAGAAGATGAAGGACAAAGGAGAGATAGCTCAGGCGTACATTGGTTTGAAGGAGACAAACAGGCTTCTGGAGTCTCAGCTACAGACTCAGAAAAGGAGCCATGACAATGAATTGGAAGCCCTCCGCGGAGAGATTCAAAGCCTGAAGGAGGAAAACAACCGCCAGCAACAGTTGCTGGCACAAAATCTCCAGTTGCCCCCAGAGGCCCGGATAGAAGCTAGCTTACAGCACGAGATCACCCGCCTGACGAATGAAAACCTGGATTTGATGGAACAGCTTGAAAAACAGGACAAGACTGTTCGCAAACTGAAAAAGCAACTCAAAGTCTTTGCTAAAAAGATTGACGAACTTGAAGTGGGTCAGATGGAGAACATTTCGCCTGGACAAATAATCGACGAGCCGATCCATCCTGTGAATATTCCAAGGAAAGAAAAAGACTTCCAGGGAATGTTGGAGTATAAGAGAGAGGATGAGCCCAAACTCATCAAGAACCTTATTTTAGAACTGAAACCACGTGGTGTTGCAGTCAATCTCATCCCAGGATTGCCTGCTTATATTCTGTTCATGTGCGTCCGCCATGCAGACTATGTTAATGATGATCAAAAAGTGAGGTCCTTGCTGACTTCCACGATTAATGGCATCAAGAAAATTTTGAAGAAAAGAGGTGATGACTTTGAAGCGGTTTCCTTCTGGCTGTCTAACACGTGCCGATTTTTGCACTGTTTGAAGCAGTACAGTGGCGAAGAGGCAAGTTTTGGGTTTATGAAGCACAACACGCCTCGTCAAAATGAACACTGCCTCCACAATTTTGACCTTGCCGAATACAGGCAAGTGCTGAGTGATTTGGCCATTCAGATTTATCAGCAGCTTGTAAGAGTGTTGGAGAATATTCTTCAGCCAATGATTGTTTCAGGGATGTTGGAACACGAAACTATCCAAGGGGTCTCGGGCGTAAAACCAACCGGCCTCCGAAAGAGAACCTCCAGCATTGCTGATGAAGGGACATACACACTAGACTCTATCATTCGGCAACAGAACACTTTCCACTCCATCATGTGTCAACATGGGATGGATCCAGAACTGATCAAACAGGTGGTCAAGCAGATGTTTTACATCATTGGGGCTGTGACCCTCAACAACCTCCTCCTGCGAAAAGACATGTGCTCCTGGAGTAAAGGGATGCAGATAAGGTACAATGTAAGTCAGCTTGAAGAATGGCTTCGGGACAAAAACCTGATGAATAGTGGTGCTAAGGAAACTCTGGAGCCCCTTATCCAGGCAGCACAGTTGTTGCAAGTGAAAAAGAAGACGGATGAAGATGCAGAGGCCATTTGCTGCATGTGCAATGCCTTAACTACTGCACAGATTGTTAAAGTTTTGAACTTGTATACTCCAGTTAATGAGTTTGAAGAAAGAGTGTCTGTGTCCTTCATCCGGACGATACAGCTGCGTATGAGAGACCGGAAAGACTCTCCTCAACTGCTGATGGATGCTAAGCATATTTTCCCCGTTACTTTCCCATTTAATCCCTCATCCCTTGCATTAGAAACCATCCAGATCCCAGCAAGTTTGGGTCTAGGATTCATCACTCGTGTCTGA"},{id:"working",name:"deep",value:!0,img:"assets/images/chromosome/myocin_working.png",code:"ATGTATGCAAGGATTTGGATACCTGATTCAGAAGTGGTCTGGAAGTCAGCAGAACTTGTGAAAGATTATAAGCCAGGA<em>GACAAAGTCCTCCATCTT<strong>C</strong>GACTTGAGGATGGCAAGGATCTTGAATA</em>CAGCCTCGATCCAAAGAAAAAGGATCTGCCACCCTTGCGAAACCCTGATATACTTGTGGGAGAAAATGACCTGACAGCACTCAGCTATCTCCATGAACCTGCTGTTCTCCATAACCTAAAAGTTCGGTTTATAGACTCGAAGCTCATTTACACATATTGTGGCATAGTTTTGGTAGCTATAAATCCTTACGAACAGCTGCCCATCTATGGCGAAGACATCATCAATGCGTACAGTGGCCAGAATATGGGGGATATGGACCCCCACATCTTTGCTGTGGCTGAGGAAGCATATAAACAGATGGCCAGGTATTTTGGAATTCTGAATGCTGGCTACTCAGCCTACACTATTACTGTTTTAGAAATCATTTTAAAGTATCTGCTACCTAATTGGCTGTGTTTGGCGCTTTTCGTGACGGTGCAAATTGAGCAAACTCAAACCCTTTCCGTGTTTTGTTTCCCCCCACAGTCCATTGGGAACGCCAAAACCACGCGGAATGATAACAGCAGTCGCTTTGGGAAGTACATTGAGATAGGTTTTGATAAGCGGTATCGAATTACTGGTGCTAACATGAGAACATACCTCCTAGAAAAATCAAGAGTGGTCTTCCAGGCCGACGAAGAGCGAAATTACCATATCTTTTATCAGCTTTGTGCTTCTGCAGCAGTGCCGGAATTTAAAACATTGCGGTTAGGCAATGCAGACTATTTTTACTATACAAAGCAAGGGGGCAGCCCAGTGATTGATGGTGTTGATGATGCAAAGGAGATGGCAAACACGAGGCGTGCGTGCACATTGTTAGGGATTGTTGATTCCTGCCAGATGGGAATTTTTCAAATCCTTGCTGCTATTCTTCACCTGGGCAATGTAGCATTTCAGTCTCGCGATTCCGACAGCTGTGTAATACCACCAAAACACGAACCTCTCAAGATTTTCTGTGACCTCATGGGAGTGGAGTATGACCAAATGGCTCACTGGCTCTGCCATAAGAAACTTGCCACTGCCACAGAGACATACATCAAGCCTATTTCCAAGCTGCAAGCCATCAACGGCAGGGATGCTCTTGCAAAACACATTTATGCCAATCTCTTTAACTGGATTGTCGATCACGTGAACAAAGCTCTTTATTCTCCCACGAAACAGCATTCGTTTATTGGTGTATTGGACATTTACGGGTTTGAAACATTTGAGATCAACAGCTTTGAACAATTTTGTATCAACTATGCCAATGAGAAACTGCAGCAACAGTTCAATATGCATGTATTTAAGCTAGAGCAAGAAGAATATATGAGGGAAGAAATTCCATGGACCTTGATTGATTTCTATGACAATCAACCCTGCATTAATCTCATAGAGGCCAAATTGGGAATTTTGGATTTATTAGATGAGGAATGTAAGATGCCTAAAGGTTCAGATAATAGTTGGGCCCAGAAATTATACAATACGCATTTGAACAAGACTTCGCTTTTTGAAAAACCCCGCTTGTCAAACAAGGCCTTTATCATCCAACACTTTGCAGATAAGGTAGGGGTTTTCTGTTTCAACAAAATGTGTTTTGACCAGAGCCATAGGCCAGGGGTCCCCAAACTAAGGCCCTCCAAGGTCATTGACCTGGCCCCTATGGCCTTTGAGGATCACTTTCCTTACCTATGGTCTTCTGATGGCCTGATGAGATCATCTAGATGCCCTTTGAGGGTCCCTTTCCTTACCGATGGTCTTATGAGACCATCTATGACTTCAGCACGGGGTCCGCGAATGGTGGGAGTTGCATTCAGAAATTCCCTGCATCTTCTCATGGAGACCCTTAATGCCACGACGCCACATTATGTGCGGTGTATTAAACCAAATGACTTCAAGATTCCATTCATGTTTGATGAAAAACGGACTGTGCAGCAGCTCCGGGCTTGCGGTGTGTTGGAAACCATCCGAATCAGTGCAGCTGGTTTTCCCTCGAGGTGGACATATCAAGAATTCTTCAGCCGCTACCGCGTCCTGATGAAGCAGAAGGACGTTCTCAGTGACAGAAAGCAGACCTGTAAAAACGTCTTGGAGAAGCTGATTCTGGACAAGGATAAATACCAGTTTGGGAAGACGAAAATATTTTTCCGGGCTGGCCAGGTGGCTTACATGGAAAAAATAAGGGCGGACAAACTCAGAGAGGCTTGCATCCGCATCCAAAAGACCATCAGAGGGTGGCTGTTCAGGAAGAAGTACCTGCGCATGCGGAAAGCGGCCATCACGGTTCAAAGATATGTCCGAGGATACCAGGCGCGATGCCTTGCCAGCTTTCTTCGGAGAACCAAAGCTGCCACCATTATCCAGAAATTCCGGCGCATGTACGCTACACGCAAGCGATACCGTCGCACACGAGCATCCACCGTGGCCCTTCAGTCCTACATGCGAGGTTATCTTGCCAGGAAGAAGTACCGCAGGATGCTTGAAGAGCACAAGGCCATCATTATCCAGAAGCACGTGCGCGGGTGGCTGAGCCGCAAGCGCTACCAGAAGACCTTGAAGGGCATTGTCTACTTGCAATGTTGCTGCCGGCGCATGATAGCCAAGAGGGAGTTGAAGAAGCTGAAGATCGAAGCCCGCTCTGTGGAACACTACAAGAAGCTCAACGTTGGCATGGAGAACAAGATCATGCAGCTCCAGCGTAAAATCAATGAGCAGTCAAAAGACTCCAAATCCCTGCTTGAGAAACTGACCACTCTTGAGGCAACATACAATTCTGAGACAGAAAAACTGAAGAATGATGTGGAAAGGCTTAGGATGAGTGAAGAAGAGGCCAAGAATGCGACCAACCGGCTCCTTACGCTTCAAGATGAGATCAGCAAGCTCCGAAAGGAACTGCACCAGACGCAGATTGCAAAGAAGACCATCGAGGAACAGGCAGATGTATATAAACAGGAGACAGACAAGCTGGTGCTAGAACTTACAGAGCAAAACACCCTGCTTAAAAAAGAAAAAGATGAGCTGAACCATCATATCCAGGAGCAGGCCAAAGAGATAACAGAGGTCATGGAGAAAAAGCTTCTTGAGGAGACGAAACAGCTGGACCTGGATCTGAATAATGAAAGGCAGCGGTATCAGAACCTCCTCCAAGAGTTTAGTCGGTTAGAGGAGCGATACGATGACCTCAAGGATGAGATGAATTTGATGGTGAACATCTCTAAGCCTGGACACAAACGAAGAGATTCCACACATAGCAACGAATCCGAAAATACCTATAGCTCTGAGATCACTGAACCAGAAGAGCTGCAAATGAGAACAGAGGATGAACCAAGTGAGAAGAAAGCTCCACTGGACATGTCTCTCTTCCTCAAGCTTCAAAAACGGGTTTCGGAGCTGGAGCAGGAAAAGCAATCCATGCAGGATGAGTTGGACAGGAAAGAAGAACAAGTTCTCCGAGCCAAGGCCAAGGAGGAGGAAAGGCCTCAAATGAGAGGTGCTGAGCTGGAATATGAATCACTTAAGCGTCAAGAGCTTGAATCAGAAAATAAGAAACTGAAGAATGAGTTGAATGAGCTGAGGAAAGCCCTGCTGGAAAAGAGCTCTCCAGATGCAACGGCTCCTGGTGCCCCGGGGTACAGAGTCCTCTTGGATCAGATGGCCTCTGTTAGCGAGGAACTAGAAGTGCGCAAGGAGGAAGTCCTCATCTTGAGATCTCAGCTGATGAGCCAGAAGGAGGCAATTCCACCCAAGGATGACAAGAACACGATGACTGACTCCACAATCCTTTTGGAGGATGTACAGAAGATGAAGGACAAAGGAGAGATAGCTCAGGCGTACATTGGTTTGAAGGAGACAAACAGGCTTCTGGAGTCTCAGCTACAGACTCAGAAAAGGAGCCATGACAATGAATTGGAAGCCCTCCGCGGAGAGATTCAAAGCCTGAAGGAGGAAAACAACCGCCAGCAACAGTTGCTGGCACAAAATCTCCAGTTGCCCCCAGAGGCCCGGATAGAAGCTAGCTTACAGCACGAGATCACCCGCCTGACGAATGAAAACCTGGATTTGATGGAACAGCTTGAAAAACAGGACAAGACTGTTCGCAAACTGAAAAAGCAACTCAAAGTCTTTGCTAAAAAGATTGACGAACTTGAAGTGGGTCAGATGGAGAACATTTCGCCTGGACAAATAATCGACGAGCCGATCCATCCTGTGAATATTCCAAGGAAAGAAAAAGACTTCCAGGGAATGTTGGAGTATAAGAGAGAGGATGAGCCCAAACTCATCAAGAACCTTATTTTAGAACTGAAACCACGTGGTGTTGCAGTCAATCTCATCCCAGGATTGCCTGCTTATATTCTGTTCATGTGCGTCCGCCATGCAGACTATGTTAATGATGATCAAAAAGTGAGGTCCTTGCTGACTTCCACGATTAATGGCATCAAGAAAATTTTGAAGAAAAGAGGTGATGACTTTGAAGCGGTTTCCTTCTGGCTGTCTAACACGTGCCGATTTTTGCACTGTTTGAAGCAGTACAGTGGCGAAGAGGCAAGTTTTGGGTTTATGAAGCACAACACGCCTCGTCAAAATGAACACTGCCTCCACAATTTTGACCTTGCCGAATACAGGCAAGTGCTGAGTGATTTGGCCATTCAGATTTATCAGCAGCTTGTAAGAGTGTTGGAGAATATTCTTCAGCCAATGATTGTTTCAGGGATGTTGGAACACGAAACTATCCAAGGGGTCTCGGGCGTAAAACCAACCGGCCTCCGAAAGAGAACCTCCAGCATTGCTGATGAAGGGACATACACACTAGACTCTATCATTCGGCAACAGAACACTTTCCACTCCATCATGTGTCAACATGGGATGGATCCAGAACTGATCAAACAGGTGGTCAAGCAGATGTTTTACATCATTGGGGCTGTGACCCTCAACAACCTCCTCCTGCGAAAAGACATGTGCTCCTGGAGTAAAGGGATGCAGATAAGGTACAATGTAAGTCAGCTTGAAGAATGGCTTCGGGACAAAAACCTGATGAATAGTGGTGCTAAGGAAACTCTGGAGCCCCTTATCCAGGCAGCACAGTTGTTGCAAGTGAAAAAGAAGACGGATGAAGATGCAGAGGCCATTTGCTGCATGTGCAATGCCTTAACTACTGCACAGATTGTTAAAGTTTTGAACTTGTATACTCCAGTTAATGAGTTTGAAGAAAGAGTGTCTGTGTCCTTCATCCGGACGATACAGCTGCGTATGAGAGACCGGAAAGACTCTCCTCAACTGCTGATGGATGCTAAGCATATTTTCCCCGTTACTTTCCCATTTAATCCCTCATCCCTTGCATTAGAAACCATCCAGATCCCAGCAAGTTTGGGTCTAGGATTCATCACTCGTGTCTGA"}]}]}}]}},function(t,e){t.exports={steps:[{alleles:"11111111",stars:0,tyrs:4,working:1,action:"working_protein_assembled",count:3,text:"Drag to connect",gameSpeed:1,tyrosine:!1},{alleles:"11111111",stars:10,tyrs:4,working:2,action:"disc_destroyed",count:3,text:"Tap several times to break",gameSpeed:1,tyrosine:!1,trp:!1},{alleles:"11111111",tyrs:4,working:3,action:"protein_broken",count:3,text:"Tap to break",gameSpeed:.5,tyrosine:!1},{alleles:"11001111",tyrs:1,working:1,action:"tri_pushed_into_small_gear",count:6,text:"Tap and hold to push",gameSpeed:.5,tyrosine:!1,melanosomeScale:1.4}]}},function(t,e){t.exports={"3.2.1":{protein:[{text:"Melanin gives drakes their color. Watch closely to see how proteins make melanin.",symbols:[{image:"disc.png",label:"Melanin disc"}]},{text:"Melanin is made in mela-pods. Colors depend on how big the mela-pods get.",symbols:[{image:"albino_pod.png",label:"Albino mela-pod"},{image:"orange_pod.png",label:"Orange mela-pod"},{image:"gray_pod.png",label:"Gray mela-pod"}]},{text:"The proteins use triangular parts to make melanin discs. Watch the pod grow and change color as the melanin discs stack up. This is a demo, Cadet - just watch and learn!",symbols:[{image:"mela_maker_protein.png",label:"Mela-maker protein"},{image:"mela_helper_protein.png",label:"Mela-helper protein"},{image:"disc.png",label:"Melanin disc"},{image:"melanin_parts.png",label:"Melanin parts"}]}]},"3.2.2":{protein:[{text:"Proteins do the work to make melanin discs. The large gear brings in triangles and passes them to the small gear.",symbols:[{image:"mela_maker_protein_labeled.png",label:"Mela-maker protein"}]},{text:"A helper protein holds the gears together while the small gear builds the discs.",symbols:[{image:"mela_helper_protein.png",label:"Mela-helper protein"}]},{text:"Find the broken protein and figure out how to help make enough discs for a charcoal drake!"},{text:"Track your progress using the display on the right!",action:"highlight_chromoscope"}]},"3.2.3":{protein:[{text:"Knock the discs and the proteins out to shrink the pods to half-size.",symbols:[{image:"disc.png",label:"Melanin disc"},{image:"mela_helper_protein.png",label:"Mela-helper protein"}]},{text:"Remember, you can track your progress using the display on the right!",action:"highlight_chromoscope"}]},"3.2.4":{nucleus:[{text:"Alleles contain the DNA instructions for each protein.",symbols:[{image:"allele_pulldown.png",label:"Allele pulldown"},{image:"dna.png",label:"DNA"}]},{text:"To create the proteins for the charcoal drake, change the alleles so they contain different DNA instructions.",action:"highlight_drake"},{text:"When you have found the right combination of alleles, click BUILD to see your results!",action:"highlight_build"}],results:[{text:"The protein making machine reads the instructions to create specific proteins in the drakes cells.",symbols:[{image:"protein_machine.png",label:"Protein making machine"}]}]},"3.3.2":{protein:[{text:"Look closely at the mela-maker - whats going wrong here?",symbols:[{image:"maker_protein_broken.png",label:"Mela-maker protein"}]},{text:"Help the mela-maker do its job. Hint: Create a forcefield <i><b>inside</b></i> the pod by clicking and dragging near the triangular parts.",symbols:[{image:"forcefield.png",label:"Forcefield"}]}]},"3.4.1":{protein:[{text:"Shiny drakes dont have any mela-pods in their scale cells. When the scale cells are empty, they reflect light and look shiny.",symbols:[{image:"cell_cutaway.png",label:"Empty scale cells"}]},{text:"Mela-pods travel to the scale cells through tunnels with pod-releaser proteins.",symbols:[{image:"melanocyte.png",label:"Orange mela-pod"},{image:"pod_releaser_protein.png",label:"Pod-releaser protein"},{image:"gate.png",label:"Gate"}]},{text:"To make a copper drake, find a way to stop the mela-pods from getting into the scale cells!"},{text:"Watch for sparkles on the scale cell to show when you've made a shiny drake.",symbols:[{image:"sparkles.png",label:"Shiny sparkles"}]}]}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(32),s=i(a),l=n(5),A=i(l),c=function(){function t(e){r(this,t),this.game=e,this._stats={},this.onAction=new A.default.Signal,this.onTrack=new A.default.Signal}return o(t,[{key:"track",value:function(t){var e=this;t.forEach(function(t){e._stats[t]=0}),this.onTrack.dispatch({types:t})}},{key:"record",value:function(t){this._stats[t]=++this._stats[t],this.onAction.dispatch({type:t,count:this._stats[t]})}},{key:"stats",get:function(){return s.default.clone(this._stats)}}]),t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Jiggle=function(t){var e=t.scale;t.scale.set(e.x+1,e.y+1),game.time.events.add(100,function(){this.scale.set(e.x,e.y)},t)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(5),A=i(l),c=n(19),u=i(c),T=n(108),C=i(T),h=function(t){function e(t){var n=t.game,i=t.x,a=t.y,s=t.data,l=t.step,A=void 0===l?0:l;r(this,e);var c=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i,a));c.game=n,c.alpha=1,c.x=230,c.y=u.default.SAFE_ZONE_HEIGHT-230,c.numChecks=s.count||3,c.step=A,c.actionsPerformed=0,n.actions.onAction.add(c.onActionPerformed,c),c.container=n.add.image(0,40,"ftue_container"),c.container.anchor.set(.5),c.add(c.container);var T={font:"30px yanone_kaffeesatzregular",fill:"#FFFFFF"};c.text=n.add.text(-160,-25,C.default.steps[c.step].text,T),c.add(c.text),c.action=n.add.image(0,65,"ftue_"+C.default.steps[c.step].action),c.action.anchor.set(.5),c.add(c.action),c.checkGroup=n.add.group(c,"ftue_check_group"),c.add(c.checkGroup),c.checkContainer=n.add.graphics(-50,-20),c.checkContainer.lineStyle(4,3244160,1),c.checkContainer.beginFill(16777215,1),c.checkContainer.drawRoundedRect(0,0,30*c.numChecks+10,40,18),c.checkContainer.endFill(),c.checkGroup.add(c.checkContainer),c.checks=[];for(var h=0;h<c.numChecks;h++){var G=n.add.image(30*(h-1),0,"ftue_check");G.anchor.set(.5),c.checkGroup.add(G),c.checks.push(G)}c.checkGroup.x=c.container.width/2-40,c.numChecks>3&&(c.checkGroup.x-=15*(c.numChecks-3)),c.checkGroup.y=-10,c.stepGroup=n.add.group(c,"ftue_step_group"),c.add(c.stepGroup),c.stepContainer=n.add.image(0,0,"ftue_step_container"),c.stepGroup.add(c.stepContainer),c.stepSelection=n.add.image(53*c.step-2,-2,"ftue_step_selection"),c.add(c.stepSelection),c.stepGroup.add(c.stepSelection);var f={font:"bold 42px yanone_kaffeesatzregular",fill:"#CCCC99",boundsAlignV:"center"},d={font:"bold 42px yanone_kaffeesatzregular",fill:"#FFFFFF",boundsAlignV:"center"};c.stepNums=[];for(var h=0;h<4;h++){var p=n.add.text(52*h+23,2,h+1,h==c.step?d:f);c.stepGroup.add(p),c.stepNums.push(p)}return c.stepGroup.y=-c.container.height/2-2,c.stepGroup.x=-c.container.width/2+2,c.checkSfx=n.add.audio("pleasing_ding"),c}return a(e,t),s(e,[{key:"slideIn",value:function(t){this.checkGroup.scale.set(0,0),game.add.tween(this).to(t,500,A.default.Easing.Cubic.Out,!0,1500).start(),game.add.tween(this.checkGroup.scale).to({x:1,y:1},400,A.default.Easing.Elastic.Out,!0,2400).start()}},{key:"slideOut",value:function(t){game.add.tween(this.checkGroup.scale).to({x:0,y:0},400,A.default.Easing.Cubic.Out,!0,1e3).start(),game.add.tween(this).to(t,500,A.default.Easing.Cubic.Out,!0,1800).start()}},{key:"onActionPerformed",value:function(t){if(t.type===C.default.steps[this.step].action){this.actionsPerformed++;var e=this.checks[this.actionsPerformed-1];e.loadTexture("ftue_check_active");var n=game.add.image(e.x,e.y,"ftue_check_active");n.anchor.set(.5),this.checkGroup.add(n),game.add.tween(n).to({alpha:0},500,A.default.Easing.Linear.Out).start(),game.add.tween(n.scale).to({x:5,y:5},500,A.default.Easing.Linear.Out).start(),this.checkSfx.play(),this.actionsPerformed===this.numChecks&&(this.step++,game.actions.onAction.remove(this.onActionPerformed,this),this.step<C.default.steps.length?game.state.getCurrentState().handleWin(!0):game.state.getCurrentState().handleWin())}}},{key:"onStepLoaded",value:function(){this.actionsPerformed=0,this.stepSelection.x=60*this.step,this.action.loadTexture("ftue_"+C.default.steps[this.step].action)}}]),e}(A.default.Group);e.default=h},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(5),l=function(t){return t&&t.__esModule?t:{default:t}}(s),A=function(t){function e(t){var n=t.game,o=t.x,a=t.y;i(this,e);var s=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));s.game=n,s.alpha=0,s.x=0,s.y=0,s.particles=[];for(var l=0;l<8;l++){var A=n.add.sprite(o,a,"mouse_trail");s.add(A),A.anchor.set(.5),A.x=0,A.y=0,A.blendMode=1,A.alpha=1/(l+1),s.particles.push(A)}return s.offset=0,s.isActive=!0,s.lastPos={x:0,y:0},s}return o(e,t),a(e,[{key:"update",value:function(){this.isActive&&this.alpha<1&&l.default.Math.distance(game.input.x,game.input.y,this.lastPos.x,this.lastPos.y)>1?this.alpha+=.3*(1-this.alpha):this.alpha+=.1*(0-this.alpha);for(var t=this.particles.length-1;t>=0;t--){var e=this.particles[t];if(0==t)e.x=game.input.x,e.y=game.input.y;else{var n=this.particles[t-1],i=n.x-e.x,r=n.y-e.y;Math.abs(i)>.5&&(e.x=(e.x+n.x)/2),Math.abs(r)>.5&&(e.y=(e.y+n.y)/2)}}this.lastPos={x:game.input.x,y:game.input.y}}}]),e}(l.default.Group);e.default=A},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(5),A=i(l),c=n(19),u=i(c),T=function(t){function e(t){var n=t.game,i=t.x,a=t.y,s=t.path_points,l=t.thickness,A=t.spacing,c=t.direction,u=(t.asset,t.color),T=t.alpha,C=t.alphaFade;r(this,e);var h=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i,a,""));return h.game=n,h.tint=16777215,h.alpha=T||1,h.alphaFade=C,h.anchor.set(0),h.inputEnabled=!0,h.thickness=l||.05,h.spacing=A||3,h.color=u||"#EACF8D",h.direction=c,h.points=s,h}return a(e,t),s(e,[{key:"draw",value:function(){this.drawToBmd(this.bmd)}},{key:"drawToBmd",value:function(t){for(var e=1/u.default.SAFE_ZONE_WIDTH*this.spacing,n=A.default.Color.hexToColor(this.color),i=0;i<=1;i+=e){var r=Math.abs(i-.5);r*=2.1*this.alphaFade;var o=1-r;o*=this.alpha;var a=this.getPositionAtOffset(i),s=this.thickness+0,l="rgba("+n.r+", "+n.g+", "+n.b+", "+o+")";t.circle(a.x+0,a.y+0,s,l)}}},{key:"update",value:function(){}},{key:"getPositionAtOffset",value:function(t){return{x:this.game.math.bezierInterpolation(this.points.x,t),y:this.game.math.bezierInterpolation(this.points.y,t)}}}]),e}(A.default.Sprite);e.default=T},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(5),l=function(t){return t&&t.__esModule?t:{default:t}}(s),A=function(t){function e(t){var n=t.game,o=t.x,a=t.y,s=t.asset,l=t.label,A=t.actionOnClick,c=t.context;i(this,e);var u=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));u.x=o,u.y=a,u.actionOnClick=A,u.context=c,u.btn=n.add.button(0,0,s,u.handleClick,u,0,0,1),u.btn.tint=819,u.btn.anchor.set(.5),u.add(u.btn);var T={font:"48px yanone_kaffeesatzlight",fill:"#333",boundsAlignH:"center",boundsAlignV:"middle"},C=n.add.text(0,0,l,T);return C.anchor.set(.5),u.add(C),u}return o(e,t),a(e,[{key:"handleClick",value:function(){this.actionOnClick.call(this.context)}}]),e}(l.default.Group);e.default=A},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(5),l=function(t){return t&&t.__esModule?t:{default:t}}(s),A=function(t){function e(t){var n=t.game,o=t.x,a=t.y,s=t.rotation,A=t.height,c=t.targetPhysicsGroup,u=(t.wallWidth,t.onOpenGate),T=t.onCloseGate,C=t.onClickRelease,h=t.onClickClose;i(this,e);var G=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return G.game=n,G.alpha=1,G.x=o,G.y=a,G.rotation=s,G.closedGapSize=8,G.openGapSize=.5*A,G.totalWidth=A,G.currentStopper=null,G.isOpen=!0,G.left_half=n.add.sprite(0,0,"gate_half"),G.left_half.anchor.set(1),G.left_half.width=G.left_half.height=A/2,G.left_half.tint=9406821,G.add(G.left_half),G.left_half.x=-G.closedGapSize/2,G.left_half.y=0,G.right_half=n.add.sprite(0,0,"gate_half"),G.right_half.anchor.set(1),G.right_half.width=G.right_half.height=A/2,G.right_half.width*=-1,G.right_half.tint=9406821,G.add(G.right_half),G.right_half.x=G.closedGapSize/2,G.right_half.y=0,G.hitArea=n.add.sprite(0,A/6,"square"),G.hitArea.anchor.set(.5,1),G.hitArea.alpha=0,G.hitArea.width=A/2,G.hitArea.height=A,G.add(G.hitArea),G.game.physics.enable(G.hitArea,l.default.Physics.ARCADE),G.clickArea=n.add.sprite(0,0,"square"),G.clickArea.anchor.set(.5,.5),G.clickArea.alpha=0,G.clickArea.height=A,G.clickArea.width=A/2+20,G.add(G.clickArea),G.clickArea.inputEnabled=!0,G.clickArea.events.onInputUp.add(G.handleClick,G),G.isReleasing=!1,G.onOpenGate=u,G.onCloseGate=T,G.onClickRelease=C,G.onClickClose=h,G.wallBlocker=n.add.sprite(0,0,"square"),G.wallBlocker.anchor.set(0,.5),G.wallBlocker.alpha=0,G.wallBlocker.width=A/4,G.wallBlocker.height=A,G.game.physics.enable(G.wallBlocker,l.default.Physics.ARCADE),G.wallBlocker.x=G.x+A/3,G.wallBlocker.y=G.y,G.wallBlocker.body.immovable=!0,c.add(G.wallBlocker),G.wallBlocker.body.enable=!1,G}return o(e,t),a(e,[{key:"update",value:function(){var t=0;this.closedGapSize;this.isOpen&&(this.openGapSize/2,t=Math.PI/4),this.left_half.rotation+=.1*(-t-this.left_half.rotation),this.right_half.rotation+=.1*(t-this.right_half.rotation)}},{key:"toggleOpen",value:function(t){this.isOpen=t}},{key:"handleClick",value:function(){null!==this.currentStopper?(this.onClickRelease.call(null,this.currentStopper),this.releaseStopper()):this.isReleasing||(this.tempClose(),this.onClickClose.call())}},{key:"acceptStopper",value:function(t){this.currentStopper=t,this.closeTimer&&game.time.events.remove(this.closeTimer),this.isOpen=!1,t.isWorking||(this.wallBlocker.body.enable=!0,this.wallBlocker.x=this.x+this.wallBlocker.height/16)}},{key:"releaseStopper",value:function(){this.wallBlocker.body.enable=!1,this.wallBlocker.x=this.x+this.wallBlocker.height/3,null!==this.currentStopper&&this.currentStopper.fallOff(),this.isOpen=!0,this.isReleasing=!0,game.time.events.add(100/game.globalTimeScale,function(){this.isReleasing=!1},this),this.onCloseGate&&this.onOpenGate.call(null,this)}},{key:"tempClose",value:function(){this.isOpen=!1,this.wallBlocker.body.enable=!0,this.closeTimer&&game.time.events.remove(this.closeTimer),this.onCloseGate&&this.onCloseGate.call(null,this)}},{key:"resize",value:function(){var t=this.scale.x*this.parent.scale.x*256,e=this.scale.y*this.parent.scale.y*512;this.hitArea.body.setSize(t,e,(512-t)/2,512-e),t=this.scale.x*this.parent.scale.x*512,e=this.scale.y*this.parent.scale.y*512,this.wallBlocker.body.setSize(t,e,(512-t)/2,(512-e)/2)}}]),e}(l.default.Group);e.default=A},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(5),l=function(t){return t&&t.__esModule?t:{default:t}}(s),A=function(t){function e(t){var n=t.game,o=t.x,a=t.y,s=t.targetGroup,A=t.limit,c=t.onEscapeCallback,u=t.lifetime,T=t.onDeathCallback,C=t.drag,h=void 0===C?1:C,G=t.image,f=void 0===G?"gate_melanosome":G;i(this,e);var d=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,o,a,f));return d.game=n,d.limit=A,d.alpha=1,d.width=64,d.height=64,n.physics.enable(d,l.default.Physics.ARCADE),d.body.velocity.x=100*n.globalTimeScale,d.body.velocity.y=0,d.body.bounce.set(.75),d.body.gravity.x=9.8,d.body.drag.set(h*n.globalTimeScale),s.add(d),d.resize(),d.hasPassed=!1,d.maxLifetime=6e4,d.lifetime=u||6e4,d.onEscapeCallback=c,d.onDeathCallback=T,d}return o(e,t),a(e,[{key:"update",value:function(){this.body.gravity.x=9.8*game.globalTimeScale,this.wasPushedBack&&this.body.velocity.x>0?(game.time.events.remove(this.pushBackTimer),this.wasPushedBack=!1):this.wasPushedForward&&this.body.velocity.x<0&&(this.wasPushedForward=!1),this.x>this.limit&&!0!==this.hasPassed&&this.handlePass(),this.alpha=Math.min(1,this.lifetime/this.maxLifetime+.1),this.lifetime-=1e3*game.time.physicsElapsed*game.globalTimeScale,this.lifetime<=0&&this.handleDeath()}},{key:"pushForward",value:function(){this.wasPushedForward=!0}},{key:"pushBack",value:function(){this.wasPushedBack&&this.pushBackTimer&&game.time.events.remove(this.pushBackTimer),this.wasPushedBack=!0,this.pushBackTimer=game.time.events.add(4e3,function(){this.wasPushedBack=!1},this)}},{key:"handlePass",value:function(){this.body.checkCollision.none=!0,this.hasPassed=!0,this.onEscapeCallback.call(null,this.wasPushedForward),this.body.drag.set(150),this.body.velocity.x+=(50*game.rnd.frac()-25)*game.globalTimeScale}},{key:"handleDeath",value:function(){this.onDeathCallback.call(null,this),this.destroy()}},{key:"resize",value:function(){if(this.parent){var t=this.parent.scale.x*this.width*2,e=this.parent.scale.y*this.height*2;this.body.setSize(t,e,0,0)}}}]),e}(l.default.Sprite);e.default=A},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(5),l=function(t){return t&&t.__esModule?t:{default:t}}(s),A=n(29),c=function(t){function e(t){var n=t.game,o=t.x,a=t.y,s=t.dir,l=t.isWorking,A=t.onInsert,c=t.onPopout;i(this,e);var u=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));u.alpha=1,u.wingLength=42,u.thickness=14,u.y_dir=s,u.isWorking=l,u.numLongMiddles=1,u.isWorking&&(u.numLongMiddles=2),u.x=o,u.y=a,u.isFloating=!0,u.currentGate=null,u.wings=n.add.group(),u.add(u.wings),u.leftWing=n.add.sprite(0,0,"gate_stopper_wing"),u.leftWing.anchor.set(0,.5),u.leftWing.angle=-45,u.leftWing.width=-u.leftWing.width,u.wings.add(u.leftWing),u.rightWing=n.add.sprite(0,0,"gate_stopper_wing"),u.rightWing.angle=45,u.rightWing.anchor.set(0,.5),u.wings.add(u.rightWing),u.wings.rotation+=Math.PI/2,u.isWorking=!1,u.onPopout=c,u.onInsert=A;return u.numLongMiddles>=2&&(u.isWorking=!0),u.middleBodyWorking=n.add.sprite(0,0,"gate_stopper_body_working"),u.middleBodyWorking.anchor.set(1,.5),u.add(u.middleBodyWorking),u.initWidth=u.middleBodyWorking.width,u.middleBodyBroken=n.add.sprite(0,0,"gate_stopper_body_broken"),u.middleBodyBroken.anchor.set(1,.5),u.add(u.middleBodyBroken),u.hitArea=n.add.sprite(o,a,"square"),u.hitArea.anchor.set(1,.5),u.hitArea.alpha=0,u.hitArea.width=u.wingLength,u.hitArea.height=50,u.hitArea.y+=u.hitArea.height/2,u.parent.add(u.hitArea),n.physics.enable(u.hitArea),u.enableBody=!0,u.hitArea.body.drag.x=30,u.hitArea.body.drag.y=30,u.flapForever(),u.alpha=0,u.game.add.tween(u).to({alpha:1},1e3).start(),u.scale.set(.5),u.redraw(),u}return o(e,t),a(e,[{key:"update",value:function(){var t=512*this.parent.scale.x,e=512*this.parent.scale.y;if(this.hitArea.body.setSize(t,e,(512-t)/2,(512-e)/2),this.isFloating){var n=new l.default.Point;n.x=Math.cos(this.rotation-Math.PI/2),n.y=Math.sin(this.rotation-Math.PI/2);var i=n.dot(this.hitArea.body.velocity),r=-i*Math.sqrt((0,A.sqrMagnitude)(this.hitArea.body.velocity))*.002;this.leftWing.angle+=.02*((0,A.clamp)(r,-89,89)-this.leftWing.angle),this.rightWing.angle+=.02*(-(0,A.clamp)(r,-89,89)-this.rightWing.angle);var o=Math.atan2(this.hitArea.body.velocity.y,this.hitArea.body.velocity.x);this.rotation+=.01*(o-this.rotation);var a=game.height/2-this.hitArea.body.y,s=-400*this.parent.scale.y,c=460*this.parent.scale.y,u=game.width/2-this.hitArea.body.x;u-=Math.abs(a)/8;var T=-400*this.parent.scale.x,C=-50*this.parent.scale.x;a>c&&this.hitArea.body.velocity.y<0?this.hitArea.body.velocity.y+=20:a<s&&this.hitArea.body.velocity.y>0?this.hitArea.body.velocity.y-=20:this.hitArea.body.velocity.y+=50*(game.rnd.frac()-.5),u<T&&this.hitArea.body.velocity.x>0?this.hitArea.body.velocity.x-=20:u>C&&this.hitArea.body.velocity.x<0?this.hitArea.body.velocity.x*=-1:this.hitArea.body.velocity.x+=50*(game.rnd.frac()-.5),this.x=this.hitArea.x,this.y=this.hitArea.y}else this.hitArea.x=this.x,this.hitArea.y=this.y}},{key:"flapForever",value:function(){}},{key:"connectToGate",value:function(t){null==this.currentGate&&null==t.currentStopper&&(this.flapEvent&&game.time.events.remove(this.flapEvent),t.acceptStopper(this),this.onInsert&&this.onInsert.call(),this.isFloating=!1,this.currentGate=t,this.hitArea&&this.hitArea.body&&(this.hitArea.body.velocity.y=0,this.hitArea.body.velocity.x=0),game.add.tween(this).to({angle:Math.PI/2,x:t.x+32,y:t.y},300).start(),game.add.tween(this.leftWing).to({angle:-45},300).start(),game.add.tween(this.rightWing).to({angle:45},300).start())}},{key:"fallOff",value:function(){this.onPopout&&this.onPopout.call(),this.currentGate.wallBlocker.body.enable=!1,this.currentGate.currentStopper=null,this.hitArea.body.velocity.x=0,this.hitArea.body.velocity.y=0,this.hitArea.x=this.x,this.hitArea.y=this.y,this.hitArea.body.enable=!0,this.isFloating=!0,this.hitArea.body.velocity.x=200*game.globalTimeScale,game.add.tween(this.middleBodyWorking).to({width:0},200/game.globalTimeScale).start(),game.time.events.add(300/game.globalTimeScale,function(){this.currentGate=null,this.isWorking&&game.add.tween(this.middleBodyWorking).to({width:this.initWidth},400/game.globalTimeScale).start()},this)}},{key:"redraw",value:function(){this.isWorking?(this.currentGate&&this.currentGate.wallBlocker&&this.currentGate.wallBlocker.body&&(this.currentGate.wallBlocker.body.enable=!1),this.middleBodyWorking.alpha=1,this.middleBodyBroken.alpha=1):(this.currentGate&&this.currentGate.wallBlocker&&this.currentGate.wallBlocker.body&&(this.currentGate.wallBlocker.body.enable=!0),this.middleBodyWorking.alpha=0,this.middleBodyBroken.alpha=1)}}]),e}(l.default.Group);e.default=c},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(5),l=function(t){return t&&t.__esModule?t:{default:t}}(s),A=function(t){function e(t){var n=t.game,o=t.x,a=t.y,s=t.width,l=t.height,A=t.density,c=t.targetGroup;i(this,e);var u=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));u.game=n,u.x=o,u.y=a,u.zoneWidth=s,u.zoneHeight=l,u.maxStars=s*l*A*8e-4,u.stars=[];for(var T=0;T<u.maxStars;T++)u.createStar();return c.add(u),u}return o(e,t),a(e,[{key:"createStar",value:function(){var t=game.rnd.between(0,this.zoneWidth),e=game.rnd.between(0,this.zoneHeight),n=game.add.sprite(t,e,"sparkle");n.anchor.set(.5,.5),n.alpha=0,this.add(n),this.stars.push(n),n.scale.setTo(.3,.3);var i=game.rnd.between(400,800);game.add.tween(n).to({angle:359},6e3,l.default.Easing.Linear.None,!0).loop(!0);var r=game.rnd.between(0,1e3),i=game.rnd.between(800,1e3);game.add.tween(n.scale).to({x:1,y:1},i,l.default.Easing.Linear.Out,!0,r,i/2,!0),game.add.tween(n).to({alpha:1},i,l.default.Easing.Linear.Out,!0,r,i/2,!0)}},{key:"setDensity",value:function(t){for(this.maxStars=Math.floor(this.zoneWidth*this.zoneHeight*t*8e-4);this.stars.length>this.maxStars;){var e=this.stars.pop();void 0!==e&&(game.tweens.removeFrom(e),e.destroy())}for(;this.stars.length<this.maxStars;)this.createStar()}}]),e}(l.default.Group);e.default=A},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(5),l=function(t){return t&&t.__esModule?t:{default:t}}(s),A=function(t){function e(t){var n=t.game,o=t.x,a=t.y,s=t.microtubule,A=t.initialOffset,c=t.popSfx,u=(t.asset,t.baseStickiness),T=t.stickinessVariation,C=t.tint,h=t.strongChance,G=t.canAnchor,f=t.onGrabMelanosome,d=t.onReleaseMelanosome,p=t.startDisabled;i(this,e);var m=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));m.game=n,m.x=o,m.y=a,m.tint=C||10107193,m.lightTint=l.default.Color.interpolateColor(m.tint,16777215,100,60,1),m.alpha=0,m.myoffset=A,m.microtubule=s,m.movement_speed=.2,m.rotation_speed=.075,m.stickiness=n.rnd.frac()*T+u,m.popSfx=c,m.isHalted=!1,m.isFullyHalted=!1,m.canGrab=!0,m.grabbedMelanosome=null,m.holdDuration=-1,m.canAnchor=G,m.isStrong=n.rnd.frac()<h,m.onReleaseMelanosome=d,m.onGrabMelanosome=f,s&&m.attachToMicrotubule(s,A),m.prop_foot=n.add.sprite(0,0,"propeller_foot"),m.prop_foot.tint=m.tint,m.prop_foot.anchor.set(.5),m.prop_foot.width=-30,m.prop_foot.height=-m.prop_foot.width,m.add(m.prop_foot),m.movement_speed=.0025*m.prop_foot.height*1.5,m.points={x:[128,68,0],y:[256,196,196]},m.grabber=n.add.sprite(0,0,"grabber"),m.isStrong?(m.grabber.width=50,m.grabber.height=50):(m.grabber.width=25,m.grabber.height=25),m.grabber.tint=m.lightTint,m.grabber.angle=180,m.grabber.anchor.set(.49,.5),m.add(m.grabber),m.grabber.x=0,m.grabber.y=0,m.grabber_hit=n.add.sprite(0,0,"square"),m.isStrong?(m.grabber_hit.width=50,m.grabber_hit.height=50):(m.grabber_hit.width=25,m.grabber_hit.height=25),m.grabber_hit.tint=m.lightTint,m.grabber_hit.angle=180,m.grabber_hit.anchor.set(.49,.5),m.add(m.grabber_hit),m.grabber_hit.alpha=0,m.grabber_hit.x=0,m.grabber_hit.y=0,m.lastPosition={x:o,y:a},m.velocity={x:0,y:0},m.flagellumDots=[];for(var g=0;g<20;g++){var v=n.add.sprite(0,0,"circle");m.add(v),v.tint=g<12?m.tint:m.lightTint,v.x=0,v.y=0;var y=12*(1.1-g/20);v.width=y,v.height=y,m.flagellumDots.push(v),v.anchor.set(.5)}return m.propBody=n.add.sprite(0,0,"circle"),m.propBody.width=16,m.propBody.height=16,m.propBody.tint=m.lightTint,m.propBody.anchor.set(.5),m.add(m.propBody),m.propBody.x=0,m.propBody.y=0,m.propBodyInner=n.add.sprite(0,0,"circle"),m.propBodyInner.width=10.67,m.propBodyInner.height=10.67,m.propBodyInner.tint=m.tint,m.propBodyInner.anchor.set(.5),m.add(m.propBodyInner),m.propBodyInner.x=0,m.propBodyInner.y=0,m.clickArea=n.add.sprite(0,0,"square"),m.clickArea.width=64,m.clickArea.height=64,m.clickArea.anchor.set(.5,.67),m.clickArea.alpha=0,m.add(m.clickArea),m.clickArea.inputEnabled=!0,m.clickArea.events.onInputDown.add(function(){this.releaseGrabbedMelanosome(),this.pop()},m),m.startDisabled=p,n.time.events.add(100,function(){this.game.physics.enable(this.grabber,l.default.Physics.ARCADE),this.game.physics.enable(this.grabber_hit,l.default.Physics.ARCADE),!0===this.startDisabled&&(this.grabber.body.checkCollision.none=!0,this.grabber_hit.body.checkCollision.none=!0,n.time.events.add(100,function(){this.grabber.body.checkCollision.none=!1,this.grabber_hit.body.checkCollision.none=!1},this))},m),m}return o(e,t),a(e,[{key:"attachToMicrotubule",value:function(t,e){this.microtubule=t,null==e?this.microtubule.direction>0?this.myoffset=-.1:this.myoffset=1.1:this.myoffset=e;var n=this.microtubule.getPositionAtOffset(this.myoffset);this.x=n.x,this.y=n.y,this.lastPosition={x:this.x,y:this.y},game.add.tween(this).to({alpha:1},200,"Expo",!0)}},{key:"update",value:function(){if(!0!==this.isFullyHalted){if(this.microtubule&&!0!==this.isHalted){this.rotation=Math.atan2(this.velocity.y,this.velocity.x),this.prop_foot.rotation+=this.rotation_speed*(Math.PI/2);var t=this.prop_foot.rotation;this.prop_foot.y=this.prop_foot.width/2*Math.abs(Math.sin(t)),this.propBody.y=this.prop_foot.y,this.propBodyInner.y=this.prop_foot.y;var e=.001+this.prop_foot.rotation/Math.PI%1;e=.45,this.myoffset+=e*(game.time.elapsedMS/1e3)*this.movement_speed*this.microtubule.direction;var n=this.microtubule.getPositionAtOffset(this.myoffset);this.x=n.x,this.y=n.y}(this.myoffset>1.3||this.myoffset<-.3)&&this.fadeAway();var i=this.x-this.lastPosition.x,r=this.y-this.lastPosition.y;if(this.velocity.x=i,this.velocity.y=r,this.lastPosition={x:this.x,y:this.y},this.parent&&this.grabber.body){var o=128*this.parent.scale.x,a=128*this.parent.scale.y;this.grabber.body.setSize(o,a,(128-o)/2,(128-a)/2)}if(this.grabbedMelanosome){var s=this.x-128,A=this.y-20;if(!0!==this.grabbedMelanosome.wasGrabbed){var n=new l.default.Point(s,A);l.default.Point.rotate(n,this.x,this.y,this.rotation),this.grabbedMelanosome.x+=.051*(n.x-this.grabbedMelanosome.x),this.grabbedMelanosome.y+=.051*(n.y-this.grabbedMelanosome.y)}}this.updateFlagellum()}}},{key:"grab",value:function(t){!0===this.canGrab&&null===this.grabbedMelanosome&&t!==this.lastGrabbedMelanosome&&(!1===t.isHeld?(this.grabbedMelanosome=t,this.lastGrabbedMelanosome=t,t.heldBy=this,this.canGrab=!1,t.isHeld=!0,t.velocity.x=0,t.velocity.y=0,this.onGrabMelanosome&&this.onGrabMelanosome.call(),this.holdDuration>0&&game.time.events.add(this.holdDuration*(game.rnd.frac()+.5)*1e3,function(){this.grabbedMelanosome&&null===this.grabbedMelanosome.currentSlot&&this.releaseGrabbedMelanosome()},this)):1==t.isHeld&&this.isStrong&&!0!==t.heldBy.isStrong&&(this.grabbedMelanosome=t,this.lastGrabbedMelanosome=t,t.heldBy.releaseGrabbedMelanosome(),t.heldBy=this,this.canGrab=!1,t.isHeld=!0,t.velocity.x=0,t.velocity.y=0,this.onGrabMelanosome&&this.onGrabMelanosome.call(),this.holdDuration>0&&game.time.events.add(this.holdDuration*(game.rnd.frac()+.5)*1e3,function(){this.grabbedMelanosome&&null===this.grabbedMelanosome.currentSlot&&this.releaseGrabbedMelanosome()},this)))}},{key:"releaseGrabbedMelanosome",value:function(){null!==this.grabbedMelanosome&&(this.onReleaseMelanosome&&this.onReleaseMelanosome.call(),null!=this.grabbedMelanosome.currentSlot&&this.grabbedMelanosome.currentSlot.releaseMelanosome(),this.grabbedMelanosome.heldBy=null,this.grabbedMelanosome.isHeld=!1,this.grabbedMelanosome=null,null!==this.haltingEvent&&(game.time.events.remove(this.haltingEvent),this.haltingEvent=null),this.isHalted=!1,this.isFullyHalted=!1,game.time.events.add(1e3,function(){this.canGrab=!0},this))}},{key:"pop",value:function(){game.add.tween(this).to({alpha:0},200,"Expo",!0);this.popSfx.play(),game.time.events.add(201,this.destroy,this)}},{key:"fadeAway",value:function(){if(!0!==this.fading){this.body=null,this.fading=!0;game.add.tween(this).to({alpha:0},2e3,"Expo",!0);game.time.events.add(2001,this.destroy,this)}}},{key:"updateFlagellum",value:function(){if(null!==this.grabbedMelanosome){this.points.y[0]=128+this.prop_foot.y;var t=new l.default.Point(this.grabbedMelanosome.x-this.x,this.grabbedMelanosome.y-this.y),e=l.default.Point.rotate(t,0,0,-this.rotation);this.points.x[2]+=.1*(128+this.grabbedMelanosome.width/2+e.x-this.points.x[2]),this.points.y[2]+=.1*(128+e.y-this.points.y[2]),this.points.x[1]=.5*(this.points.x[0]+this.points.x[2]),this.points.y[1]=.5*(this.points.y[0]+this.points.y[2]);var n=this.x-128,i=this.y-20,r=this.getPositionAtOffset(.9);r.x+=this.x,r.y+=this.y,r.x-=128,r.y-=128;var o=n-r.x,a=i-r.y;this.grabber.rotation=Math.atan2(a,o)}else this.points.y[0]=128+this.prop_foot.y,this.points.x[1]=82,this.points.y[1]=118,this.points.x[2]=64,this.points.y[2]=118-this.microtubule.direction*Math.sin(2*this.prop_foot.rotation)*5,this.grabber.rotation=Math.PI;for(var s=0;s<this.flagellumDots.length;s++){var t=this.getPositionAtOffset(s/this.flagellumDots.length);this.flagellumDots[s].x=t.x-128,this.flagellumDots[s].y=-128+t.y}var A=this.getPositionAtOffset(.9);this.grabber.x=A.x-128,this.grabber.y=-128+A.y,this.grabber_hit.x=this.grabber.x-120,this.grabber_hit.y=this.grabber.y-15}},{key:"halt",value:function(){this.isHalted=!0,this.haltingEvent=game.time.events.add(2e3,function(){this.isFullyHalted=!0},this)}},{key:"getPositionAtOffset",value:function(t){var e=this.game.math.bezierInterpolation(this.points.x,t),n=this.game.math.bezierInterpolation(this.points.y,t);return new l.default.Point(e,n)}}]),e}(l.default.Group);e.default=A},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(5),l=function(t){return t&&t.__esModule?t:{default:t}}(s),A=(n(162),function(t){function e(t){var n=t.game,o=t.x,a=t.y;t.asset;i(this,e);var s=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,o,a,"motor_melanosome"));return s.game=n,s.tint=16764596,s.alpha=1,s.anchor.set(.5),s.scale.set(.6),s.currentSlot=null,s.isHeld=!1,s.heldBy=null,s.wasGrabbed=!1,s.velocity=new l.default.Point(0,0),s.previous_x=s.x,s.previous_y=s.y,s.previousVelocity=new l.default.Point(0,0),s.accel=new l.default.Point(0,0),s.inSlotLocation=0,s.baseWidth=s.width,s.baseHeight=s.height,s.game.physics.enable(s,l.default.Physics.ARCADE),s.c1=n.add.sprite(0,0,"gears"),s.c2=n.add.sprite(0,0,"gears"),s.c3=n.add.sprite(0,0,"gears"),s.c4=n.add.sprite(0,0,"gears"),s.c1.anchor.set(.5),s.c2.anchor.set(.5),s.c3.anchor.set(.5),s.c4.anchor.set(.5),s.addChild(s.c1),s.addChild(s.c2),s.addChild(s.c3),s.addChild(s.c4),s.game.physics.enable(s.c1,l.default.Physics.ARCADE),s.game.physics.enable(s.c2,l.default.Physics.ARCADE),s.game.physics.enable(s.c3,l.default.Physics.ARCADE),s.game.physics.enable(s.c4,l.default.Physics.ARCADE),s.c1.x=0,s.c1.y=-128,s.c1.angle=90,s.c2.x=128,s.c2.y=0,s.c2.angle=180,s.c3.x=0,s.c3.y=128,s.c3.angle=270,s.c4.x=-128,s.c4.y=0,s.alpha=0,n.add.tween(s).to({alpha:1}).start(),s.inputEnabled=!0,s.events.onInputDown.add(function(){null!==this.heldBy&&this.heldBy.releaseGrabbedMelanosome()},s),s}return o(e,t),a(e,[{key:"update",value:function(){var t=.001*game.time.elapsedMS;if(null!==this.currentSlot){var e=this.inSlotLocation/this.currentSlot.capacity*2*(2*Math.PI),n=this.currentSlot.x+Math.sin(e)*(this.currentSlot.scale.x*this.currentSlot.extents)*(e/2),i=this.currentSlot.y+Math.cos(e)*(this.currentSlot.scale.y*this.currentSlot.extents)*(e/2);this.velocity.x+=.1*(n-this.x),this.velocity.y+=.1*(i-this.y)}if(!1===this.isHeld||this.wasGrabbed?(this.x+=this.velocity.x*t,this.y+=this.velocity.y*t,this.applyFriction(.95),this.accel.x=this.previousVelocity.x-this.velocity.x,this.accel.y=this.previousVelocity.y-this.velocity.y,this.previousVelocity.x=this.velocity.x,this.previousVelocity.y=this.velocity.y):(this.velocity.x=(this.x-this.previous_x)/t,this.velocity.y=(this.y-this.previous_y)/t,this.previous_x=this.x,this.previous_y=this.y),this.parent){var r=256*this.parent.scale.x,o=256*this.parent.scale.y;this.body.setSize(r,o,(256-r)/2,(256-o)/2);var a=256*this.parent.scale.x,s=256*this.parent.scale.y;this.c1.body.setSize(2*a,s,(256-2*a)/2,(256-s)/2),this.c2.body.setSize(a,2*s,(256-a)/2,(256-2*s)/2),this.c3.body.setSize(2*a,s,(256-2*a)/2,(256-s)/2),this.c4.body.setSize(a,2*s,(256-a)/2,(256-2*s)/2)}}},{key:"DoJiggle",value:function(){console.log("TODO?? Scripted Jiggle")}},{key:"applyFriction",value:function(t){this.velocity.x*=t,this.velocity.y*=t}}]),e}(l.default.Sprite));e.default=A},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(5),l=function(t){return t&&t.__esModule?t:{default:t}}(s),A=function(t){function e(t){var n=t.game,o=t.x,a=t.y,s=(t.asset,t.microtubule),A=t.isActive,c=t.offset,u=t.onAddCallback,T=t.onReleaseCallback;i(this,e);var C=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,o,a,"dashed_circle"));return C.game=n,C.tint=1994621,C.alpha=0,C.anchor.set(.5),C.microtubule=s,C.myoffset=c,C.scale.set(.7),C.capacity=1,C.extents=0,C.isActive=A,C.melanosomes=[],C.spawnDirection={x:1,y:0},C.connectedSlot=null,C.inputEnabled=!0,C.events.onInputDown.add(C.onClick,C),C.onAddCallback=u,C.onReleaseCallback=T,C.thickness=10,C.game.physics.enable(C,l.default.Physics.ARCADE),!0===C.isActive&&n.add.tween(C).to({alpha:1}).start(),C}return o(e,t),a(e,[{key:"update",value:function(){if(this.parent){var t=64*this.parent.scale.x,e=64*this.parent.scale.y;this.body.setSize(t,e,(256-t)/2,(256-e)/2)}}},{key:"addMelanosome",value:function(t){this.melanosomes.length<this.capacity&&(null!==t.heldBy&&!0===t.heldBy.canAnchor&&(this.melanosomes.push(t),t.wasGrabbed=!0,t.heldBy.halt(),t.currentSlot=this,t.inSlotLocation=this.melanosomes.length,this.parent.bringToTop(this),this.tint=16777215,this.onAddCallback.call()),this.melanosomes.length>=this.capacity&&null!==this.connectedSlot&&this.connectedSlot.activate())}},{key:"activate",value:function(){!1===this.isActive&&(this.isActive=!0,game.add.tween(this).to({alpha:1}).start())}},{key:"fillSlot",value:function(){this.isFull=!0}},{key:"onClick",value:function(){this.releaseMelanosome()}},{key:"releaseMelanosome",value:function(){if(this.melanosomes.length>0){this.onReleaseCallback.call(),this.tint=1994621;var t=this.melanosomes[this.melanosomes.length-1];t.velocity.x=0,t.velocity.y=-400*this.microtubule.direction,t.DoJiggle(),this.melanosomes.splice(this.melanosomes.length-1,1),t.currentSlot=null,game.time.events.add(1e3,function(){this.wasGrabbed=!1},t)}}}]),e}(l.default.Sprite);e.default=A},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(5),l=function(t){return t&&t.__esModule?t:{default:t}}(s),A=function(t){function e(t){var n=t.game,o=t.x,a=t.y,s=t.actin,A=t.popSfx,c=(t.asset,t.baseStickiness),u=t.stickinessVariation;i(this,e);var T=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return T.game=n,T.x=o,T.y=a,T.tint=4142973,T.alpha=0,T.offset=0,T.actin=null,T.movement_speed=.1,T.stickiness=n.rnd.frac()*u+c,T.scale.set(.05+T.stickiness/5*.1),T.popSfx=A,s&&T.attachToActin(s),T.game.physics.enable(T,l.default.Physics.ARCADE),T.lastPosition={x:o,y:a},T.velocity={x:0,y:0},n.add.tween(T).to({alpha:.75},2e3,"Expo",!0),T}return o(e,t),a(e,[{key:"attachToActin",value:function(t){this.actin=t,this.actin.direction>0?this.offset=0:this.offset=1}},{key:"update",value:function(){if(this.actin){this.offset+=.001*game.time.elapsedMS*this.movement_speed*this.actin.direction;var t=this.actin.getPositionAtOffset(this.offset);this.x=t.x,this.y=t.y}(this.offset>1||this.offset<0)&&this.fadeAway();var e=this.x-this.lastPosition.x,n=this.y-this.lastPosition.y;if(this.velocity.x=e,this.velocity.y=n,this.lastPosition={x:this.x,y:this.y},this.rotation=Math.atan2(this.velocity.y,this.velocity.x),this.parent&&this.body){var i=512*this.parent.scale.x,r=512*this.parent.scale.y;this.body.setSize(i,r,(512-i)/2,(512-r)/2)}}},{key:"onClick",value:function(){this.pop()}},{key:"pop",value:function(){game.add.tween(this.scale).to({x:4*this.scale.x,y:4*this.scale.y},200,"Expo",!0),game.add.tween(this).to({alpha:0},200,"Expo",!0);this.popSfx.play(),game.time.events.add(201,this.destroy,this)}},{key:"fadeAway",value:function(){if(!0!==this.fading){this.body=null,this.fading=!0;game.add.tween(this).to({alpha:0},2e3,"Expo",!0);game.time.events.add(2001,this.destroy,this)}}}]),e}(l.default.Group);e.default=A},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(5),A=i(l),c=n(107),u=(i(c),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"init",value:function(){this.stage.backgroundColor="#000000"}},{key:"preload",value:function(){this.load.image("loaderBg","./assets/images/loader-bg.png"),this.load.image("loaderBar","./assets/images/loader-bar.png")}},{key:"create",value:function(){this.state.start("Splash")}},{key:"render",value:function(){}},{key:"fontsLoaded",value:function(){}}]),e}(A.default.State));e.default=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(5),A=i(l),c=n(56),u=i(c),T=n(113),C=(i(T),n(115)),h=(i(C),n(114)),G=(i(h),n(74)),f=(i(G),n(75)),d=(i(f),n(181)),p=(i(d),n(19)),m=i(p),g=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"init",value:function(t){this.onFinishCallback=t}},{key:"create",value:function(){game.scale.scaleMode=A.default.ScaleManager.RESIZE,game.stage.backgroundColor="#aa3333",this.world=game.add.group(),game.datgui&&game.datgui.destroy(),game.datgui=new u.default.GUI({load:JSON}),game.datgui.remember(this),game.datgui.add(this,"gotoMotorActivity"),this.timer=this.game.time.create(!1),this.timer.start(),this.resize(),this.thing=this.game.add.graphics(0,0),this.thing.clear(),this.thing.clearDirty=!0,this.thing.dirty=!0,this.thing.beginFill(16724736,1),this.thing.lineStyle(10,16767232,1),this.thing.moveTo(50,50),this.thing.lineTo(250,50),this.thing.lineTo(100,100),this.thing.lineTo(250,220),this.thing.lineTo(50,220),this.thing.lineTo(50,50),this.thing.endFill(),console.log(this.thing),this.thing.clearDirty=!0,this.thing.dirty=!0}},{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"resize",value:function(){var t=Math.round(1e4*Math.min(this.game.width/m.default.SAFE_ZONE_WIDTH,this.game.height/m.default.SAFE_ZONE_HEIGHT))/1e4;this.world.scale.setTo(t,t),this.world.x=(this.game.width-m.default.SAFE_ZONE_WIDTH*t)/2,this.world.y=(this.game.height-m.default.SAFE_ZONE_HEIGHT*t)/2}},{key:"gotoMotorActivity",value:function(){this.gotoState("MotorActivity")}},{key:"gotoState",value:function(t){this.state.start(t,!0,!1)}}]),e}(A.default.State);e.default=g},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(5),A=i(l),c=n(56),u=(i(c),n(72)),T=i(u),C=n(112),h=i(C),G=n(73),f=i(G),d=n(168),p=i(d),m=n(167),g=i(m),v=n(169),y=i(v),b=n(170),_=i(b),x=n(19),w=i(x),S=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"init",value:function(t){this.onFinishCallback=t}},{key:"create",value:function(){this.phone=new T.default.getIFrameEndpoint,this.phone.initialize(),this.numGates=11,this.gaps=[.34,.42,.51,.6,.67],this.gapSize=.04,this.bCellPos=.15,this.tCellPos=.47,this.sparklePos=.55,this.gates=[],this.stoppers=[],this.melanosomes=[],this.escapedMelanosomes=[],this.walls=[],this.maxFloatingStoppers=8,this.numFloatingStoppers=0,game.actions.track(["pushed_toward_nucleus","pushed_through_gate","working_stopper_removed","broken_stopper_removed","gate_closed","gate_left_open"]),this.gateTimers=[],this.backgroundBlobsGroup=game.add.group(),this.cellGroup=game.add.group(),this.melanosomeCollisionGroup=game.add.physicsGroup(A.default.Physics.ARCADE),this.world=game.add.group(),this.hudGroup=game.add.group(),this.aboveAllGroup=game.add.group(),this.sparkle=this.cellGroup.add(new _.default({game:game,x:2048*this.sparklePos,y:-100,width:204.8,height:w.default.SAFE_ZONE_HEIGHT+200,density:0,targetGroup:this.cellGroup})),this.pulses=[];for(var t=0;t<3;t++){var e=game.add.sprite(0,0,"circle_outline");e.anchor.set(.5),e.x=w.default.SAFE_ZONE_WIDTH/2,e.y=w.default.SAFE_ZONE_HEIGHT/2,e.width=e.height=0,this.backgroundBlobsGroup.add(e),this.pulses.push(e)}this.gateCloseSfx=this.game.add.audio("dumbbell_attach"),this.gateOpenSfx=this.game.add.audio("dumbbell_break"),this.popoutSfx=this.game.add.audio("popout"),this.blockerInsertSfx=this.game.add.audio("blocker_insert"),this.melanosomeEscapeSfx=this.game.add.audio("pleasing_ding"),this.melanosomeEscapeSfx.volume=0,this.winSfx=this.game.add.audio("win"),this.path_points={x:[0,60,300,60,0],y:[0,2048]},this.backgroundBmd=game.add.bitmapData(1024,1024),this.cellBackgroundSprite=game.add.image(w.default.SAFE_ZONE_WIDTH/2,w.default.SAFE_ZONE_HEIGHT/2,this.backgroundBmd),this.cellBackgroundSprite.anchor.set(.5),this.cellBackgroundSprite.x-=512,this.cellBackgroundSprite.alpha=.8,this.cellGroup.add(this.cellBackgroundSprite);var n=1.2;this.cellBmd=game.add.bitmapData(512,512),this.cellSprite=game.add.image(w.default.SAFE_ZONE_WIDTH/2,w.default.SAFE_ZONE_HEIGHT/2,this.cellBmd),this.cellSprite.anchor.set(1,.5),this.cellSprite.scale.set(2/1.8,2),this.cellSprite.x-=300,this.cellWallBmd=game.add.bitmapData(1024,1024),this.cellWallSprite=game.add.image(w.default.SAFE_ZONE_WIDTH/2,w.default.SAFE_ZONE_HEIGHT/2,this.cellWallBmd),this.cellWallSprite.anchor.set(1,.5),this.cellGroup.add(this.cellSprite),this.cellGroup.add(this.cellWallSprite);n=1.85,this.topCellBmd=game.add.bitmapData(1024,1024/n),this.topCellSprite=game.add.sprite(w.default.SAFE_ZONE_WIDTH/2-41,w.default.SAFE_ZONE_HEIGHT/2,this.topCellBmd),this.topCellSprite.anchor.set(0,.5),this.topCellSprite.scale.set(1,n),this.topCellSprite.alpha=1,this.cellGroup.add(this.topCellSprite),this.topCellWallBmd=game.add.bitmapData(1024,1024),this.topCellWallSprite=game.add.sprite(w.default.SAFE_ZONE_WIDTH/2,w.default.SAFE_ZONE_HEIGHT/2,this.topCellWallBmd),this.topCellWallSprite.anchor.set(.5),this.topCellWallSprite.alpha=1,this.cellGroup.add(this.topCellWallSprite),this.melanosomesSpawnedPerSecond=.5,this.stoppersSpawnedPerSecond=1.5,this.percentWorkingGates=1,this.updateStopperAlleles(),game.cellModel.on("change",this.updateStopperAlleles,this),this.maxEscaped=game.cellModel.get("maxEscaped"),this.initialEscapedCount=0,this.percentWorkingGates>.9&&(this.initialEscapedCount=this.maxEscaped),this.numEscaped=0;for(var i=0;i<this.initialEscapedCount;i++)this.spawnEscapedMelanosome(2e3*(i+5));this.targetNumEscaped=game.cellModel.target_state.numEscaped,this.unwinnableGracePeriod=5e3,this.canWin=!1,game.time.events.add(this.unwinnableGracePeriod,function(){this.canWin=!0},this),game.scale.scaleMode=A.default.ScaleManager.RESIZE,game.stage.backgroundColor="#001A38";var r=game.add.image(w.default.SAFE_ZONE_WIDTH/2,w.default.SAFE_ZONE_HEIGHT/2,"blobs");r.scale.set(4,5),r.anchor.set(.5),r.alpha=.7,this.backgroundBlobsGroup.add(r),this.updateColors(),this.drawCells(),this.mouseCursorHitArea=game.add.sprite(0,0,"circle"),this.mouseCursorHitArea.anchor.set(.5),this.mouseCursorHitArea.alpha=0,this.mouseCursorHitArea.width=this.mouseCursorHitArea.height=64,game.physics.enable(this.mouseCursorHitArea,A.default.Physics.ARCADE),this.expandingCircles=new h.default({game:game,x:w.default.SAFE_ZONE_WIDTH/2,y:w.default.SAFE_ZONE_HEIGHT/2}),this.aboveAllGroup.add(this.expandingCircles),this.colorIndicators=new f.default({game:game,x:0,y:0,showStart:!0,showTarget:!0}),this.colorIndicators.updateColors("gate",this.numEscaped/this.maxEscaped),this.hudGroup.add(this.colorIndicators),this.topCover=game.add.sprite(0,0,"square"),this.topCover.width=2048,this.topCover.height=2048,this.topCover.tint=game.stage.backgroundColor,game.add.tween(this.topCover).to({alpha:0},3e3).start(),game.time.events.add(1e3/this.melanosomesSpawnedPerSecond/game.globalTimeScale,this.SpawnMelanosomesForever,this),this.timer=this.game.time.create(!1),this.timer.start(),game.hudView.loadTutorial(this,"protein"),game.isNucleus&&(game.input.enabled=!1,game.isPostNucleus?this.handleReturnFromNucleus():game.hudView.showNucleus(!0)),this.checkForOverlap(),this.resize(),this.checkForOverlap(),this.checkForBounce()}},{key:"updateStopperAlleles",value:function(){var t=game.cellModel.getCurrentAllele("Chromosome0A","gate_stopper_button"),e=game.cellModel.getCurrentAllele("Chromosome0B","gate_stopper_button");this.percentWorkingGates=0,1==t.value&&(this.percentWorkingGates+=.5),1==e.value&&(this.percentWorkingGates+=.5);for(var n=0;n<this.stoppers.length;n++)n<this.stoppers.length/2?this.stoppers[n].isWorking=t.value:this.stoppers[n].isWorking=e.value,this.stoppers[n].redraw()}},{key:"updateColors",value:function(){switch(this.genColor=game.cellModel.getGeneticColorName(),this.genColor){case"steel":case"charcoal":this.fillColor="#333333",this.melImage="dark_melanosome";break;case"copper":case"lava":this.fillColor="#E34A15",this.melImage="gate_melanosome";break;case"sand":case"gold":this.fillColor="#E3E315",this.melImage="gate_melanosome";break;default:this.fillColor="#FFFFFF",this.melImage="gate_melanosome"}}},{key:"drawCells",value:function(){this.cellBmd.clear();for(var t=0;t<=1;t+=1/2048*7){for(var e=!0,n=0;n<this.gaps.length;n++)t>this.gaps[n]-this.gapSize/2&&t<this.gaps[n]+this.gapSize/2&&(e=!1);if(e){var i=this.game.math.bezierInterpolation(this.path_points.x,t)+2048*this.bCellPos,r=this.game.math.bezierInterpolation(this.path_points.y,t)-512;this.cellWallBmd.circle(i,r,14,"#CA9B8C")}}var o=this.cellBmd.width,a=this.cellBmd.height,s=this.cellBmd.context,l=s.createRadialGradient(-o,a/2,o,0,a/2,2*o);this.setGradientAlphaStops(l,this.fillColor,[[.15,1],[.22,.6],[.28,0]]),s.fillStyle=l,s.fillRect(0,0,o,a);for(var A=2048*(this.tCellPos-this.bCellPos)*1.4,t=0;t<this.gaps.length;t++){var c=A/2-50,u=(2048-w.default.SAFE_ZONE_HEIGHT)/2,i=this.game.math.bezierInterpolation(this.path_points.x,this.gaps[t])+c,r=this.game.math.bezierInterpolation([0,2048],this.gaps[t])-u,T=game.add.sprite(i,r,"tunnel");T.tint=13682035,T.anchor.set(.5),T.height=128,T.width=A,this.cellGroup.add(T);for(var C=0;C<i;C+=2)this.backgroundBmd.circle(C+125,r-3*Math.sin(.05*C)+u-512,5,"#669999")}this.cellGroup.bringToTop(this.cellSprite),this.cellGroup.bringToTop(this.cellWallSprite),this.createTopCell();for(var h=this,t=0;t<this.gaps.length;t++){var c=2048*this.tCellPos-230,u=(1024-w.default.SAFE_ZONE_HEIGHT)/2,i=this.game.math.bezierInterpolation(this.path_points.x,this.gaps[t])+c,r=this.game.math.bezierInterpolation(this.path_points.y,this.gaps[t])-u-512,G=new g.default({game:game,x:i,y:r,rotation:Math.PI/2,height:100,targetPhysicsGroup:this.melanosomeCollisionGroup,wallWidth:0,onOpenGate:function(t){},onCloseGate:function(t){h.gateCloseSfx.play(),h.removeGateTimer(t)},onClickRelease:function(t){t.isWorking?game.actions.record("working_stopper_removed"):game.actions.record("broken_stopper_removed");var e=t.currentGate,n=h.gates.indexOf(e);h.gateTimers[n]=game.time.events.add(3e3,function(){e.isOpen&&game.actions.record("gate_left_open"),this.gateTimers[n]=null},h)},onClickClose:function(){game.actions.record("gate_closed")}});this.cellGroup.add(G),this.gates.push(G);var f=1;game.rnd.frac()<.5&&(f=-1),this.percentWorkingGates>=.99?(this.SpawnGateStopper(i+50*this.world.scale.x,r,f,!0),this.SpawnGateStopper(i+150*this.world.scale.x,r,f,!0),this.SpawnGateStopper(i+250*this.world.scale.x,r,f,!0)):this.percentWorkingGates>=.01?(this.SpawnGateStopper(i+50*this.world.scale.x,r,f,!1),this.SpawnGateStopper(i+50*this.world.scale.x,r,f,!1),this.SpawnGateStopper(i+350*this.world.scale.x,r,f,!0)):(this.SpawnGateStopper(i+50*this.world.scale.x,r,f,!1),this.SpawnGateStopper(i+150*this.world.scale.x,r,f,!1),this.SpawnGateStopper(i+250*this.world.scale.x,r,f,!1))}}},{key:"removeGateTimer",value:function(t){var e=this.gates.indexOf(t),n=this.gateTimers[e];n&&(game.time.events.remove(n),this.gateTimers[e]=null)}},{key:"createTopCell",value:function(){this.topCellBmd.clear();for(var t=0;t<=1;t+=1/2048*8){for(var e=!0,n=0;n<this.gaps.length;n++)t>this.gaps[n]-this.gapSize/2&&t<this.gaps[n]+this.gapSize/2&&(e=!1);if(e){var i=this.game.math.bezierInterpolation(this.path_points.x,t)+1024*this.tCellPos-32,r=this.game.math.bezierInterpolation(this.path_points.y,t)-512,o="rgba(255,255,255,0.8)";this.topCellWallBmd.circle(i,r,16,o)}}var a=this.topCellBmd.width,s=this.topCellBmd.height,l=this.topCellBmd.context;o="rgba(255,255,255,";var A=l.createRadialGradient(-a,s/2,a,0,s/2,2*a);this.setGradientAlphaStops(A,"#FFFFFF",[[0,0],[.05,0],[.06,1],[.12,.9],[.25,.8],[.27,.8],[.31,.85],[.38,1],[.48,.9]]),l.fillStyle=A,l.fillRect(0,0,a,s)}},{key:"setGradientAlphaStops",value:function(t,e,n){for(var i=A.default.Color.hexToColor(e),r=0;r<n.length;r++)t.addColorStop(n[r][0],"rgba("+i.r+","+i.g+","+i.b+","+n[r][1]+")")}},{key:"tintBottomCell",value:function(t){t=Math.clamp(t,0,100);var e=A.default.Color.hexToRGB(this.fillColor),n=A.default.Color.interpolateColor(14343890,e,100,t,1),i=A.default.Color.interpolateColor(n,16777215,100,60,1);this.cellSprite.tint=n,this.cellSprite.alpha=.4+.3*t/100,this.cellWallSprite.tint=i}},{key:"tintTopCell",value:function(t){t=Math.clamp(t,0,100);var e=A.default.Color.hexToRGB(this.fillColor),n=A.default.Color.interpolateColor(14343890,e,100,t,1),i=A.default.Color.interpolateColor(n,16777215,100,60,1);this.topCellSprite.tint=n,this.topCellSprite.alpha=.4+.3*t/100,this.topCellWallSprite.tint=i,this.gates.forEach(function(t){t.setAll("tint",i)})}},{key:"update",value:function(){this.numEscaped-=.001*Math.pow(game.globalTimeScale,4),this.numEscaped<0&&(this.numEscaped=0),!0===this.canWin&&Math.round(this.numEscaped)==this.targetNumEscaped&&this.handleWin();var t=Math.max(0,.1*(1-this.numEscaped/this.maxEscaped));this.sparkle.setDensity(t),this.tintTopCell(100*this.numEscaped/this.maxEscaped),this.mouseCursorHitArea.x=game.input.x,this.mouseCursorHitArea.y=game.input.y,this.expandingCircles.x=game.input.x,this.expandingCircles.y=game.input.y,this.checkForBounce(),this.checkForOverlap()}},{key:"handleWin",value:function(){if(!0!==this.hasWon){this.hasWon=!0,game.input.enabled=!1,this.winSfx.play(),game.hideHud(!0);for(var t=0;t<this.pulses.length;t++){var e=this.pulses[t];e.alpha=.5,e.blendMode=1,game.add.tween(e).to({width:4e3,height:4e3,alpha:0},1e3*(t+1),A.default.Easing.Cubic.Out).start()}game.time.events.add(2500,function(){game.tweens.removeFrom(this.topCover),game.add.tween(this.topCover).to({alpha:1},1e3).start(),this.phone.post("activityWin",{activity:"gate",cellModel:game.cellModel.toJSON(),resultingGeneticColor:game.cellModel.getGeneticColorName(),geneticShortcode:game.cellModel.getGeneticShortcode(),actionStats:game.actions.stats})},this)}}},{key:"handleExit",value:function(){!0!==this.isExiting&&(this.isExiting=!0,game.input.enabled=!1,game.tweens.removeFrom(this.topCover),game.add.tween(this.topCover).to({alpha:1},1e3).start(),game.hideHud(),game.time.events.add(1501,function(){game.paused=!0,this.phone.post("activityExit",{activity:"gate",cellModel:game.cellModel.toJSON(),resultingGeneticColor:game.cellModel.getGeneticColorName(),geneticShortcode:game.cellModel.getGeneticShortcode()})},this))}},{key:"render",value:function(){}},{key:"handleReturnFromNucleus",value:function(){var t=this,e=game.cellModel.getGeneticColorName(),n=game.cellModel.colorToState(e),i=game.cellModel.target_state;game.isBossLevel&&(this.updateColors(),this.tintBottomCell(100*this.numEscaped/this.maxEscaped),this.escapedMelanosomes.forEach(function(e){e.loadTexture(t.melImage)})),n.numEscaped!=i.numEscaped||game.isBossLevel&&e!=game.finalTarget||this.successfulNucleusReturn()}},{key:"successfulNucleusReturn",value:function(){game.hideHud(),this.winSfx.play(),game.globalTimeScale=2;for(var t=0;t<10;t++){var e=game.rnd.frac()<this.percentWorkingGates;this.SpawnGateStopper(w.default.SAFE_ZONE_WIDTH,game.rnd.frac()*w.default.SAFE_ZONE_HEIGHT*.5,-1,e)}if(this.numEscaped=this.maxEscaped/2,game.isBossLevel)for(var n=0;n<this.numEscaped;n++)this.spawnEscapedMelanosome(3e3*(n+1))}},{key:"guardChange",value:function(){}},{key:"checkForBounce",value:function(){game.physics.arcade.collide(this.melanosomeCollisionGroup)}},{key:"checkForOverlap",value:function(){for(var t=0;t<this.gates.length;t++){var e=this.gates[t];if(null===e.currentStopper)for(var n=0;n<this.stoppers.length;n++){var i=this.stoppers[n];i.isFloating&&null==i.currentGate&&game.physics.arcade.overlap(e.hitArea,i.hitArea,function(t,n){i.connectToGate(e)},null,this)}else if(null!==e.currentStopper&&e.currentStopper.isWorking)for(var n=0;n<this.melanosomes.length;n++){var r=this.melanosomes[n];game.physics.arcade.overlap(e.hitArea,r,function(t,n){e.releaseStopper()},null,this)}}if(game.input.activePointer.isDown&&this.expandingCircles){this.expandingCircles.isActive=!0;for(var t=0;t<this.melanosomes.length;t++){var o=this.melanosomes[t];this.game.physics.arcade.overlap(this.mouseCursorHitArea,o,function(t,e){var n=game.input.x-e.world.x;n<0&&(n*=1.5),e.body.velocity.x+=.2*-n,n<0?e.pushForward():!e.wasPushedBack&&e.body.velocity.x<0&&(game.actions.record("pushed_toward_nucleus"),e.pushBack())})}}else this.expandingCircles.isActive=!1}},{key:"SpawnGateStopper",value:function(t,e,n,i){var r=this,o=new y.default({game:game,x:t,y:e,dir:n,isWorking:i,onInsert:function(){r.blockerInsertSfx.play()},onPopout:function(){r.popoutSfx.play()}});this.world.add(o),this.world.add(o.hitArea),this.stoppers.push(o),this.numFloatingStoppers++}},{key:"SpawnGateStoppersForever",value:function(){if(this.numFloatingStoppers<this.maxFloatingStoppers){var t=-1,e=0;game.rnd.frac()<.5&&(t=1,e=w.default.SAFE_ZONE_HEIGHT);var n=game.rnd.frac()<this.percentWorkingGates;this.SpawnGateStopper(2048,e,t,n)}game.time.events.add(1e3/this.stoppersSpawnedPerSecond/game.globalTimeScale,this.SpawnGateStoppersForever,this)}},{key:"SpawnMelanosomesForever",value:function(){this.SpawnMelanosome(),game.time.events.add(1e3/this.melanosomesSpawnedPerSecond/game.globalTimeScale,this.SpawnMelanosomesForever,this)}},{key:"SpawnMelanosome",value:function(){var t=(2048-w.default.SAFE_ZONE_HEIGHT)/2,e=game.rnd.integerInRange(0,this.gaps.length-1),n=this.gaps[e],i=this.game.math.bezierInterpolation(this.path_points.y,n),r=this,o=new p.default({game:game,x:-132,y:i-t-32,targetGroup:this.world,limit:2048*this.sparklePos,drag:1,onEscapeCallback:function(t){r.numEscaped++,r.colorIndicators.updateColors("gate",r.numEscaped/r.maxEscaped),r.melanosomeEscapeSfx.play(),t&&game.actions.record("pushed_through_gate"),r.escapedMelanosomes.push(o)},onDeathCallback:function(t){r.onMelanosomeDeath.call(r,t)},image:this.melImage});this.melanosomeCollisionGroup.add(o),this.melanosomes.push(o)}},{key:"spawnEscapedMelanosome",value:function(t){var e=this,n=new p.default({game:game,x:w.default.SAFE_ZONE_WIDTH-400,y:game.rnd.frac()*w.default.SAFE_ZONE_HEIGHT,lifetime:t,targetGroup:e.world,limit:2048*e.sparklePos,drag:300,onEscapeCallback:function(){e.numEscaped++,e.colorIndicators.updateColors("gate",e.numEscaped/e.maxEscaped)},onDeathCallback:function(t){e.onMelanosomeDeath.call(e,t)},image:e.melImage});this.escapedMelanosomes.push(n)}},{key:"onMelanosomeDeath",value:function(t){this.numEscaped--,this.colorIndicators.updateColors("gate",this.numEscaped/this.maxEscaped);var e=this.escapedMelanosomes.indexOf(t);-1!=e&&this.escapedMelanosomes.splice(e,1)}},{key:"resize",value:function(){var t=Math.round(1e4*Math.min(this.game.width/w.default.SAFE_ZONE_WIDTH,this.game.height/w.default.SAFE_ZONE_HEIGHT))/1e4;this.world.scale.setTo(t,t),this.backgroundBlobsGroup.scale.setTo(t,t),this.melanosomeCollisionGroup.scale.setTo(t,t),this.cellGroup.scale.setTo(t,t),this.hudGroup.scale.setTo(t,t),this.hudGroup.x=this.cellGroup.x=this.backgroundBlobsGroup.x=this.melanosomeCollisionGroup.x=this.world.x=(this.game.width-w.default.SAFE_ZONE_WIDTH*t)/2,this.hudGroup.y=this.cellGroup.y=this.backgroundBlobsGroup.y=this.melanosomeCollisionGroup.y=this.world.y=(this.game.height-w.default.SAFE_ZONE_HEIGHT*t)/2;for(var e=0;e<this.melanosomes.length;e++)this.melanosomes[e].resize();for(e=0;e<this.gates.length;e++)this.gates[e].resize();for(var n=512*t,e=0;e<this.walls.length;e++){var i=this.walls[e];e%2==0?i.body.setSize(n,n,0,512-n):i.body.setSize(n,n,0,0)}}},{key:"gotoMotorActivity",value:function(){this.gotoState("MotorActivity")}},{key:"gotoSizeActivity",value:function(){this.gotoState("SizeActivity")}},{key:"gotoState",value:function(t){this.state.start(t,!0,!1)}}]),e}(A.default.State);e.default=S},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(5),A=i(l),c=n(56),u=(i(c),n(72)),T=i(u),C=n(111),h=i(C),G=n(73),f=i(G),d=n(165),p=i(d),m=n(172),g=i(m),v=n(173),y=i(v),b=n(174),_=(i(b),n(171)),x=i(_),w=n(19),S=i(w),k=n(75),E=(i(k),n(29)),O=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"init",value:function(t){this.onFinishCallback=t}},{key:"preload",value:function(){}},{key:"create",value:function(){(0,E.datalog)("Motor Activity Started"),this.phone=new T.default.getIFrameEndpoint,this.phone.initialize(),this.melanosomes=[],this.actins=[],this.actinSlots=[],this.nucleusSlot={},this.cellWallSlot={},this.myocinsUp=[],this.myocinsDown=[],this.kinesins=[],this.dyneins=[],this.backgroundGroup=game.add.group(),this.backgroundBlobsGroup=game.add.group(),this.slotGroup=game.add.group(),this.microtubuleGroup=game.add.group(),this.myocinGroup=game.add.group(),this.melanosomeGroup=game.add.group(),this.kinesinGroup=game.add.group(),this.actinGroup=game.add.group(),this.aboveAllGroup=game.add.group(),this.myocinSpawnsPerSecond=1,this.myocinBaseStickiness=.5,this.myocinStickinessVariation=5,this.percentMyocinWorking=1,this.unwinnableGracePeriod=2e3,this.canWin=!1,game.time.events.add(this.unwinnableGracePeriod,function(){this.canWin=!0},this),this.pulses=[];for(var t=0;t<3;t++){var e=game.add.sprite(0,0,"circle_outline");e.anchor.set(.5),e.x=S.default.SAFE_ZONE_WIDTH/2,e.y=S.default.SAFE_ZONE_HEIGHT/2,e.width=e.height=0,this.backgroundBlobsGroup.add(e),this.pulses.push(e)}this.onReleaseSfx=this.game.add.audio("popout"),this.onReleaseSfx.volume=.7,this.onSlotSfx=this.game.add.audio("pleasing_ding"),this.squitchSfx=this.game.add.audio("popout"),this.squitchSfx.pitch=2,this.squitchSfx.volume=.7,this.grabSfx=this.game.add.audio("dumbbell_attach"),this.grabSfx.volume=0,this.proteinReleaseMelanosomeSfx=this.game.add.audio("dumbbell_break"),this.proteinReleaseMelanosomeSfx.volume=.2,this.winSfx=this.game.add.audio("win"),this.updateMyocinAlleles(),game.cellModel.on("change",this.updateMyocinAlleles,this),this.targetNumSlotted=game.cellModel.target_state.numSlotted,this.numSlotted=0,this.kinesinSpawnsPerSecond=.2,this.kinesinBaseStickiness=.05,this.kinesinStickinessVariation=5,this.percentKinesinWorking=0,this.dyneinSpawnsPerSecond=.2,this.dyneinBaseStickiness=.05,this.dyneinStickinessVariation=5,this.percentDyneinWorking=0,game.scale.scaleMode=A.default.ScaleManager.RESIZE,this.backgroundSprite=game.add.sprite(0,0,"square"),this.backgroundSprite.tint=795452,this.backgroundGroup.add(this.backgroundSprite),game.stage.backgroundColor="#0C233C",this.world=game.add.group();new h.default({game:game,x:0,y:0,blobTint:14540287,blobAlpha:.7,targetGroup:this.backgroundBlobsGroup,blobBlend:PIXI.blendModes.ADD,bloomAlpha:0});this.squiggleBmd=game.add.bitmapData(2048,2048),this.squiggleSprite=game.add.sprite(0,0,this.squiggleBmd),this.squiggleSprite.alpha=1,this.microtubuleGroup.add(this.squiggleSprite),this.actinBmd=game.add.bitmapData(2048,2048),this.actinSprite=game.add.sprite(0,0,this.actinBmd),this.actinGroup.add(this.actinSprite);var n=S.default.SAFE_ZONE_HEIGHT/2;this.microtubule_out=new p.default({game:game,x:0,y:0,direction:1,path_points:{x:[0,S.default.SAFE_ZONE_WIDTH],y:[n-20]},thickness:3,spacing:12,alphaFade:.5,alpha:.75,color:"#D47FA9"}),this.world.add(this.microtubule_out),this.microtubule_middle=new p.default({game:game,x:0,y:0,direction:1,path_points:{x:[0,S.default.SAFE_ZONE_WIDTH],y:[n]},thickness:28,alphaFade:1,alpha:1,color:"#635D5B"}),this.world.add(this.microtubule_middle),this.microtubule_in=new p.default({game:game,x:0,y:0,direction:-1,path_points:{x:[0,S.default.SAFE_ZONE_WIDTH],y:[n+20]},spacing:12,thickness:3,alphaFade:.5,alpha:.75,color:"#99CCCC",asset:"circle"}),this.world.add(this.microtubule_in),this.microtubuleGroup.add(this.microtubule_in),this.microtubuleGroup.add(this.microtubule_middle),this.microtubuleGroup.add(this.microtubule_out);for(var i=game.cellModel.get("maxSlotted"),r=S.default.SAFE_ZONE_WIDTH/(i+4),o=0;o<i;o++){var a=(o+2)*r,s=o+.5-i/2,l=(Math.abs(s),new p.default({game:game,x:0,y:0,thickness:3,spacing:10,alphaFade:1,direction:o%2==0?-1:1,path_points:{x:[a,a,a],y:[-300,S.default.SAFE_ZONE_HEIGHT+300-0]},asset:"circle"}));l.drawToBmd(this.actinBmd),this.world.add(l),this.actinGroup.add(l),this.actins.push(l)}this.createSlots(),this.microtubule_middle.drawToBmd(this.squiggleBmd),this.microtubule_in.drawToBmd(this.squiggleBmd),this.microtubule_out.drawToBmd(this.squiggleBmd),this.golgi_glow=game.add.sprite(0,0,"medium_white_blur"),this.golgi_glow.anchor.set(.5,.5),this.golgi_glow.height=S.default.SAFE_ZONE_HEIGHT+400,this.golgi_glow.width=S.default.SAFE_ZONE_HEIGHT+300,this.golgi_glow.x=-S.default.SAFE_ZONE_HEIGHT/2,this.golgi_glow.y=S.default.SAFE_ZONE_HEIGHT/2,this.golgi_glow.tint=3791063,this.aboveAllGroup.add(this.golgi_glow),this.golgi_border=game.add.sprite(0,0,"circle"),this.golgi_border.anchor.set(.5,.5),this.golgi_border.height=S.default.SAFE_ZONE_HEIGHT+10,this.golgi_border.width=S.default.SAFE_ZONE_HEIGHT+10,this.golgi_border.x=-S.default.SAFE_ZONE_HEIGHT/2,this.golgi_border.y=S.default.SAFE_ZONE_HEIGHT/2,this.golgi_border.tint=16777215,this.aboveAllGroup.add(this.golgi_border),this.golgi=game.add.sprite(0,0,"circle"),this.golgi.anchor.set(.5,.5),this.golgi.height=S.default.SAFE_ZONE_HEIGHT,this.golgi.width=S.default.SAFE_ZONE_HEIGHT,this.golgi.x=-S.default.SAFE_ZONE_HEIGHT/2,this.golgi.y=S.default.SAFE_ZONE_HEIGHT/2,this.golgi.tint=3791063,this.aboveAllGroup.add(this.golgi);var c=0;1!=this.myocin_allele_a.value&&1!=this.myocin_allele_b.value||(c=this.actinSlots.length);for(var u=this,o=0;o<this.actinSlots.length;o++)if(o<c){var C=this.actinSlots[o],G=this.spawnMelanosome();G.x=C.x,G.y=C.y;var d=new x.default({game:game,x:G.x,y:G.y,asset:"circle",initialOffset:C.myoffset,popSfx:this.squitchSfx,microtubule:C.microtubule,strongChance:this.percentMyocinWorking,baseStickiness:this.myocinBaseStickiness,stickinessVariation:this.myocinStickinessVariation,tint:13421721,canAnchor:!0,onReleaseMelanosome:function(){u.proteinReleaseMelanosomeSfx.play()},onGrabMelanosome:function(){u.grabSfx.play()}});C.microtubule.direction>0?this.myocinsUp.push(d):this.myocinsDown.push(d),this.myocinGroup.add(d)}for(var o=0;o<this.actins.length;o++){var l=this.actins[o],m=.5*game.rnd.frac();l.direction<0&&(m=1-m);var d=new x.default({game:game,x:1e4,y:1e4,asset:"circle",initialOffset:m,popSfx:this.squitchSfx,microtubule:l,strongChance:this.percentMyocinWorking,baseStickiness:this.myocinBaseStickiness,stickinessVariation:this.myocinStickinessVariation,startDisabled:!0,tint:13421721,canAnchor:!0,onReleaseMelanosome:function(){u.proteinReleaseMelanosomeSfx.play()},onGrabMelanosome:function(){u.grabSfx.play()}});l.direction>0?this.myocinsUp.push(d):this.myocinsDown.push(d),this.myocinGroup.add(d)}for(var o=0;o<this.actins.length;o+=3){var l=this.actins[o],m=.5*game.rnd.frac();l.direction<0&&(m=1-m);new x.default({game:game,x:1e4,y:1e4,asset:"circle",initialOffset:m,popSfx:this.squitchSfx,microtubule:l,strongChance:this.percentMyocinWorking,baseStickiness:this.myocinBaseStickiness,stickinessVariation:this.myocinStickinessVariation,startDisabled:!0,tint:13421721,canAnchor:!0,onReleaseMelanosome:function(){u.proteinReleaseMelanosomeSfx.play()},onGrabMelanosome:function(){u.grabSfx.play()}});l.direction>0?this.myocinsUp.push(d):this.myocinsDown.push(d),this.myocinGroup.add(d)}for(var o=0;o<3;o++)this.spawnKinesin(this.microtubule_out,13395609,.3*o),this.spawnDynein(this.microtubule_in,10079436,.3*o);for(var o=0;o<5;o++){var v=this.microtubule_out.getPositionAtOffset(o/5),y=new g.default({game:game,x:v.x,y:v.y+200*game.rnd.frac()-100,asset:"circle"});this.melanosomes.push(y),this.melanosomeGroup.add(y)}this.colorIndicators=new f.default({game:game,x:0,y:0,showStart:!0,showTarget:!0}),this.colorIndicators.updateColors("motor",this.numSlotted/this.game.cellModel.get("maxSlotted")),this.aboveAllGroup.add(this.colorIndicators),this.topCover=game.add.sprite(0,0,"square"),this.topCover.width=2048,this.topCover.height=2048,this.squiggleSprite.alpha=1,this.topCover.tint=game.stage.backgroundColor,game.add.tween(this.topCover).to({alpha:0},3e3).start(),game.datgui&&game.datgui.destroy(),this.timer=this.game.time.create(!1),this.spawnMelanosomesForever(),this.spawnMyocinForever(),this.spawnKinesinsForever(),this.spawnDyneinsForever(),this.timer.start(),this.resize(),game.isNucleus&&game.hudView.showNucleus(!0)}},{key:"handleReturnFromNucleus",value:function(){var t=game.cellModel.getGeneticColorName(),e=game.cellModel.colorToState(t),n=game.cellModel.target_state;e.numSlotted==n.numSlotted&&this.successfulNucleusReturn()}},{key:"successfulNucleusReturn",value:function(){console.warn("Motor activity Nucleus return not implemented."),game.hideHud()}},{key:"updateMyocinAlleles",value:function(){this.myocin_allele_a=game.cellModel.getCurrentAllele("Chromosome2A","myocin_grabber"),this.myocin_allele_b=game.cellModel.getCurrentAllele("Chromosome2B","myocin_grabber"),this.percentMyocinWorking=0,1==this.myocin_allele_a.value&&(this.percentMyocinWorking+=.5),1==this.myocin_allele_b.value&&(this.percentMyocinWorking+=.5)}},{key:"createSlots",value:function(){for(var t=0;t<this.actins.length;t++){var e=.24*this.actins[t].direction;if(t%4==0||t%4==1)var e=.16*this.actins[t].direction;var n=this.actins[t].getPositionAtOffset(.5+e),i=this.createSlot(n.x,n.y,this.actins[t],!0,.5+1.2*e);i.spawnDirection={x:0,y:-1},this.actinSlots.push(i)}}},{key:"createSlot",value:function(t,e,n,i,r){var o=this,a=new y.default({game:game,x:t,y:e,microtubule:n,squirtSfx:this.squirtSfx,asset:"circle",offset:r,isActive:i,onAddCallback:function(){o.numSlotted++,o.colorIndicators.updateColors("motor",o.numSlotted/o.game.cellModel.get("maxSlotted")),o.onSlotSfx.play()},onReleaseCallback:function(){o.numSlotted--,o.colorIndicators.updateColors("motor",o.numSlotted/o.game.cellModel.get("maxSlotted")),o.onReleaseSfx.play()}});return a.x=t,a.y=e,this.slotGroup.add(a),a}},{key:"spawnMyocin",value:function(t){var e=this;if(null==t){var n=game.rnd.integerInRange(0,this.actins.length-1);t=this.actins[n]}var i=new x.default({game:game,x:0,y:0,asset:"circle",popSfx:this.squitchSfx,microtubule:t,strongChance:this.percentMyocinWorking,baseStickiness:this.myocinBaseStickiness,stickinessVariation:this.myocinStickinessVariation,tint:13421721,canAnchor:!0,onReleaseMelanosome:function(){e.proteinReleaseMelanosomeSfx.play()},onGrabMelanosome:function(){e.grabSfx.play()}});return t.direction>0?this.myocinsUp.push(i):this.myocinsDown.push(i),this.myocinGroup.add(i),i}},{key:"spawnMyocinForever",value:function(){this.spawnMyocin(),game.time.events.add(1e3/this.myocinSpawnsPerSecond,this.spawnMyocinForever,this)}},{key:"spawnKinesin",value:function(t,e,n){var i=this,r=new x.default({game:game,x:0,y:0,asset:"circle",popSfx:this.squitchSfx,microtubule:t,initialOffset:n,baseStickiness:this.kinesinBaseStickiness,strongChance:this.percentKinesinWorking,stickinessVariation:this.kinesinStickinessVariation,tint:e,onReleaseMelanosome:function(){i.proteinReleaseMelanosomeSfx.play()},onGrabMelanosome:function(){i.grabSfx.play()}});this.kinesins.push(r),this.kinesinGroup.add(r)}},{key:"spawnDynein",value:function(t,e,n){var i=this,r=new x.default({game:game,x:0,y:0,asset:"circle",popSfx:this.squitchSfx,microtubule:t,initialOffset:n,baseStickiness:this.kinesinBaseStickiness,strongChance:this.percentDyneinWorking,stickinessVariation:this.kinesinStickinessVariation,tint:e,onReleaseMelanosome:function(){i.proteinReleaseMelanosomeSfx.play()},onGrabMelanosome:function(){i.grabSfx.play()}});this.dyneins.push(r),this.kinesinGroup.add(r)}},{key:"spawnKinesinsForever",value:function(){var t=this.microtubule_out;this.spawnKinesin(t,13395609);game.time.events.add(1e3/this.kinesinSpawnsPerSecond,this.spawnKinesinsForever,this)}},{key:"spawnDyneinsForever",value:function(){var t=this.microtubule_in;this.spawnDynein(t,10079436,1.2);game.time.events.add(1e3/this.dyneinSpawnsPerSecond,this.spawnDyneinsForever,this)}},{key:"spawnMelanosome",value:function(t){var e=game.rnd.integerInRange(0,1);null!=t&&(e=t);var n={};0===e&&(n=this.microtubule_in.getPositionAtOffset(1.2)),1===e&&(n=this.microtubule_out.getPositionAtOffset(-.05));var i=new g.default({game:game,x:n.x,y:n.y,asset:"circle"});return this.melanosomes.push(i),this.melanosomeGroup.add(i),i}},{key:"spawnMelanosomesForever",value:function(){this.spawnMelanosome(),this.game.time.events.add(5e3,this.spawnMelanosomesForever,this)}},{key:"update",value:function(){this.numSlotted==this.targetNumSlotted&&this.canWin&&this.handleWin(),this.checkForOverlap()}},{key:"handleWin",value:function(){if(!0!==this.hasWon){this.hasWon=!0,game.input.enabled=!1,game.hideHud(),this.winSfx.play();for(var t=0;t<this.pulses.length;t++){var e=this.pulses[t];e.alpha=.5,e.blendMode=1,game.add.tween(e).to({width:4e3,height:4e3,alpha:0},1e3*(t+1),A.default.Easing.Cubic.Out).start()}game.time.events.add(2500,function(){game.tweens.removeFrom(this.topCover),game.add.tween(this.topCover).to({alpha:1},1e3).start(),this.phone.post("activityWin",{activity:"motor",cellModel:game.cellModel.toJSON(),resultingGeneticColor:game.cellModel.getGeneticColorName(),geneticShortcode:game.cellModel.getGeneticShortcode()})},this)}}},{key:"handleExit",value:function(){!0!==this.isExiting&&(this.isExiting=!0,game.input.enabled=!1,game.tweens.removeFrom(this.topCover),game.add.tween(this.topCover).to({alpha:1},1e3).start(),game.hideHud(),game.time.events.add(1501,function(){game.paused=!0,this.phone.post("activityExit",{activity:"motor",cellModel:game.cellModel.toJSON(),resultingGeneticColor:game.cellModel.getGeneticColorName(),geneticShortcode:game.cellModel.getGeneticShortcode()})},this))}},{key:"checkForOverlap",value:function(){for(var t=0;t<this.melanosomes.length;t++){var e=this.melanosomes[t];if(!0!==e.wasGrabbed){for(var n=0;n<this.myocinsUp.length;n++){var i=this.myocinsUp[n];null===i.grabbedMelanosome&&this.game.physics.arcade.overlap(i.grabber,e.c3,function(t,e){i.grab(e.parent)},null,this)}for(var n=0;n<this.myocinsDown.length;n++){var i=this.myocinsDown[n];null===i.grabbedMelanosome&&this.game.physics.arcade.overlap(i.grabber,e.c1,function(t,e){i.grab(e.parent)},null,this)}for(var r=0;r<this.kinesins.length;r++){var o=this.kinesins[r];this.game.physics.arcade.overlap(o.grabber,e.c4,function(t,e){o.grab(e.parent)},null,this)}for(var r=0;r<this.dyneins.length;r++){var a=this.dyneins[r];this.game.physics.arcade.overlap(a.grabber,e.c2,function(t,e){a.grab(e.parent)},null,this)}for(var s=0;s<this.actinSlots.length;s++){var l=this.actinSlots[s];!0===l.isActive&&this.game.physics.arcade.overlap(l,e,function(t,e){!0!==e.wasGrabbed&&t.addMelanosome(e)},null,this)}}}this.game.stage.filterArea=new A.default.Rectangle(0,0,this.game.width,this.game.height)}},{key:"render",value:function(){}},{key:"resize",value:function(){var t=Math.round(1e4*Math.min(this.game.width/S.default.SAFE_ZONE_WIDTH,this.game.height/S.default.SAFE_ZONE_HEIGHT))/1e4;this.world.scale.setTo(t,t),this.backgroundSprite.width=game.width,this.backgroundSprite.height=game.height,this.microtubuleGroup.scale.setTo(t,t),this.actinGroup.scale.setTo(t,t),this.myocinGroup.scale.setTo(t,t),this.kinesinGroup.scale.setTo(t,t),this.slotGroup.scale.setTo(t,t),this.melanosomeGroup.scale.setTo(t,t),this.backgroundBlobsGroup.scale.setTo(t,t),this.aboveAllGroup.scale.setTo(t,t),this.aboveAllGroup.x=this.backgroundBlobsGroup.x=this.melanosomeGroup.x=this.slotGroup.x=this.kinesinGroup.x=this.myocinGroup.x=this.actinGroup.x=this.microtubuleGroup.x=this.world.x=(this.game.width-S.default.SAFE_ZONE_WIDTH*t)/2,this.aboveAllGroup.y=this.backgroundBlobsGroup.y=this.melanosomeGroup.y=this.slotGroup.y=this.kinesinGroup.y=this.myocinGroup.y=this.actinGroup.y=this.microtubuleGroup.y=this.world.y=(this.game.height-S.default.SAFE_ZONE_HEIGHT*t)/2}},{key:"shutdown",value:function(){for(var t=0;t<this.kinesins.length;t++)this.kinesins[t].destroy();for(var t=0;t<this.melanosomes.length;t++)this.melanosomes[t].destroy();for(var t=0;t<this.myocins.length;t++)this.myocins[t].destroy();for(var t=0;t<this.actins.length;t++)this.actins[t].destroy();for(var t=0;t<this.actinSlots.length;t++)this.actinSlots[t].destroy();for(var t=0;t<game.stage.filters;t++)game.stage.filters[t].destroy();game.stage.filters=null,this.backgroundSprite.destroy(),this.squiggleSprite.destroy(),this.squiggleBmd.destroy(),this.world.destroy()}},{key:"gotoGateActivity",value:function(){this.gotoState("GateActivity")}},{key:"gotoSizeActivity",value:function(){this.gotoState("SizeActivity")}},{key:"gotoState",value:function(t){this.state.start(t,!0,!1)}}]),e}(A.default.State);e.default=O},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(5),A=i(l),c=n(56),u=(i(c),n(72)),T=i(u),C=n(32),h=(i(C),n(52)),G=(i(h),n(166)),f=(i(G),n(111)),d=(i(f),n(112)),p=i(d),m=n(164),g=i(m),v=n(73),y=i(v),b=n(163),_=i(b),x=n(113),w=i(x),S=n(115),k=i(S),E=n(114),O=i(E),M=n(74),P=i(M),j=n(116),F=i(j),B=n(75),N=(i(B),n(19)),I=i(N),D=(n(29),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"init",value:function(t){this.onFinishCallback=t}},{key:"preload",value:function(){}},{key:"create",value:function(){this.phone=new T.default.getIFrameEndpoint,this.phone.initialize(),this.trps=[],this.tyrs=[],this.tyrosines=[],this.tyrosineStars=[],this.trpCt=0,this.maxTrp=game.ftueData&&!1===game.ftueData.trp?0:15,this.size_trp_count=.2,this.floatingTyrosineCount=0,this.maxFloatingTyrosineCount=game.ftueData&&!1===game.ftueData.tyrosine?0:150,this.tyrosineSpawnedPerSecond=20,this.trpSpawnedPerSecond=1,this.maxStars=game.cellModel.get("maxStars"),game.actions.track(["disc_clicked","disc_destroyed","working_protein_assembled","broken_protein_assembled","tri_pushed_into_small_gear","protein_broken","barbell_grabbed"]),this.bgStartColor=2240577,this.starMakeSfx=game.add.audio("pleasing_ding"),this.starBreakSfx=game.add.audio("popout"),this.starPokeSfx=game.add.audio("blocker_insert"),this.trpAttachSfx=game.add.audio("dumbbell_attach"),this.trpFalloffSfx=game.add.audio("dumbbell_break"),this.tyrBreakApartSfx=game.add.audio("gate_close"),this.winSfx=game.add.audio("win"),this.trpAttachSfx.volume=.3,this.trpFalloffSfx.volume=.3,this.updateTYRAlleles(),this.updateTRPAlleles(),game.cellModel.on("change",this.updateTRPAlleles,this),game.cellModel.on("change",this.updateTYRAlleles,this),this.target_num_stars=game.cellModel.target_state.numStars,this.generateTextures(),this.backgroundBlobsGroup=game.add.group(),this.backgroundGroup=game.add.group(),this.sizeMelanosomeGroup=game.add.group(),this.starFactoryGroup=game.add.group(),this.tyrosineGroup=game.add.group(),this.tyrGroup=game.add.group(),this.trpGroup=game.add.group(),this.hudGroup=game.add.group(),this.aboveAllGroup=game.add.group(),this.pulses=[];for(var t=0;t<3;t++){var e=game.add.sprite(0,0,"circle_outline");e.anchor.set(.5),e.x=I.default.SAFE_ZONE_WIDTH/2,e.y=I.default.SAFE_ZONE_HEIGHT/2,e.width=e.height=0,this.backgroundGroup.add(e),this.pulses.push(e)}game.scale.scaleMode=A.default.ScaleManager.RESIZE,game.stage.backgroundColor="#223041",game.ftueData?(this.ftue=new _.default({game:game,x:0,y:0,step:game.ftueStep,data:game.ftueData}),this.hudGroup.add(this.ftue),this.ftue.y=1400,this.ftue.slideIn({y:640})):(this.backgroundGoal=game.add.sprite(I.default.SAFE_ZONE_WIDTH/2,I.default.SAFE_ZONE_HEIGHT/2,"size_goal"),this.backgroundGoal.tint=11639953,this.backgroundGoal.scale.set(1.4),this.backgroundGoal.anchor.set(.5),this.backgroundGoal.alpha=1,this.backgroundGoal.blendMode=PIXI.blendModes.ADD,this.backgroundGroup.add(this.backgroundGoal)),this.world=game.add.group();var n=game.ftueData&&game.ftueData.melanosomeScale?game.ftueData.melanosomeScale:1;this.sizeMelanosome=new w.default({game:game,x:I.default.SAFE_ZONE_WIDTH/2,y:I.default.SAFE_ZONE_HEIGHT/2,maxStars:this.maxStars,asset:"circle",zoom:n}),this.sizeMelanosomeGroup.add(this.sizeMelanosome),this.backgroundGoal&&(this.backgroundGoal.width=this.sizeMelanosome.starsToSize(this.target_num_stars),this.backgroundGoal.height=this.backgroundGoal.width),this.starImage=game.add.sprite(-I.default.SAFE_ZONE_WIDTH,-I.default.SAFE_ZONE_HEIGHT,"disc"),this.starImage.anchor.set(.5),this.starImage.tint=15288859,this.starImage.alpha=.9,this.darkStarImage=game.add.sprite(-I.default.SAFE_ZONE_WIDTH,-I.default.SAFE_ZONE_HEIGHT,"disc"),this.darkStarImage.anchor.set(.5),this.darkStarImage.tint=0,this.darkStarImage.alpha=.35,this.starBmd=game.add.bitmapData(1024,1024),this.starContainer=game.add.sprite(this.sizeMelanosome.x-512,this.sizeMelanosome.y-512,this.starBmd),this.tyrGroup.add(this.starContainer),this.expandingCircles=new p.default({game:game,x:I.default.SAFE_ZONE_WIDTH/2,y:I.default.SAFE_ZONE_HEIGHT/2}),this.aboveAllGroup.add(this.expandingCircles),this.mouseTrail=new g.default({game:game,x:game.input.x,y:game.input.y}),game.ftueData||(this.colorIndicators=new y.default({game:game,x:1,y:0,showStart:!0,showTarget:!0}),this.colorIndicators.updateColors("size",this.sizeMelanosome.numStars/this.maxStars),this.hudGroup.add(this.colorIndicators)),this.topCover=game.add.sprite(0,0,"square"),this.topCover.width=2048,this.topCover.height=2048,this.topCover.tint=game.stage.backgroundColor,game.add.tween(this.topCover).to({alpha:0},3e3).start(),this.numPreexistingStars=0;var i=game.cellModel.get("initial_stars");null===i||void 0===i?(this.tyr_allele_a.value||this.tyr_allele_b.value)&&(this.numPreexistingStars+=this.maxStars/2,(this.trp_allele_a.value||this.trp_allele_b.value)&&(this.numPreexistingStars+=this.maxStars/2)):this.numPreexistingStars=i;for(var r=0;r<this.numPreexistingStars;r++){var o=1500*(r+10);(this.trp_allele_a.value||this.trp_allele_b.value)&&(o=3e3*(r+20));var a=!0;this.game.ftueData&&"disc_destroyed"===game.ftueData.action&&(a=(r-1)%3==0,o=Number.POSITIVE_INFINITY),this.createStarProcedurally(o,a)}this.jumpToLocation(),this.colorIndicators&&this.colorIndicators.currentColorSwatch&&this.colorIndicators.updateColors("size",this.sizeMelanosome.numStars/this.maxStars);for(var r=0;r<8;r++){var s=Math.floor(r/4),l=s%2,c=r%4==0;this.spawnTyr(45*r,c,l)}this.updateTyrVisibility();for(var u=0,r=0;r<this.tyrs.length;r++){var C=this.tyrs[r];if(C.isActive&&(!game.ftueData||u<game.ftueData.working)){var h=this.spawnTrp(C.x,C.y);h&&(h.connectToTyr(C),u++)}}if(game.ftueData&&"working_protein_assembled"===game.ftueData.action&&(this.spawnTrp(-I.default.SAFE_ZONE_WIDTH/4,0),this.spawnTrp(I.default.SAFE_ZONE_WIDTH/4,0),this.spawnTrp(0,-I.default.SAFE_ZONE_HEIGHT/4),this.spawnTrp(0,I.default.SAFE_ZONE_HEIGHT/4)),game.ftueData&&"tri_pushed_into_small_gear"===game.ftueData.action)for(var r=0;r<6;r++){var G=.25*this.sizeMelanosome.getSize(),f=2*r*Math.PI/6,d=Math.cos(f)*G,m=Math.sin(f)*G;this.spawnTyrosine(d,m,!0,!0)}this.mouseCursorHitArea=game.add.sprite(0,0,"circle"),this.mouseCursorHitArea.anchor.set(.5),this.mouseCursorHitArea.alpha=0,this.mouseCursorHitArea.width=this.mouseCursorHitArea.height=80,game.physics.enable(this.mouseCursorHitArea,A.default.Physics.ARCADE),this.timer=this.game.time.create(!1),this.spawnTrpsForever(),this.SpawnTyrosineForever(),this.timer.start(),this.colorIndicators&&this.colorIndicators.forceUpdateStartColor("size",this.sizeMelanosome.numStars/this.maxStars),this.resize(),game.hudView.loadTutorial(this,"protein"),game.isNucleus&&(game.input.enabled=!1,game.isPostNucleus?this.handleReturnFromNucleus():game.hudView.showNucleus(!0))}},{key:"update",value:function(){if(game.stage.backgroundColor=A.default.Color.interpolateColor(this.bgStartColor,this.sizeMelanosome.tint,100,60,.2),!game.ftueData&&(this.target_num_stars<this.numPreexistingStars&&this.sizeMelanosome.numStars<=this.target_num_stars||this.target_num_stars>this.numPreexistingStars&&this.sizeMelanosome.numStars>=this.target_num_stars))return void this.handleWin();!0!==this.hasWon&&(this.mouseCursorHitArea.x=game.input.x,this.mouseCursorHitArea.y=game.input.y,this.expandingCircles.x=game.input.x,this.expandingCircles.y=game.input.y,this.checkForTyrOverlap()),this.updateStarBmd()}},{key:"updateStarBmd",value:function(){this.starBmd.clear(),this.starBmd.blendMultiply();for(var t=512-this.sizeMelanosome.x,e=512-this.sizeMelanosome.y,n=0;n<this.tyrosineStars.length;n++){var i=this.tyrosineStars[n];i.visible&&(this.starImage.rotation=i.rotation,this.starImage.alpha=.9-.2*n/this.maxStars,this.starBmd.draw(this.starImage,i.x+t,i.y+e))}this.starBmd.blendSaturation();for(var n=0;n<this.tyrosineStars.length;n++){var i=this.tyrosineStars[n];i.visible&&(this.darkStarImage.rotation=i.rotation,this.darkStarImage.alpha=.25+.05*n/this.tyrosineStars.length+.05*n/this.maxStars,this.starBmd.draw(this.darkStarImage,i.x+t,i.y+e))}}},{key:"updateTYRAlleles",value:function(){for(var t=(game.cellModel.get("Chromosome1A"),game.cellModel.get("Chromosome1B"),0);t<this.tyrs.length;t++)this.tyrs[t].handleAlleleChange();this.tyr_allele_a=game.cellModel.getCurrentAllele("Chromosome1A","tyr_mouth"),this.tyr_allele_b=game.cellModel.getCurrentAllele("Chromosome1B","tyr_mouth")}},{key:"spawnTyr",value:function(t,e,n){var i=null,r="";0==n?(r="Chromosome1A",i=game.cellModel.getCurrentAllele(r,"tyr_mouth")):(r="Chromosome1B",i=game.cellModel.getCurrentAllele(r,"tyr_mouth"));var o=this,a=new k.default({game:game,x:I.default.SAFE_ZONE_WIDTH/2,y:I.default.SAFE_ZONE_HEIGHT/2,asset:"circle",axleFlowerBmd:this.axleFlowerBmd,melanosome:this.sizeMelanosome,shouldBeActive:e,chromosome_id:r,allele:i,anchorPosition:t,onSeparate:function(){o.handleTyrSeparation()},onPlayerBreak:function(){o.handleTyrPlayerBreak()},breakable:!(game.ftueData&&"tri_pushed_into_small_gear"===game.ftueData.action)});this.tyrs.push(a),this.tyrGroup.add(a),a.onStarCreation.add(this.handleStarCreation,this)}},{key:"handleTyrSeparation",value:function(){this.tyrBreakApartSfx.play()}},{key:"handleTyrPlayerBreak",value:function(){game.actions.record("protein_broken")}},{key:"createStarProcedurally",value:function(t,e){for(var n=game.add.group(),i=0;i<6;i++){var r=this.spawnTyrosine();r.isFloating=!1;var o=i/6*(2*Math.PI),a=Math.sin(o),s=Math.cos(o);r.x=-a,r.y=-s,r.rotation=Math.atan2(s,a)-Math.PI/2,this.floatingTyrosineCount--,n.add(r)}var l={game:game,x:this.starFactoryGroup.worldPosition.x/this.tyrGroup.scale.x-this.tyrGroup.x/this.tyrGroup.scale.x,y:this.starFactoryGroup.worldPosition.y/this.tyrGroup.scale.y-this.tyrGroup.y/this.tyrGroup.scale.y,targetGroup:this.tyrGroup,existingGroup:n,rotation:0,melanosome:this.sizeMelanosome,visible:e};t===Number.POSITIVE_INFINITY?l.immortal=!0:l.initialLifetime=t;var A=new F.default(l);this.sizeMelanosome.numStars++,this.handleStarCreation(A,!1)}},{key:"handleStarCreation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.starMakeSfx&&!game.ftueData&&this.starMakeSfx.play(),this.tyrosineStars.push(t),t.onStarDestruction.add(this.handleStarDestruction,this),t.onPoke.add(this.handleStarPoke,this),this.updateStarPositions(),this.updateTyrVisibility(),this.colorIndicators&&this.colorIndicators.currentColorSwatch&&e&&this.colorIndicators.updateColors("size",this.sizeMelanosome.numStars/this.maxStars)}},{key:"handleStarPoke",value:function(){game.actions.record("disc_clicked"),this.starPokeSfx.volume=.4*game.rnd.frac()-.2+.5,this.starPokeSfx.pitch=1-.5*game.rnd.frac(),this.starPokeSfx.play()}},{key:"handleStarDestruction",value:function(t){t.wasPoked&&game.actions.record("disc_destroyed"),this.starBreakSfx&&this.starBreakSfx.play();var e=this.tyrosineStars.indexOf(t);e>-1&&(this.tyrosineStars.splice(e,1),this.updateStarPositions(),this.updateTyrVisibility()),this.colorIndicators&&this.colorIndicators.currentColorSwatch&&this.colorIndicators.updateColors("size",this.sizeMelanosome.numStars/this.maxStars)}},{key:"updateTyrVisibility",value:function(){var t=this.tyrosineStars.length;if(null===this.tyrs||0==this.tyrs.length)return 0;var e=2;game.ftueData?e=game.ftueData.tyrs:!(t>=13||1==this.forceAllTyrsActive)||"00111111"==game.cellModel.getGeneticShortcode()&&game.actions.stats.broken_protein_assembled<3?(e=t<2?2:4,1==this.doubleActiveTyrs&&(e*=2,e=Math.min(8,e))):e=8,1==e&&(this.tyrs[0].activate(),this.tyrs[1].deactivate(),this.tyrs[2].deactivate(),this.tyrs[3].deactivate(),this.tyrs[4].deactivate(),this.tyrs[5].deactivate(),this.tyrs[6].deactivate(),this.tyrs[7].deactivate()),2==e&&(this.tyrs[0].activate(),this.tyrs[4].activate(),this.tyrs[1].deactivate(),this.tyrs[2].deactivate(),this.tyrs[3].deactivate(),this.tyrs[5].deactivate(),this.tyrs[6].deactivate(),this.tyrs[7].deactivate()),4==e&&(this.tyrs[0].activate(),this.tyrs[2].activate(),this.tyrs[4].activate(),this.tyrs[6].activate(),this.tyrs[1].deactivate(),this.tyrs[3].deactivate(),this.tyrs[5].deactivate(),this.tyrs[7].deactivate()),e>=8&&(this.tyrs[0].activate(),this.tyrs[1].activate(),this.tyrs[2].activate(),this.tyrs[3].activate(),this.tyrs[4].activate(),this.tyrs[5].activate(),this.tyrs[6].activate(),this.tyrs[7].activate())}},{key:"spawnTyrsForever",value:function(){this.spawnTyr(-I.default.SAFE_ZONE_WIDTH/2),this.timer.add(1e3/this.size_tyr_count,this.spawnTyrsForever,this)}},{key:"updateTRPAlleles",value:function(){this.trp_allele_a=game.cellModel.getCurrentAllele("Chromosome1A","trp_flower_01"),this.trp_allele_b=game.cellModel.getCurrentAllele("Chromosome1B","trp_flower_01")}},{key:"spawnTrp",value:function(t,e,n){var i=this.maxTrp;if("00111111"==game.cellModel.getGeneticShortcode()&&game.actions.stats.broken_protein_assembled<3){var r=game.cellModel.getGeneticColorName(),o=game.cellModel.colorToState(r),a=this.sizeMelanosome.numStars-o.numStars;a>0&&(i-=a*a)}if(this.trpCt<i){this.trpCt++;var n=n||{x:1,y:0},s=Math.round(game.rnd.frac()),l=null;l=0===s?this.trp_allele_a:this.trp_allele_b;var A=this,c=new O.default({game:game,x:I.default.SAFE_ZONE_WIDTH/2+t,y:I.default.SAFE_ZONE_HEIGHT/2+e,direction:n,melanosome:this.sizeMelanosome,axleFlowerBmd:this.axleFlowerBmd,initialGroup:this.trpGroup,working:l.value,onConnect:function(t){A.handleTrpConnect(t)},onFalloff:function(){A.handleTrpFalloff()},onGrab:function(){A.handleTrpGrab()}});return this.trps.push(c),c}}},{key:"handleTrpConnect",value:function(t){this.trpCt--,this.trpAttachSfx.play(),t&&t.isBeingDragged&&(t.isWorking?game.actions.record("working_protein_assembled"):game.actions.record("broken_protein_assembled"))}},{key:"handleTrpFalloff",value:function(){this.trpFalloffSfx.play()}},{key:"handleTrpGrab",value:function(){game.actions.record("barbell_grabbed")}},{key:"spawnTrpsForever",value:function(){this.spawnRandomTrp(),this.timer.add(1e3/this.trpSpawnedPerSecond/game.globalTimeScale,this.spawnTrpsForever,this)}},{key:"spawnRandomTrp",value:function(t){var e=I.default.SAFE_ZONE_WIDTH,n=I.default.SAFE_ZONE_HEIGHT;switch(void 0!==t&&(e=n=t),game.rnd.integerInRange(0,3)){case 0:this.spawnTrp(-e/2,game.rnd.frac()*n-n/2,{x:1,y:0});break;case 1:this.spawnTrp(game.rnd.frac()*e-e/2,-n/2,{x:0,y:1});break;case 2:this.spawnTrp(e/2,game.rnd.frac()*n-n/2,{x:-1,y:0});break;case 3:this.spawnTrp(game.rnd.frac()*e-e/2,n/2,{x:0,y:-1})}}},{key:"spawnTyrosine",value:function(t,e,n,i){var r=game.rnd.frac()*Math.PI*2,o=n?.1:.5,a=t||Math.sin(r)*this.sizeMelanosome.getSize()*o*(1+game.rnd.frac()),s=e||Math.cos(r)*this.sizeMelanosome.getSize()*o*(1+game.rnd.frac()),l=new P.default({game:game,x:I.default.SAFE_ZONE_WIDTH/2+a,y:I.default.SAFE_ZONE_HEIGHT/2+s,base_x:I.default.SAFE_ZONE_WIDTH/2,base_y:I.default.SAFE_ZONE_HEIGHT/2,asset:"tyrosine",melanosome:this.sizeMelanosome,immortal:i});return n&&(l.isInside=!0),this.floatingTyrosineCount++,this.tyrosines.push(l),this.tyrosineGroup.add(l),l}},{key:"SpawnTyrosineForever",value:function(){this.floatingTyrosineCount<this.maxFloatingTyrosineCount&&this.spawnTyrosine(),this.timer.add(1e3/this.tyrosineSpawnedPerSecond/game.globalTimeScale,this.SpawnTyrosineForever,this)}},{key:"updateStarPositions",value:function(){for(var t=this.tyrosineStars.length,e=Math.round(0*Math.sqrt(t)),n=Math.PI*Math.PI,i=this.sizeMelanosome.width/2*.8,r=0;r<t;r++){var o=this.tyrosineStars[r],a=0;a=r>t-e?1:Math.sqrt(r-.5)/Math.sqrt(t-(e+1)/2)||0;var s=2*Math.PI*r/n,l=a*Math.cos(s)*i,A=a*Math.sin(s)*i;o.targetPos.x=this.sizeMelanosome.x+l,o.targetPos.y=this.sizeMelanosome.y+A}}},{key:"jumpToLocation",value:function(){this.sizeMelanosome.jumpToSize(),this.updateStarPositions();for(var t=0;t<this.tyrosineStars.length;t++)this.tyrosineStars[t].jumpToLocation();this.updateStarPositions(),this.updateTyrVisibility()}},{key:"sunflowerRadius",value:function(t,e,n){return t>e-n?1:Math.sqrt(t-.5)/Math.sqrt(e-(n+1)/2)}},{key:"checkForTyrOverlap",value:function(){for(var t=0;t<this.tyrs.length;t++){var e=this.tyrs[t];if(!0!==e.isProcessing&&!0!==e.isSeparate&&!0===e.isActive)for(var n=0;n<this.tyrosines.length;n++){var i=this.tyrosines[n];i.isFloating&&!0!==e.isProcessing&&null==e.currentTyrosine&&!0!==e.isSeparate&&!0!==e.isConnecting&&(!0===i.isInside?this.game.physics.arcade.overlap(e.alphaBlob,i,function(t,n){e.innerGrab(n),n.wasPushed&&game.actions.record("tri_pushed_into_small_gear")},null,this):this.game.physics.arcade.overlap(e.betaBlob,i,function(t,n){this.floatingTyrosineCount--,e.grab(n)},null,this))}for(var r=0;r<this.trps.length;r++){var o=this.trps[r];!o.isBeingDragged&&game.ftueData&&"working_protein_assembled"===game.ftueData.action||o.isFloating&&null==e.connecting_trp&&!0===e.isActive&&!0!==e.isConnecting&&(this.game.physics.arcade.overlap(e.alphaBlob,o.fakeHitZone,function(t,n){o.connectToTyr(e)},null,this),this.game.physics.arcade.overlap(e.betaBlob,o.fakeHitZone,function(t,n){o.connectToTyr(e)},null,this))}}if(game.input.activePointer.isDown){this.expandingCircles.isActive=!0;for(var n=0;n<this.tyrosines.length;n++){var i=this.tyrosines[n];i.isFloating&&this.game.physics.arcade.overlap(this.mouseCursorHitArea,i,function(t,e){var n=game.input.x-e.world.x,i=game.input.y-e.world.y;e.body.velocity.x+=-n*(.75+.5*game.rnd.frac()),e.body.velocity.y+=-i*(.75+.5*game.rnd.frac());var r=Math.atan2(e.body.velocity.y,e.body.velocity.x)-Math.PI/2;e.rotateTo(r),e.push()})}}else this.expandingCircles.isActive=!1}},{key:"generateTextures",value:function(){for(var t=game.add.bitmapData(64,64),e=t.width/2,n=0;n<1;n+=.2){var i=n*Math.PI*2,r=e+Math.sin(i)*(.2*e),o=e+Math.cos(i)*(.2*e);t.circle(r,o,5,"rgba(0,0,0, 1)")}this.axleFlowerBmd=t}},{key:"handleWin",value:function(t){if(!0!==this.hasWon){t?this.ftue.slideOut({y:1400}):(this.hasWon=!0,game.input.enabled=!1),this.winSfx.play(),game.tweens.removeFrom(this.topCover);for(var e=0;e<this.pulses.length;e++){var n=this.pulses[e];n.alpha=.5,game.add.tween(n).to({width:4e3,height:4e3,alpha:0},1e3*(e+1),A.default.Easing.Cubic.Out).start()}game.inPreScene?game.handlePreSceneComplete():(game.hideHud(!0),game.time.events.add(3500,function(){var e=game.add.tween(this.topCover).to({alpha:1},1e3).start();if(t)return void e.onComplete.add(function(){game.loadNextStep()});this.postWin()},this))}}},{key:"postWin",value:function(){this.phone.post("activityWin",{activity:"size",cellModel:game.cellModel.toJSON(),resultingGeneticColor:game.cellModel.getGeneticColorName(),geneticShortcode:game.cellModel.getGeneticShortcode(),actionStats:game.actions.stats,ftue:this.game.ftueData})}},{key:"pauseEverything",value:function(){}},{key:"handleExit",value:function(){!0!==this.isExiting&&(game.input.enabled=!1,this.isExiting=!0,game.tweens.removeFrom(this.topCover),game.add.tween(this.topCover).to({alpha:1},1e3).start(),game.hideHud(),game.time.events.add(1501,function(){game.paused=!0,this.phone.post("activityExit",{activity:"size",cellModel:game.cellModel.toJSON(),resultingGeneticColor:game.cellModel.getGeneticColorName(),geneticShortcode:game.cellModel.getGeneticShortcode()})},this))}},{key:"guardChange",value:function(){}},{key:"render",value:function(){}},{key:"resize",value:function(){var t=Math.round(1e4*Math.min(this.game.width/I.default.SAFE_ZONE_WIDTH,this.game.height/I.default.SAFE_ZONE_HEIGHT))/1e4;this.world.scale.setTo(t,t),this.sizeMelanosomeGroup.scale.setTo(t,t),this.tyrGroup.scale.setTo(t,t),this.tyrosineGroup.scale.setTo(t,t),this.trpGroup.scale.setTo(t,t),this.backgroundGroup.scale.setTo(t,t),this.backgroundBlobsGroup.scale.setTo(t,t),this.hudGroup.scale.setTo(t,t),this.hudGroup.x=this.backgroundBlobsGroup.x=this.backgroundGroup.x=this.trpGroup.x=this.tyrosineGroup.x=this.tyrGroup.x=this.sizeMelanosomeGroup.x=this.world.x=(this.game.width-I.default.SAFE_ZONE_WIDTH*t)/2,this.hudGroup.y=this.backgroundBlobsGroup.y=this.backgroundGroup.y=this.trpGroup.y=this.tyrosineGroup.y=this.tyrGroup.y=this.sizeMelanosomeGroup.y=this.world.y=(this.game.height-I.default.SAFE_ZONE_HEIGHT*t)/2;for(var e=0;e<this.tyrosineStars.length;e++)this.tyrosineStars[e].resize()}},{key:"handleReturnFromNucleus",value:function(){var t=game.cellModel.getGeneticColorName(),e=game.cellModel.colorToState(t),n=game.cellModel.target_state;e.numStars==n.numStars&&this.successfulNucleusReturn()}},{key:"successfulNucleusReturn",value:function(){game.hideHud(),this.winSfx.play();var t=game.cellModel.getGene("Chromosome1A","trp_flower_01"),e=game.cellModel.getGene("Chromosome1B","trp_flower_01");if(t.isRelevant||e.isRelevant){this.maxTrp=50;for(var n=0;n<20;n++){var i=this.spawnTrp(-512-1024*game.rnd.frac(),1024*game.rnd.frac()-512);i&&(i.fakeHitZone.body.velocity.x+=250+500*game.rnd.frac())}game.globalTimeScale=1.25}var r=game.cellModel.getGene("Chromosome1A","tyr_mouth"),o=game.cellModel.getGene("Chromosome1B","tyr_mouth");if(r.isRelevant||o.isRelevant){this.maxTrp*=2,game.globalTimeScale=1.5,this.doubleActiveTyrs=!0;for(var a=0;a<this.tyrs.length;a++){this.tyrs[a].deactivate()}game.time.events.add(750,function(){this.updateTyrVisibility();for(var t=0;t<this.tyrs.length;t++){this.tyrs[t].isActive&&this.spawnTrp(0,0)}},this)}}},{key:"highlightChromoscope",value:function(t){this.colorIndicators.setHighlight(t)}},{key:"highlightDrake",value:function(t){game.hudView.setHighlight("#nucleus-inner .target",t)}},{key:"highlightBuild",value:function(t){game.hudView.setHighlight("#nucleus-inner .compile",t)}},{key:"gotoGateActivity",value:function(){this.gotoState("GateActivity")}},{key:"gotoMotorActivity",value:function(){this.gotoState("MotorActivity")}},{key:"gotoState",value:function(t){this.state.start(t,!0,!1)}}]),e}(A.default.State));e.default=D},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(5),A=i(l),c=n(36),u=(i(c),n(117)),T=(i(u),n(119)),C=i(T),h=n(118),G=i(h),f=n(110),d=(i(f),n(109)),p=(i(d),n(29)),m=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"init",value:function(){}},{key:"preload",value:function(){this.loaderBg=this.add.sprite(this.game.world.centerX,this.game.world.centerY,"loaderBg"),this.loaderBar=this.add.sprite(this.game.world.centerX,this.game.world.centerY,"loaderBar"),(0,p.centerGameObjects)([this.loaderBg,this.loaderBar]),this.load.setPreloadSprite(this.loaderBar),this.load.image("circle","assets/images/circle.png"),this.load.image("square","assets/images/square.png"),this.load.image("circle_outline","assets/images/circle_outline.png"),this.load.image("dotted_circle","assets/images/dotted_circle.png"),this.load.image("dashed_circle","assets/images/dashed_circle.png"),this.load.image("hexagon","assets/images/common/hexagon.png"),this.load.image("color_sparkles","assets/images/common/color_sparkles.png"),this.load.image("mouse_trail","assets/images/mouse_trail.png"),this.load.image("white_radial_gradient","assets/images/white_radial_gradient.png"),this.load.image("small_white_blur","assets/images/small_white_blur.png"),this.load.image("medium_white_blur","assets/images/medium_white_blur.png"),this.load.image("large_white_blur","assets/images/large_white_blur.png"),this.load.image("blobs","assets/images/blobs256.png"),this.load.image("white_drake","assets/images/white_drake.png"),this.load.image("red_drake","assets/images/red_drake.png"),this.load.image("shine_drake","assets/images/shine_drake.png"),this.load.image("chromoscope_circle01","assets/images/chromoscope/chromoscope_circle01.png"),this.load.image("chromoscope_circle02","assets/images/chromoscope/chromoscope_circle02.png"),this.load.image("chromoscope_arrow_down","assets/images/chromoscope/arrow_down.png"),this.load.image("chromoscope_charcoal","assets/images/chromoscope/chromoscope_charcoal.png"),this.load.image("chromoscope_steel","assets/images/chromoscope/chromoscope_steel.png"),this.load.image("chromoscope_ash","assets/images/chromoscope/chromoscope_ash.png"),this.load.image("chromoscope_silver","assets/images/chromoscope/chromoscope_silver.png"),this.load.image("chromoscope_lava","assets/images/chromoscope/chromoscope_lava.png"),this.load.image("chromoscope_copper","assets/images/chromoscope/chromoscope_copper.png"),this.load.image("chromoscope_sand","assets/images/chromoscope/chromoscope_sand.png"),this.load.image("chromoscope_gold","assets/images/chromoscope/chromoscope_gold.png"),this.load.image("chromoscope_frost","assets/images/chromoscope/chromoscope_frost.png"),this.load.image("sizeMelanosome","assets/images/size_melanosome.png"),this.load.image("sizeMelanosomeOutline","assets/images/size_melanosome_outline.png"),this.load.image("size_goal","assets/images/size_goal.png"),this.load.image("tyrosine","assets/images/tyrosine.png"),this.load.image("tyr","assets/images/tyr.png"),this.load.image("disc","assets/images/disc.png"),this.load.image("trp_01","assets/images/trp_01.png"),this.load.image("trp_02","assets/images/trp_02.png"),this.load.image("trp_bar","assets/images/trp_bar.png"),this.load.image("trp_flower","assets/images/trp_flower.png"),this.load.image("tyrosine_crazy","assets/images/tyrosine_crazy_christina.png"),this.load.image("whiteMelanosome","assets/images/white_melanosome.png"),this.load.image("ftue_container","assets/images/ftue/action_container.png"),this.load.image("ftue_step_container","assets/images/ftue/step_container.png"),this.load.image("ftue_step_selection","assets/images/ftue/step_selection.png"),this.load.image("ftue_check_container","assets/images/ftue/check_container.png"),this.load.image("ftue_check","assets/images/ftue/check.png"),this.load.image("ftue_check_active","assets/images/ftue/check_active.png"),this.load.image("ftue_working_protein_assembled","assets/images/ftue/working_protein_assembled.png"),this.load.image("ftue_disc_destroyed","assets/images/ftue/disc_destroyed.png"),this.load.image("ftue_protein_broken","assets/images/ftue/protein_broken.png"),this.load.image("ftue_tri_pushed_into_small_gear","assets/images/ftue/tri_pushed_into_small_gear.png"),this.load.image("motor_melanosome","assets/images/motor_melanosome.png"),this.load.image("propeller_foot","assets/images/propeller_foot.png"),this.load.image("myocin","assets/images/myocin.png"),this.load.image("grabber","assets/images/grabber.png"),this.load.image("gears","assets/images/gears.png"),this.load.image("gate_half","assets/images/gate_half.png"),this.load.image("tunnel","assets/images/tunnel.png"),this.load.image("gate_stopper_wing","assets/images/gate_stopper_wing_pink.png"),this.load.image("gate_stopper_body_working","assets/images/gate_stopper_body_working.png"),this.load.image("gate_stopper_body_broken","assets/images/gate_stopper_body_broken.png"),this.load.image("gate_stopper_tail","assets/images/gate_stopper_tail.png"),this.load.image("gate_melanosome","assets/images/melanocyte.png"),this.load.image("dark_melanosome","assets/images/dark_melanosome.png"),this.load.image("meter_outline","assets/images/meter_outline.png"),this.load.image("meter_fill","assets/images/meter_fill.png"),this.load.image("meter_indicator","assets/images/meter_indicator.png"),this.load.image("sparkle","assets/images/sparkle_star.png"),this.game.load.audio("pop",["assets/audio/sfx/244654__greenvwbeetle__pop-2.mp3","assets/audio/sfx/244654__greenvwbeetle__pop-2.ogg"]),this.game.load.audio("squirt",["assets/audio/sfx/167073__drminky__squelchy-squirt.mp3","assets/audio/sfx/167073__drminky__squelchy-squirt.ogg"]),this.game.load.audio("squitch",["assets/audio/sfx/233343__otisjames__squitch.mp3","assets/audio/sfx/233343__otisjames__squitch.ogg"]),this.game.load.audio("click_hit",["assets/audio/sfx/click_generic.mp3","assets/audio/sfx/click_generic.ogg"]),this.game.load.audio("dumbbell_attach",["assets/audio/sfx/dumbbell_attach.mp3","assets/audio/sfx/dumbbell_attach.ogg"]),this.game.load.audio("dumbbell_break",["assets/audio/sfx/dumbbell_break.mp3","assets/audio/sfx/dumbbell_break.ogg"]),this.game.load.audio("gate_close",["assets/audio/sfx/gate_close.mp3","assets/audio/sfx/gate_close.ogg"]),this.game.load.audio("pleasing_ding",["assets/audio/sfx/star_form.mp3","assets/audio/sfx/star_form.ogg"]),this.game.load.audio("popout",["assets/audio/sfx/blocker_popout.mp3","assets/audio/sfx/blocker_popout.ogg"]),this.game.load.audio("rip",["assets/audio/sfx/star_break.mp3","assets/audio/sfx/star_break.ogg"]),this.game.load.audio("blocker_insert",["assets/audio/sfx/blocker_insert.mp3","assets/audio/sfx/blocker_insert.ogg"]),this.game.load.audio("forcefield",["assets/audio/sfx/forcefield.mp3","assets/audio/sfx/forcefield.ogg"]),this.game.load.audio("compile",["assets/audio/sfx/compile.mp3","assets/audio/sfx/compile.ogg"]),this.game.load.audio("win",["assets/audio/sfx/win_state.mp3"]),this.load.json("cell_data","assets/data/chromosome_data.json"),this.load.json("all_working_data","assets/data/all_working.json"),this.load.json("tutorials","assets/data/tutorials.json")}},{key:"create",value:function(){this.loaderBar.alpha=0,this.loaderBg.alpha=0,this.game.physics.startSystem(A.default.Physics.ARCADE),this.game.nucleusView=new C.default({el:"#nucleus",model:this.game.cellModel,game:this.game}),this.game.hudView=new G.default({el:"#hud",model:this.game.cellModel,game:this.game}),this.game.showStats&&this.game.hudView.showStats();var t=game.initialState;switch(game.phone.post("activityLoaded",{hasTutorial:null!=this.game.tutorialData}),t){case"size":this.game.state.start("SizeActivity");break;case"motor":this.game.state.start("MotorActivity");break;case"gate":this.game.state.start("GateActivity");break;case"nucleus":this.game.nucleusOnly=!0,this.game.hudView.showNucleus(),this.game.hideHud();break;default:this.game.state.start("SizeActivity")}game.stage.disableVisibilityChange=!0}}]),e}(A.default.State);e.default=m},function(t,e,n){"use strict";Phaser.Filter.FilmGrain=function(t){Phaser.Filter.call(this,t),this.uniforms.lumAmount={type:"1f",value:1},this.uniforms.grainSize={type:"1f",value:.1},this.uniforms.grainAmount={type:"1f",value:.05},this.uniforms.colorAmount={type:"1f",value:0},this.fragmentSrc=["precision mediump float;","uniform float time;","uniform sampler2D uSampler;","uniform vec2 resolution;","uniform float colorAmount;","uniform float grainAmount;","uniform float grainSize;","uniform float lumAmount;","varying vec2 vTextureCoord;","const float permTexUnit = 1.0/256.0;","const float permTexUnitHalf = 0.5/256.0;","float modTime = time - floor(time * (1.0 / 120.0)) * 120.0;","float width = resolution.x;","float height = resolution.y;","bool colored = colorAmount > 0.0;","float grainsize = 1.5 + grainSize;","vec4 rnm(in vec2 tc) {","float noise = sin(dot(tc + vec2(modTime,modTime),vec2(12.9898,78.233))) * 43758.5453;","float noiseR = fract(noise)*2.0-1.0;","float noiseG = fract(noise*1.2154)*2.0-1.0;","float noiseB = fract(noise*1.3453)*2.0-1.0;","float noiseA = fract(noise*1.3647)*2.0-1.0;","return vec4(noiseR,noiseG,noiseB,noiseA);","}","float fade(in float t) {","return t*t*t*(t*(t*6.0-15.0)+10.0);","}","float pnoise3D(in vec3 p) {","vec3 pi = permTexUnit*floor(p)+permTexUnitHalf;","vec3 pf = fract(p);","float perm00 = rnm(pi.xy).a;","vec3  grad000 = rnm(vec2(perm00, pi.z)).rgb * 4.0 - 1.0;","float n000 = dot(grad000, pf);","vec3  grad001 = rnm(vec2(perm00, pi.z + permTexUnit)).rgb * 4.0 - 1.0;","float n001 = dot(grad001, pf - vec3(0.0, 0.0, 1.0));","float perm01 = rnm(pi.xy + vec2(0.0, permTexUnit)).a ;","vec3  grad010 = rnm(vec2(perm01, pi.z)).rgb * 4.0 - 1.0;","float n010 = dot(grad010, pf - vec3(0.0, 1.0, 0.0));","vec3  grad011 = rnm(vec2(perm01, pi.z + permTexUnit)).rgb * 4.0 - 1.0;","float n011 = dot(grad011, pf - vec3(0.0, 1.0, 1.0));","float perm10 = rnm(pi.xy + vec2(permTexUnit, 0.0)).a ;","vec3  grad100 = rnm(vec2(perm10, pi.z)).rgb * 4.0 - 1.0;","float n100 = dot(grad100, pf - vec3(1.0, 0.0, 0.0));","vec3  grad101 = rnm(vec2(perm10, pi.z + permTexUnit)).rgb * 4.0 - 1.0;","float n101 = dot(grad101, pf - vec3(1.0, 0.0, 1.0));","float perm11 = rnm(pi.xy + vec2(permTexUnit, permTexUnit)).a ;","vec3  grad110 = rnm(vec2(perm11, pi.z)).rgb * 4.0 - 1.0;","float n110 = dot(grad110, pf - vec3(1.0, 1.0, 0.0));","vec3  grad111 = rnm(vec2(perm11, pi.z + permTexUnit)).rgb * 4.0 - 1.0;","float n111 = dot(grad111, pf - vec3(1.0, 1.0, 1.0));","vec4 n_x = mix(vec4(n000, n001, n010, n011), vec4(n100, n101, n110, n111), fade(pf.x));","vec2 n_xy = mix(n_x.xy, n_x.zw, fade(pf.y));","float n_xyz = mix(n_xy.x, n_xy.y, fade(pf.z));","return n_xyz;","}","vec2 coordRot(in vec2 tc, in float angle) {","float aspect = width/height;","float rotX = ((tc.x*2.0-1.0)*aspect*cos(angle)) - ((tc.y*2.0-1.0)*sin(angle));","float rotY = ((tc.y*2.0-1.0)*cos(angle)) + ((tc.x*2.0-1.0)*aspect*sin(angle));","rotX = ((rotX/aspect)*0.5+0.5);","rotY = rotY*0.5+0.5;","return vec2(rotX,rotY);","}","float rand() {","return fract(cos(dot(vec2(modTime, modTime), vec2(12.9898, 4.1414))) * 43758.5453);","}","void main(void) {","vec2 rotCoordsR = coordRot(vTextureCoord, 0.05*rand() + 1.1087);","vec3 noise = vec3(pnoise3D(vec3(rotCoordsR*vec2(width/grainsize,height/grainsize),0.0)));","if (colored) {","vec2 rotCoordsG = coordRot(vTextureCoord, 0.06*rand() + 1.1087);","vec2 rotCoordsB = coordRot(vTextureCoord, 0.07*rand() + 1.1087);","noise.g = mix(noise.r,pnoise3D(vec3(rotCoordsG*vec2(width/grainsize,height/grainsize),1.0)),colorAmount);","noise.b = mix(noise.r,pnoise3D(vec3(rotCoordsB*vec2(width/grainsize,height/grainsize),2.0)),colorAmount);","}","vec4 color = texture2D(uSampler, vTextureCoord);","vec3 col = color.rgb;","vec3 lumcoeff = vec3(0.299,0.587,0.114);","float luminance = mix(0.0,dot(col, lumcoeff),lumAmount);","float lum = smoothstep(0.2,0.0,luminance);","lum += luminance;","noise = mix(noise,vec3(0.0),pow(lum,4.0));","col = col + noise*grainAmount;","gl_FragColor = vec4(col, color.a);","}"]},Phaser.Filter.FilmGrain.prototype=Object.create(Phaser.Filter.prototype),Phaser.Filter.FilmGrain.prototype.constructor=Phaser.Filter.FilmGrain,Phaser.Filter.FilmGrain.prototype.init=function(t,e){this.setResolution(t||this.game.width,e||this.game.height)},Object.defineProperty(Phaser.Filter.FilmGrain.prototype,"color",{get:function(){return this.uniforms.colorAmount.value},set:function(t){this.uniforms.colorAmount.value=Math.max(0,Math.min(t,1))}}),Object.defineProperty(Phaser.Filter.FilmGrain.prototype,"luminance",{get:function(){return this.uniforms.lumAmount.value},set:function(t){this.uniforms.lumAmount.value=t}}),Object.defineProperty(Phaser.Filter.FilmGrain.prototype,"size",{get:function(){return this.uniforms.grainSize.value},set:function(t){this.uniforms.grainSize.value=Math.max(0,Math.min(t,1))}}),Object.defineProperty(Phaser.Filter.FilmGrain.prototype,"amount",{get:function(){return this.uniforms.grainAmount.value},set:function(t){this.uniforms.grainAmount.value=Math.max(0,Math.min(t,1))}})},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e){var n=e.r;i(this,t),void 0==n&&(n=Math),this.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],this.p=[];for(var r=0;r<256;r++)this.p[r]=Math.floor(256*n.random());this.perm=[];for(var r=0;r<512;r++)this.perm[r]=this.p[255&r];this.simplex=[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]}return r(t,[{key:"dot",value:function(t,e,n){return t[0]*e+t[1]*n}},{key:"noise",value:function(t,e){var n,i,r,o,a,s=.5*(Math.sqrt(3)-1),l=(t+e)*s,A=Math.floor(t+l),c=Math.floor(e+l),u=(3-Math.sqrt(3))/6,T=(A+c)*u,C=A-T,h=c-T,G=t-C,f=e-h;G>f?(o=1,a=0):(o=0,a=1);var d=G-o+u,p=f-a+u,m=G-1+2*u,g=f-1+2*u,v=255&A,y=255&c,b=this.perm[v+this.perm[y]]%12,_=this.perm[v+o+this.perm[y+a]]%12,x=this.perm[v+1+this.perm[y+1]]%12,w=.5-G*G-f*f;w<0?n=0:(w*=w,n=w*w*this.dot(this.grad3[b],G,f));var S=.5-d*d-p*p;S<0?i=0:(S*=S,i=S*S*this.dot(this.grad3[_],d,p));var k=.5-m*m-g*g;return k<0?r=0:(k*=k,r=k*k*this.dot(this.grad3[x],m,g)),70*(n+i+r)}},{key:"noise3d",value:function(t,e,n){var i,r,o,a,s,l,A,c,u,T,C=(t+e+n)*(1/3),h=Math.floor(t+C),G=Math.floor(e+C),f=Math.floor(n+C),d=1/6,p=(h+G+f)*d,m=h-p,g=G-p,v=f-p,y=t-m,b=e-g,_=n-v;y>=b?b>=_?(s=1,l=0,A=0,c=1,u=1,T=0):y>=_?(s=1,l=0,A=0,c=1,u=0,T=1):(s=0,l=0,A=1,c=1,u=0,T=1):b<_?(s=0,l=0,A=1,c=0,u=1,T=1):y<_?(s=0,l=1,A=0,c=0,u=1,T=1):(s=0,l=1,A=0,c=1,u=1,T=0);var x=y-s+d,w=b-l+d,S=_-A+d,k=y-c+2*d,E=b-u+2*d,O=_-T+2*d,M=y-1+.5,P=b-1+.5,j=_-1+.5,F=255&h,B=255&G,N=255&f,I=this.perm[F+this.perm[B+this.perm[N]]]%12,D=this.perm[F+s+this.perm[B+l+this.perm[N+A]]]%12,H=this.perm[F+c+this.perm[B+u+this.perm[N+T]]]%12,R=this.perm[F+1+this.perm[B+1+this.perm[N+1]]]%12,L=.6-y*y-b*b-_*_;L<0?i=0:(L*=L,i=L*L*this.dot(this.grad3[I],y,b,_));var z=.6-x*x-w*w-S*S;z<0?r=0:(z*=z,r=z*z*this.dot(this.grad3[D],x,w,S));var W=.6-k*k-E*E-O*O;W<0?o=0:(W*=W,o=W*W*this.dot(this.grad3[H],k,E,O));var V=.6-M*M-P*P-j*j;return V<0?a=0:(V*=V,a=V*V*this.dot(this.grad3[R],M,P,j)),32*(i+r+o+a)}}]),t}();e.default=o},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(32),l=n(52),A=(function(t){t&&t.__esModule}(l),n(36)),c=n(389),u=function(t){function e(t){var n=t.model,o=t.game,a=t.state,s=t.closeCallback;i(this,e);var l=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{events:{"click .prev":"prevPage","click .next":"nextPage","click .finish":"finish","click .close":"close"},model:n}));return l.game=o,l.state=a,l.closeCallback=s,l.template=c,l.render(),l}return o(e,t),a(e,[{key:"initialize",value:function(){}},{key:"render",value:function(){var t=s._.template(this.template),e=t({pages:this.model});this.$el.addClass(this.className),this.$el.html(e),this.$allPages=this.$el.find(".page"),this.$currentPage=this.$allPages.first(),this.pageIndex=0,this.setAction(!0)}},{key:"prevPage",value:function(){this.setAction(!1),this.$currentPage.hide(),this.$currentPage=this.$currentPage.prev(),this.$currentPage.show(),--this.pageIndex,this.setAction(!0)}},{key:"nextPage",value:function(){this.setAction(!1),this.$currentPage.hide(),this.$currentPage=this.$currentPage.next(),this.$currentPage.show(),++this.pageIndex,this.setAction(!0)}},{key:"close",value:function(){this.setAction(!1),this.closeCallback(),this.game.input.enabled=!0}},{key:"finish",value:function(){this.$currentPage.hide(),this.$currentPage=this.$allPages.first(),this.close(),this.pageIndex=0,this.$currentPage.show()}},{key:"setAction",value:function(t){var e=this.model[this.pageIndex];if(e.action)switch(e.action){case"highlight_chromoscope":this.state.highlightChromoscope(t);break;case"highlight_drake":this.state.highlightDrake(t);break;case"highlight_build":this.state.highlightBuild(t)}}}]),e}(A.View);e.default=u},function(t,e,n){(function(e){!function(e){"use strict";function n(t,e,n,i){var o=e&&e.prototype instanceof r?e:r,a=Object.create(o.prototype),s=new C(i||[]);return a._invoke=A(t,n,s),a}function i(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function r(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function l(t){function n(e,r,o,a){var s=i(t[e],t,r);if("throw"!==s.type){var l=s.arg,A=l.value;return A&&"object"==typeof A&&p.call(A,"__await")?Promise.resolve(A.__await).then(function(t){n("next",t,o,a)},function(t){n("throw",t,o,a)}):Promise.resolve(A).then(function(t){l.value=t,o(l)},a)}a(s.arg)}function r(t,e){function i(){return new Promise(function(i,r){n(t,e,i,r)})}return o=o?o.then(i,i):i()}"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n));var o;this._invoke=r}function A(t,e,n){var r=x;return function(o,a){if(r===S)throw new Error("Generator is already running");if(r===k){if("throw"===o)throw a;return G()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=c(s,n);if(l){if(l===E)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===x)throw r=k,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=S;var A=i(t,e,n);if("normal"===A.type){if(r=n.done?k:w,A.arg===E)continue;return{value:A.arg,done:n.done}}"throw"===A.type&&(r=k,n.method="throw",n.arg=A.arg)}}}function c(t,e){var n=t.iterator[e.method];if(n===f){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=f,c(t,e),"throw"===e.method))return E;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var r=i(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,E;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=f),e.delegate=null,E):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,E)}function u(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(u,this),this.reset(!0)}function h(t){if(t){var e=t[g];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(p.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=f,e.done=!0,e};return i.next=i}}return{next:G}}function G(){return{value:f,done:!0}}var f,d=Object.prototype,p=d.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",v=m.asyncIterator||"@@asyncIterator",y=m.toStringTag||"@@toStringTag",b="object"==typeof t,_=e.regeneratorRuntime;if(_)return void(b&&(t.exports=_));_=e.regeneratorRuntime=b?t.exports:{},_.wrap=n;var x="suspendedStart",w="suspendedYield",S="executing",k="completed",E={},O={};O[g]=function(){return this};var M=Object.getPrototypeOf,P=M&&M(M(h([])));P&&P!==d&&p.call(P,g)&&(O=P);var j=a.prototype=r.prototype=Object.create(O);o.prototype=j.constructor=a,a.constructor=o,a[y]=o.displayName="GeneratorFunction",_.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},_.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,y in t||(t[y]="GeneratorFunction")),t.prototype=Object.create(j),t},_.awrap=function(t){return{__await:t}},s(l.prototype),l.prototype[v]=function(){return this},_.AsyncIterator=l,_.async=function(t,e,i,r){var o=new l(n(t,e,i,r));return _.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(j),j[y]="Generator",j[g]=function(){return this},j.toString=function(){return"[object Generator]"},_.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},_.values=h,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&p.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=f)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,i){return o.type="throw",o.arg=t,n.next=e,i&&(n.method="next",n.arg=f),!!i}if(this.done)throw t;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var a=p.call(r,"catchLoc"),s=p.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&p.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,E):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),E},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),E}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:h(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=f),E}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,n(47))},function(t,e,n){n(192),t.exports=n(21).RegExp.escape},function(t,e,n){var i=n(4),r=n(61),o=n(6)("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var i=n(3),r=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=i(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!i(function(){o.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),i=e<0?"-":e>9999?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(t,e,n){"use strict";var i=n(1),r=n(28);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),"number"!=t)}},function(t,e,n){var i=n(41),r=n(65),o=n(55);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var a,s=n(t),l=o.f,A=0;s.length>A;)l.call(t,a=s[A++])&&e.push(a);return e}},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var i=n(0),r=n(190)(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(t){return r(t)}})},function(t,e,n){var i=n(0);i(i.P,"Array",{copyWithin:n(121)}),n(33)("copyWithin")},function(t,e,n){"use strict";var i=n(0),r=n(24)(4);i(i.P+i.F*!n(23)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,e,n){var i=n(0);i(i.P,"Array",{fill:n(76)}),n(33)("fill")},function(t,e,n){"use strict";var i=n(0),r=n(24)(2);i(i.P+i.F*!n(23)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(24)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),i(i.P+i.F*a,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(33)(o)},function(t,e,n){"use strict";var i=n(0),r=n(24)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(33)("find")},function(t,e,n){"use strict";var i=n(0),r=n(24)(0),o=n(23)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(22),r=n(0),o=n(10),a=n(132),s=n(84),l=n(9),A=n(78),c=n(100);r(r.S+r.F*!n(63)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,u,T=o(t),C="function"==typeof this?this:Array,h=arguments.length,G=h>1?arguments[1]:void 0,f=void 0!==G,d=0,p=c(T);if(f&&(G=i(G,h>2?arguments[2]:void 0,2)),void 0==p||C==Array&&s(p))for(e=l(T.length),n=new C(e);e>d;d++)A(n,d,f?G(T[d],d):T[d]);else for(u=p.call(T),n=new C;!(r=u.next()).done;d++)A(n,d,f?a(u,G,[r.value,d],!0):r.value);return n.length=d,n}})},function(t,e,n){"use strict";var i=n(0),r=n(57)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(a||!n(23)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,n){var i=n(0);i(i.S,"Array",{isArray:n(61)})},function(t,e,n){"use strict";var i=n(0),r=n(18),o=[].join;i(i.P+i.F*(n(54)!=Object||!n(23)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var i=n(0),r=n(18),o=n(27),a=n(9),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(l||!n(23)(s)),"Array",{lastIndexOf:function(t){if(l)return s.apply(this,arguments)||0;var e=r(this),n=a(e.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in e&&e[i]===t)return i||0;return-1}})},function(t,e,n){"use strict";var i=n(0),r=n(24)(1);i(i.P+i.F*!n(23)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(78);i(i.S+i.F*n(3)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)r(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var i=n(0),r=n(123);i(i.P+i.F*!n(23)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var i=n(0),r=n(123);i(i.P+i.F*!n(23)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var i=n(0),r=n(82),o=n(20),a=n(45),s=n(9),l=[].slice;i(i.P+i.F*n(3)(function(){r&&l.call(r)}),"Array",{slice:function(t,e){var n=s(this.length),i=o(this);if(e=void 0===e?n:e,"Array"==i)return l.call(this,t,e);for(var r=a(t,n),A=a(e,n),c=s(A-r),u=new Array(c),T=0;T<c;T++)u[T]="String"==i?this.charAt(r+T):this[r+T];return u}})},function(t,e,n){"use strict";var i=n(0),r=n(24)(3);i(i.P+i.F*!n(23)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(11),o=n(10),a=n(3),s=[].sort,l=[1,2,3];i(i.P+i.F*(a(function(){l.sort(void 0)})||!a(function(){l.sort(null)})||!n(23)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),r(t))}})},function(t,e,n){n(44)("Array")},function(t,e,n){var i=n(0);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){var i=n(0),r=n(187);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(t,e,n){"use strict";var i=n(0),r=n(10),o=n(28);i(i.P+i.F*n(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=r(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var i=n(6)("toPrimitive"),r=Date.prototype;i in r||n(12)(r,i,n(188))},function(t,e,n){var i=Date.prototype,r=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&n(13)(i,"toString",function(){var t=o.call(this);return t===t?r.call(this):"Invalid Date"})},function(t,e,n){var i=n(0);i(i.P,"Function",{bind:n(124)})},function(t,e,n){"use strict";var i=n(4),r=n(17),o=n(6)("hasInstance"),a=Function.prototype;o in a||n(8).f(a,o,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var i=n(8).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||n(7)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){var i=n(0),r=n(135),o=Math.sqrt,a=Math.acosh;i(i.S+i.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},function(t,e,n){function i(t){return isFinite(t=+t)&&0!=t?t<0?-i(-t):Math.log(t+Math.sqrt(t*t+1)):t}var r=n(0),o=Math.asinh;r(r.S+r.F*!(o&&1/o(0)>0),"Math",{asinh:i})},function(t,e,n){var i=n(0),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var i=n(0),r=n(88);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var i=n(0),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,e,n){var i=n(0),r=n(87);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,e,n){var i=n(0);i(i.S,"Math",{fround:n(134)})},function(t,e,n){var i=n(0),r=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var n,i,o=0,a=0,s=arguments.length,l=0;a<s;)n=r(arguments[a++]),l<n?(i=l/n,o=o*i*i+1,l=n):n>0?(i=n/l,o+=i*i):o+=n;return l===1/0?1/0:l*Math.sqrt(o)}})},function(t,e,n){var i=n(0),r=Math.imul;i(i.S+i.F*n(3)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i;return 0|r*o+((65535&n>>>16)*o+r*(65535&i>>>16)<<16>>>0)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var i=n(0);i(i.S,"Math",{log1p:n(135)})},function(t,e,n){var i=n(0);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var i=n(0);i(i.S,"Math",{sign:n(88)})},function(t,e,n){var i=n(0),r=n(87),o=Math.exp;i(i.S+i.F*n(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var i=n(0),r=n(87),o=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var i=n(0);i(i.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){"use strict";var i=n(2),r=n(15),o=n(20),a=n(83),s=n(28),l=n(3),A=n(40).f,c=n(16).f,u=n(8).f,T=n(50).trim,C=i.Number,h=C,G=C.prototype,f="Number"==o(n(39)(G)),d="trim"in String.prototype,p=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=d?e.trim():T(e,3);var n,i,r,o=e.charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var a,l=e.slice(2),A=0,c=l.length;A<c;A++)if((a=l.charCodeAt(A))<48||a>r)return NaN;return parseInt(l,i)}}return+e};if(!C(" 0o1")||!C("0b1")||C("+0x1")){C=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof C&&(f?l(function(){G.valueOf.call(n)}):"Number"!=o(n))?a(new h(p(e)),n,C):p(e)};for(var m,g=n(7)?A(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),v=0;g.length>v;v++)r(h,m=g[v])&&!r(C,m)&&u(C,m,c(h,m));C.prototype=G,G.constructor=C,n(13)(i,"Number",C)}},function(t,e,n){var i=n(0);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var i=n(0),r=n(2).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,n){var i=n(0);i(i.S,"Number",{isInteger:n(131)})},function(t,e,n){var i=n(0);i(i.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var i=n(0),r=n(131),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},function(t,e,n){var i=n(0);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var i=n(0);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var i=n(0),r=n(143);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,e,n){var i=n(0),r=n(144);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,e,n){"use strict";var i=n(0),r=n(27),o=n(120),a=n(95),s=1..toFixed,l=Math.floor,A=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",u=function(t,e){for(var n=-1,i=e;++n<6;)i+=t*A[n],A[n]=i%1e7,i=l(i/1e7)},T=function(t){for(var e=6,n=0;--e>=0;)n+=A[e],A[e]=l(n/t),n=n%t*1e7},C=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==A[t]){var n=String(A[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e},h=function(t,e,n){return 0===e?n:e%2==1?h(t,e-1,n*t):h(t*t,e/2,n)},G=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e};i(i.P+i.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(3)(function(){s.call({})})),"Number",{toFixed:function(t){var e,n,i,s,l=o(this,c),A=r(t),f="",d="0";if(A<0||A>20)throw RangeError(c);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(f="-",l=-l),l>1e-21)if(e=G(l*h(2,69,1))-69,n=e<0?l*h(2,-e,1):l/h(2,e,1),n*=4503599627370496,(e=52-e)>0){for(u(0,n),i=A;i>=7;)u(1e7,0),i-=7;for(u(h(10,i,1),0),i=e-1;i>=23;)T(1<<23),i-=23;T(1<<i),u(1,1),T(2),d=C()}else u(0,n),u(1<<-e,0),d=C()+a.call("0",A);return A>0?(s=d.length,d=f+(s<=A?"0."+a.call("0",A-s)+d:d.slice(0,s-A)+"."+d.slice(s-A))):d=f+d,d}})},function(t,e,n){"use strict";var i=n(0),r=n(3),o=n(120),a=1..toPrecision;i(i.P+i.F*(r(function(){return"1"!==a.call(1,void 0)})||!r(function(){a.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){var i=n(0);i(i.S+i.F,"Object",{assign:n(137)})},function(t,e,n){var i=n(0);i(i.S,"Object",{create:n(39)})},function(t,e,n){var i=n(0);i(i.S+i.F*!n(7),"Object",{defineProperties:n(138)})},function(t,e,n){var i=n(0);i(i.S+i.F*!n(7),"Object",{defineProperty:n(8).f})},function(t,e,n){var i=n(4),r=n(35).onFreeze;n(26)("freeze",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(18),r=n(16).f;n(26)("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},function(t,e,n){n(26)("getOwnPropertyNames",function(){return n(139).f})},function(t,e,n){var i=n(10),r=n(17);n(26)("getPrototypeOf",function(){return function(t){return r(i(t))}})},function(t,e,n){var i=n(4);n(26)("isExtensible",function(t){return function(e){return!!i(e)&&(!t||t(e))}})},function(t,e,n){var i=n(4);n(26)("isFrozen",function(t){return function(e){return!i(e)||!!t&&t(e)}})},function(t,e,n){var i=n(4);n(26)("isSealed",function(t){return function(e){return!i(e)||!!t&&t(e)}})},function(t,e,n){var i=n(0);i(i.S,"Object",{is:n(191)})},function(t,e,n){var i=n(10),r=n(41);n(26)("keys",function(){return function(t){return r(i(t))}})},function(t,e,n){var i=n(4),r=n(35).onFreeze;n(26)("preventExtensions",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(4),r=n(35).onFreeze;n(26)("seal",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(0);i(i.S,"Object",{setPrototypeOf:n(91).set})},function(t,e,n){"use strict";var i=n(53),r={};r[n(6)("toStringTag")]="z",r+""!="[object z]"&&n(13)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(t,e,n){var i=n(0),r=n(143);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},function(t,e,n){var i=n(0),r=n(144);i(i.G+i.F*(parseInt!=r),{parseInt:r})},function(t,e,n){"use strict";var i,r,o,a,s=n(34),l=n(2),A=n(22),c=n(53),u=n(0),T=n(4),C=n(11),h=n(37),G=n(38),f=n(69),d=n(97).set,p=n(89)(),m=n(90),g=n(145),v=n(71),y=n(146),b=l.TypeError,_=l.process,x=_&&_.versions,w=x&&x.v8||"",S=l.Promise,k="process"==c(_),E=function(){},O=r=m.f,M=!!function(){try{var t=S.resolve(1),e=(t.constructor={})[n(6)("species")]=function(t){t(E,E)};return(k||"function"==typeof PromiseRejectionEvent)&&t.then(E)instanceof e&&0!==w.indexOf("6.6")&&-1===v.indexOf("Chrome/66")}catch(t){}}(),P=function(t){var e;return!(!T(t)||"function"!=typeof(e=t.then))&&e},j=function(t,e){if(!t._n){t._n=!0;var n=t._c;p(function(){for(var i=t._v,r=1==t._s,o=0;n.length>o;)!function(e){var n,o,a,s=r?e.ok:e.fail,l=e.resolve,A=e.reject,c=e.domain;try{s?(r||(2==t._h&&N(t),t._h=1),!0===s?n=i:(c&&c.enter(),n=s(i),c&&(c.exit(),a=!0)),n===e.promise?A(b("Promise-chain cycle")):(o=P(n))?o.call(n,l,A):l(n)):A(i)}catch(t){c&&!a&&c.exit(),A(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&F(t)})}},F=function(t){d.call(l,function(){var e,n,i,r=t._v,o=B(t);if(o&&(e=g(function(){k?_.emit("unhandledRejection",r,t):(n=l.onunhandledrejection)?n({promise:t,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=k||B(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},B=function(t){return 1!==t._h&&0===(t._a||t._c).length},N=function(t){d.call(l,function(){var e;k?_.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},I=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),j(e,!0))},D=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw b("Promise can't be resolved itself");(e=P(t))?p(function(){var i={_w:n,_d:!1};try{e.call(t,A(D,i,1),A(I,i,1))}catch(t){I.call(i,t)}}):(n._v=t,n._s=1,j(n,!1))}catch(t){I.call({_w:n,_d:!1},t)}}};M||(S=function(t){h(this,S,"Promise","_h"),C(t),i.call(this);try{t(A(D,this,1),A(I,this,1))}catch(t){I.call(this,t)}},i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n(43)(S.prototype,{then:function(t,e){var n=O(f(this,S));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=k?_.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&j(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=A(D,t,1),this.reject=A(I,t,1)},m.f=O=function(t){return t===S||t===a?new o(t):r(t)}),u(u.G+u.W+u.F*!M,{Promise:S}),n(49)(S,"Promise"),n(44)("Promise"),a=n(21).Promise,u(u.S+u.F*!M,"Promise",{reject:function(t){var e=O(this);return(0,e.reject)(t),e.promise}}),u(u.S+u.F*(s||!M),"Promise",{resolve:function(t){return y(s&&this===a?S:this,t)}}),u(u.S+u.F*!(M&&n(63)(function(t){S.all(t).catch(E)})),"Promise",{all:function(t){var e=this,n=O(e),i=n.resolve,r=n.reject,o=g(function(){var n=[],o=0,a=1;G(t,!1,function(t){var s=o++,l=!1;n.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,n[s]=t,--a||i(n))},r)}),--a||i(n)});return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=O(e),i=n.reject,r=g(function(){G(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(t,e,n){var i=n(0),r=n(11),o=n(1),a=(n(2).Reflect||{}).apply,s=Function.apply;i(i.S+i.F*!n(3)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var i=r(t),l=o(n);return a?a(i,e,l):s.call(i,e,l)}})},function(t,e,n){var i=n(0),r=n(39),o=n(11),a=n(1),s=n(4),l=n(3),A=n(124),c=(n(2).Reflect||{}).construct,u=l(function(){function t(){}return!(c(function(){},[],t)instanceof t)}),T=!l(function(){c(function(){})});i(i.S+i.F*(u||T),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(T&&!u)return c(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(A.apply(t,i))}var l=n.prototype,C=r(s(l)?l:Object.prototype),h=Function.apply.call(t,C,e);return s(h)?h:C}})},function(t,e,n){var i=n(8),r=n(0),o=n(1),a=n(28);r(r.S+r.F*n(3)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return i.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var i=n(0),r=n(16).f,o=n(1);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var i=n(0),r=n(1),o=function(t){this._t=r(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(85)(o,"Object",function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}}),i(i.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){var i=n(16),r=n(0),o=n(1);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(o(t),e)}})},function(t,e,n){var i=n(0),r=n(17),o=n(1);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},function(t,e,n){function i(t,e){var n,s,c=arguments.length<3?t:arguments[2];return A(t)===c?t[e]:(n=r.f(t,e))?a(n,"value")?n.value:void 0!==n.get?n.get.call(c):void 0:l(s=o(t))?i(s,e,c):void 0}var r=n(16),o=n(17),a=n(15),s=n(0),l=n(4),A=n(1);s(s.S,"Reflect",{get:i})},function(t,e,n){var i=n(0);i(i.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var i=n(0),r=n(1),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,e,n){var i=n(0);i(i.S,"Reflect",{ownKeys:n(142)})},function(t,e,n){var i=n(0),r=n(1),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){var i=n(0),r=n(91);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){function i(t,e,n){var l,T,C=arguments.length<4?t:arguments[3],h=o.f(c(t),e);if(!h){if(u(T=a(t)))return i(T,e,n,C);h=A(0)}if(s(h,"value")){if(!1===h.writable||!u(C))return!1;if(l=o.f(C,e)){if(l.get||l.set||!1===l.writable)return!1;l.value=n,r.f(C,e,l)}else r.f(C,e,A(0,n));return!0}return void 0!==h.set&&(h.set.call(C,n),!0)}var r=n(8),o=n(16),a=n(17),s=n(15),l=n(0),A=n(42),c=n(1),u=n(4);l(l.S,"Reflect",{set:i})},function(t,e,n){var i=n(2),r=n(83),o=n(8).f,a=n(40).f,s=n(62),l=n(60),A=i.RegExp,c=A,u=A.prototype,T=/a/g,C=/a/g,h=new A(T)!==T;if(n(7)&&(!h||n(3)(function(){return C[n(6)("match")]=!1,A(T)!=T||A(C)==C||"/a/i"!=A(T,"i")}))){A=function(t,e){var n=this instanceof A,i=s(t),o=void 0===e;return!n&&i&&t.constructor===A&&o?t:r(h?new c(i&&!o?t.source:t,e):c((i=t instanceof A)?t.source:t,i&&o?l.call(t):e),n?this:u,A)};for(var G=a(c),f=0;G.length>f;)!function(t){t in A||o(A,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})}(G[f++]);u.constructor=A,A.prototype=u,n(13)(i,"RegExp",A)}n(44)("RegExp")},function(t,e,n){n(59)("match",1,function(t,e,n){return[function(n){"use strict";var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]})},function(t,e,n){n(59)("replace",2,function(t,e,n){return[function(i,r){"use strict";var o=t(this),a=void 0==i?void 0:i[e];return void 0!==a?a.call(i,o,r):n.call(String(o),i,r)},n]})},function(t,e,n){n(59)("search",1,function(t,e,n){return[function(n){"use strict";var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]})},function(t,e,n){n(59)("split",2,function(t,e,i){"use strict";var r=n(62),o=i,a=[].push,s="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[s]||2!="ab".split(/(?:ab)*/)[s]||4!=".".split(/(.?)(.?)/)[s]||".".split(/()()/)[s]>1||"".split(/.?/)[s]){var l=void 0===/()??/.exec("")[1];i=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!r(t))return o.call(n,t,e);var i,A,c,u,T,C=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),G=0,f=void 0===e?4294967295:e>>>0,d=new RegExp(t.source,h+"g");for(l||(i=new RegExp("^"+d.source+"$(?!\\s)",h));(A=d.exec(n))&&!((c=A.index+A[0][s])>G&&(C.push(n.slice(G,A.index)),!l&&A[s]>1&&A[0].replace(i,function(){for(T=1;T<arguments[s]-2;T++)void 0===arguments[T]&&(A[T]=void 0)}),A[s]>1&&A.index<n[s]&&a.apply(C,A.slice(1)),u=A[0][s],G=c,C[s]>=f));)d.lastIndex===A.index&&d.lastIndex++;return G===n[s]?!u&&d.test("")||C.push(""):C.push(n.slice(G)),C[s]>f?C.slice(0,f):C}}else"0".split(void 0,0)[s]&&(i=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(n,r){var o=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,o,r):i.call(String(o),n,r)},i]})},function(t,e,n){"use strict";n(151);var i=n(1),r=n(60),o=n(7),a=/./.toString,s=function(t){n(13)(RegExp.prototype,"toString",t,!0)};n(3)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(t,e,n){"use strict";n(14)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";n(14)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(14)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(14)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";var i=n(0),r=n(93)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,n){"use strict";var i=n(0),r=n(9),o=n(94),a="".endsWith;i(i.P+i.F*n(81)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=r(e.length),s=void 0===n?i:Math.min(r(n),i),l=String(t);return a?a.call(e,l,s):e.slice(s-l.length,s)===l}})},function(t,e,n){"use strict";n(14)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(14)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(14)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){var i=n(0),r=n(45),o=String.fromCharCode,a=String.fromCodePoint;i(i.S+i.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,a=0;i>a;){if(e=+arguments[a++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){"use strict";var i=n(0),r=n(94);i(i.P+i.F*n(81)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";n(14)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";var i=n(93)(!0);n(86)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";n(14)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){var i=n(0),r=n(18),o=n(9);i(i.S,"String",{raw:function(t){for(var e=r(t.raw),n=o(e.length),i=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<i&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){var i=n(0);i(i.P,"String",{repeat:n(95)})},function(t,e,n){"use strict";n(14)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";var i=n(0),r=n(9),o=n(94),a="".startsWith;i(i.P+i.F*n(81)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return a?a.call(e,i,n):e.slice(n,n+i.length)===i}})},function(t,e,n){"use strict";n(14)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(14)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(14)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){"use strict";n(50)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var i=n(2),r=n(15),o=n(7),a=n(0),s=n(13),l=n(35).KEY,A=n(3),c=n(68),u=n(49),T=n(46),C=n(6),h=n(149),G=n(99),f=n(189),d=n(61),p=n(1),m=n(4),g=n(18),v=n(28),y=n(42),b=n(39),_=n(139),x=n(16),w=n(8),S=n(41),k=x.f,E=w.f,O=_.f,M=i.Symbol,P=i.JSON,j=P&&P.stringify,F=C("_hidden"),B=C("toPrimitive"),N={}.propertyIsEnumerable,I=c("symbol-registry"),D=c("symbols"),H=c("op-symbols"),R=Object.prototype,L="function"==typeof M,z=i.QObject,W=!z||!z.prototype||!z.prototype.findChild,V=o&&A(function(){return 7!=b(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=k(R,e);i&&delete R[e],E(t,e,n),i&&t!==R&&E(R,e,i)}:E,q=function(t){var e=D[t]=b(M.prototype);return e._k=t,e},U=L&&"symbol"==typeof M.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof M},Z=function(t,e,n){return t===R&&Z(H,e,n),p(t),e=v(e,!0),p(n),r(D,e)?(n.enumerable?(r(t,F)&&t[F][e]&&(t[F][e]=!1),n=b(n,{enumerable:y(0,!1)})):(r(t,F)||E(t,F,y(1,{})),t[F][e]=!0),V(t,e,n)):E(t,e,n)},$=function(t,e){p(t);for(var n,i=f(e=g(e)),r=0,o=i.length;o>r;)Z(t,n=i[r++],e[n]);return t},X=function(t,e){return void 0===e?b(t):$(b(t),e)},J=function(t){var e=N.call(this,t=v(t,!0));return!(this===R&&r(D,t)&&!r(H,t))&&(!(e||!r(this,t)||!r(D,t)||r(this,F)&&this[F][t])||e)},Y=function(t,e){if(t=g(t),e=v(e,!0),t!==R||!r(D,e)||r(H,e)){var n=k(t,e);return!n||!r(D,e)||r(t,F)&&t[F][e]||(n.enumerable=!0),n}},K=function(t){for(var e,n=O(g(t)),i=[],o=0;n.length>o;)r(D,e=n[o++])||e==F||e==l||i.push(e);return i},Q=function(t){for(var e,n=t===R,i=O(n?H:g(t)),o=[],a=0;i.length>a;)!r(D,e=i[a++])||n&&!r(R,e)||o.push(D[e]);return o};L||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var t=T(arguments.length>0?arguments[0]:void 0),e=function(n){this===R&&e.call(H,n),r(this,F)&&r(this[F],t)&&(this[F][t]=!1),V(this,t,y(1,n))};return o&&W&&V(R,t,{configurable:!0,set:e}),q(t)},s(M.prototype,"toString",function(){return this._k}),x.f=Y,w.f=Z,n(40).f=_.f=K,n(55).f=J,n(65).f=Q,o&&!n(34)&&s(R,"propertyIsEnumerable",J,!0),h.f=function(t){return q(C(t))}),a(a.G+a.W+a.F*!L,{Symbol:M});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)C(tt[et++]);for(var nt=S(C.store),it=0;nt.length>it;)G(nt[it++]);a(a.S+a.F*!L,"Symbol",{for:function(t){return r(I,t+="")?I[t]:I[t]=M(t)},keyFor:function(t){if(!U(t))throw TypeError(t+" is not a symbol!");for(var e in I)if(I[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!L,"Object",{create:X,defineProperty:Z,defineProperties:$,getOwnPropertyDescriptor:Y,getOwnPropertyNames:K,getOwnPropertySymbols:Q}),P&&a(a.S+a.F*(!L||A(function(){var t=M();return"[null]"!=j([t])||"{}"!=j({a:t})||"{}"!=j(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(m(e)||void 0!==t)&&!U(t))return d(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!U(e))return e}),i[1]=e,j.apply(P,i)}}),M.prototype[B]||n(12)(M.prototype,B,M.prototype.valueOf),u(M,"Symbol"),u(Math,"Math",!0),u(i.JSON,"JSON",!0)},function(t,e,n){"use strict";var i=n(0),r=n(70),o=n(98),a=n(1),s=n(45),l=n(9),A=n(4),c=n(2).ArrayBuffer,u=n(69),T=o.ArrayBuffer,C=o.DataView,h=r.ABV&&c.isView,G=T.prototype.slice,f=r.VIEW;i(i.G+i.W+i.F*(c!==T),{ArrayBuffer:T}),i(i.S+i.F*!r.CONSTR,"ArrayBuffer",{isView:function(t){return h&&h(t)||A(t)&&f in t}}),i(i.P+i.U+i.F*n(3)(function(){return!new T(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==G&&void 0===e)return G.call(a(this),t);for(var n=a(this).byteLength,i=s(t,n),r=s(void 0===e?n:e,n),o=new(u(this,T))(l(r-i)),A=new C(this),c=new C(o),h=0;i<r;)c.setUint8(h++,A.getUint8(i++));return o}}),n(44)("ArrayBuffer")},function(t,e,n){var i=n(0);i(i.G+i.W+i.F*!n(70).ABV,{DataView:n(98).DataView})},function(t,e,n){n(31)("Float32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(31)("Float64",8,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(31)("Int16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(31)("Int32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(31)("Int8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(31)("Uint16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(31)("Uint32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(31)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(31)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}},!0)},function(t,e,n){"use strict";var i=n(127),r=n(51);n(58)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"WeakSet"),t,!0)}},i,!1,!0)},function(t,e,n){"use strict";var i=n(0),r=n(128),o=n(10),a=n(9),s=n(11),l=n(77);i(i.P,"Array",{flatMap:function(t){var e,n,i=o(this);return s(t),e=a(i.length),n=l(i,0),r(n,i,i,e,0,1,t,arguments[1]),n}}),n(33)("flatMap")},function(t,e,n){"use strict";var i=n(0),r=n(128),o=n(10),a=n(9),s=n(27),l=n(77);i(i.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=a(e.length),i=l(e,0);return r(i,e,e,n,0,void 0===t?1:s(t)),i}}),n(33)("flatten")},function(t,e,n){"use strict";var i=n(0),r=n(57)(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(33)("includes")},function(t,e,n){var i=n(0),r=n(89)(),o=n(2).process,a="process"==n(20)(o);i(i.G,{asap:function(t){var e=a&&o.domain;r(e?e.bind(t):t)}})},function(t,e,n){var i=n(0),r=n(20);i(i.S,"Error",{isError:function(t){return"Error"===r(t)}})},function(t,e,n){var i=n(0);i(i.G,{global:n(2)})},function(t,e,n){n(66)("Map")},function(t,e,n){n(67)("Map")},function(t,e,n){var i=n(0);i(i.P+i.R,"Map",{toJSON:n(126)("Map")})},function(t,e,n){var i=n(0);i(i.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var i=n(0);i(i.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var i=n(0),r=180/Math.PI;i(i.S,"Math",{degrees:function(t){return t*r}})},function(t,e,n){var i=n(0),r=n(136),o=n(134);i(i.S,"Math",{fscale:function(t,e,n,i,a){return o(r(t,e,n,i,a))}})},function(t,e,n){var i=n(0);i(i.S,"Math",{iaddh:function(t,e,n,i){var r=t>>>0,o=e>>>0,a=n>>>0;return o+(i>>>0)+((r&a|(r|a)&~(r+a>>>0))>>>31)|0}})},function(t,e,n){var i=n(0);i(i.S,"Math",{imulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,a=n>>16,s=i>>16,l=(a*o>>>0)+(r*o>>>16);return a*s+(l>>16)+((r*s>>>0)+(65535&l)>>16)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{isubh:function(t,e,n,i){var r=t>>>0,o=e>>>0,a=n>>>0;return o-(i>>>0)-((~r&a|~(r^a)&r-a>>>0)>>>31)|0}})},function(t,e,n){var i=n(0);i(i.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var i=n(0),r=Math.PI/180;i(i.S,"Math",{radians:function(t){return t*r}})},function(t,e,n){var i=n(0);i(i.S,"Math",{scale:n(136)})},function(t,e,n){var i=n(0);i(i.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,n){var i=n(0);i(i.S,"Math",{umulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,a=n>>>16,s=i>>>16,l=(a*o>>>0)+(r*o>>>16);return a*s+(l>>>16)+((r*s>>>0)+(65535&l)>>>16)}})},function(t,e,n){"use strict";var i=n(0),r=n(10),o=n(11),a=n(8);n(7)&&i(i.P+n(64),"Object",{__defineGetter__:function(t,e){a.f(r(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var i=n(0),r=n(10),o=n(11),a=n(8);n(7)&&i(i.P+n(64),"Object",{__defineSetter__:function(t,e){a.f(r(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var i=n(0),r=n(141)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},function(t,e,n){var i=n(0),r=n(142),o=n(18),a=n(16),s=n(78);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=o(t),l=a.f,A=r(i),c={},u=0;A.length>u;)void 0!==(n=l(i,e=A[u++]))&&s(c,e,n);return c}})},function(t,e,n){"use strict";var i=n(0),r=n(10),o=n(28),a=n(17),s=n(16).f;n(7)&&i(i.P+n(64),"Object",{__lookupGetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=s(n,i))return e.get}while(n=a(n))}})},function(t,e,n){"use strict";var i=n(0),r=n(10),o=n(28),a=n(17),s=n(16).f;n(7)&&i(i.P+n(64),"Object",{__lookupSetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=s(n,i))return e.set}while(n=a(n))}})},function(t,e,n){var i=n(0),r=n(141)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},function(t,e,n){"use strict";var i=n(0),r=n(2),o=n(21),a=n(89)(),s=n(6)("observable"),l=n(11),A=n(1),c=n(37),u=n(43),T=n(12),C=n(38),h=C.RETURN,G=function(t){return null==t?void 0:l(t)},f=function(t){var e=t._c;e&&(t._c=void 0,e())},d=function(t){return void 0===t._o},p=function(t){d(t)||(t._o=void 0,f(t))},m=function(t,e){A(t),this._c=void 0,this._o=t,t=new g(this);try{var n=e(t),i=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:l(n),this._c=n)}catch(e){return void t.error(e)}d(this)&&f(this)};m.prototype=u({},{unsubscribe:function(){p(this)}});var g=function(t){this._s=t};g.prototype=u({},{next:function(t){var e=this._s;if(!d(e)){var n=e._o;try{var i=G(n.next);if(i)return i.call(n,t)}catch(t){try{p(e)}finally{throw t}}}},error:function(t){var e=this._s;if(d(e))throw t;var n=e._o;e._o=void 0;try{var i=G(n.error);if(!i)throw t;t=i.call(n,t)}catch(t){try{f(e)}finally{throw t}}return f(e),t},complete:function(t){var e=this._s;if(!d(e)){var n=e._o;e._o=void 0;try{var i=G(n.complete);t=i?i.call(n,t):void 0}catch(t){try{f(e)}finally{throw t}}return f(e),t}}});var v=function(t){c(this,v,"Observable","_f")._f=l(t)};u(v.prototype,{subscribe:function(t){return new m(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||r.Promise)(function(n,i){l(t);var r=e.subscribe({next:function(e){try{return t(e)}catch(t){i(t),r.unsubscribe()}},error:i,complete:n})})}}),u(v,{from:function(t){var e="function"==typeof this?this:v,n=G(A(t)[s]);if(n){var i=A(n.call(t));return i.constructor===e?i:new e(function(t){return i.subscribe(t)})}return new e(function(e){var n=!1;return a(function(){if(!n){try{if(C(t,!1,function(t){if(e.next(t),n)return h})===h)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:v)(function(t){var e=!1;return a(function(){if(!e){for(var i=0;i<n.length;++i)if(t.next(n[i]),e)return;t.complete()}}),function(){e=!0}})}}),T(v.prototype,s,function(){return this}),i(i.G,{Observable:v}),n(44)("Observable")},function(t,e,n){"use strict";var i=n(0),r=n(21),o=n(2),a=n(69),s=n(146);i(i.P+i.R,"Promise",{finally:function(t){var e=a(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var i=n(0),r=n(90),o=n(145);i(i.S,"Promise",{try:function(t){var e=r.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var i=n(30),r=n(1),o=i.key,a=i.set;i.exp({defineMetadata:function(t,e,n,i){a(t,e,r(n),o(i))}})},function(t,e,n){var i=n(30),r=n(1),o=i.key,a=i.map,s=i.store;i.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),i=a(r(e),n,!1);if(void 0===i||!i.delete(t))return!1;if(i.size)return!0;var l=s.get(e);return l.delete(n),!!l.size||s.delete(e)}})},function(t,e,n){var i=n(152),r=n(122),o=n(30),a=n(1),s=n(17),l=o.keys,A=o.key,c=function(t,e){var n=l(t,e),o=s(t);if(null===o)return n;var a=c(o,e);return a.length?n.length?r(new i(n.concat(a))):a:n};o.exp({getMetadataKeys:function(t){return c(a(t),arguments.length<2?void 0:A(arguments[1]))}})},function(t,e,n){var i=n(30),r=n(1),o=n(17),a=i.has,s=i.get,l=i.key,A=function(t,e,n){if(a(t,e,n))return s(t,e,n);var i=o(e);return null!==i?A(t,i,n):void 0};i.exp({getMetadata:function(t,e){return A(t,r(e),arguments.length<3?void 0:l(arguments[2]))}})},function(t,e,n){var i=n(30),r=n(1),o=i.keys,a=i.key;i.exp({getOwnMetadataKeys:function(t){return o(r(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,n){var i=n(30),r=n(1),o=i.get,a=i.key;i.exp({getOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var i=n(30),r=n(1),o=n(17),a=i.has,s=i.key,l=function(t,e,n){if(a(t,e,n))return!0;var i=o(e);return null!==i&&l(t,i,n)};i.exp({hasMetadata:function(t,e){return l(t,r(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var i=n(30),r=n(1),o=i.has,a=i.key;i.exp({hasOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var i=n(30),r=n(1),o=n(11),a=i.key,s=i.set;i.exp({metadata:function(t,e){return function(n,i){s(t,e,(void 0!==i?r:o)(n),a(i))}}})},function(t,e,n){n(66)("Set")},function(t,e,n){n(67)("Set")},function(t,e,n){var i=n(0);i(i.P+i.R,"Set",{toJSON:n(126)("Set")})},function(t,e,n){"use strict";var i=n(0),r=n(93)(!0);i(i.P,"String",{at:function(t){return r(this,t)}})},function(t,e,n){"use strict";var i=n(0),r=n(25),o=n(9),a=n(62),s=n(60),l=RegExp.prototype,A=function(t,e){this._r=t,this._s=e};n(85)(A,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),i(i.P,"String",{matchAll:function(t){if(r(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in l?String(t.flags):s.call(t),i=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return i.lastIndex=o(t.lastIndex),new A(i,e)}})},function(t,e,n){"use strict";var i=n(0),r=n(147),o=n(71);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";var i=n(0),r=n(147),o=n(71);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";n(50)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";n(50)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){n(99)("asyncIterator")},function(t,e,n){n(99)("observable")},function(t,e,n){var i=n(0);i(i.S,"System",{global:n(2)})},function(t,e,n){n(66)("WeakMap")},function(t,e,n){n(67)("WeakMap")},function(t,e,n){n(66)("WeakSet")},function(t,e,n){n(67)("WeakSet")},function(t,e,n){for(var i=n(101),r=n(41),o=n(13),a=n(2),s=n(12),l=n(48),A=n(6),c=A("iterator"),u=A("toStringTag"),T=l.Array,C={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=r(C),G=0;G<h.length;G++){var f,d=h[G],p=C[d],m=a[d],g=m&&m.prototype;if(g&&(g[c]||s(g,c,T),g[u]||s(g,u,d),l[d]=T,p))for(f in i)g[f]||o(g,f,i[f],!0)}},function(t,e,n){var i=n(0),r=n(97);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,n){var i=n(2),r=n(0),o=n(71),a=[].slice,s=/MSIE .\./.test(o),l=function(t){return function(e,n){var i=arguments.length>2,r=!!i&&a.call(arguments,2);return t(i?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,n)}};r(r.G+r.B+r.F*s,{setTimeout:l(i.setTimeout),setInterval:l(i.setInterval)})},function(t,e,n){n(312),n(251),n(253),n(252),n(255),n(257),n(262),n(256),n(254),n(264),n(263),n(259),n(260),n(258),n(250),n(261),n(265),n(266),n(218),n(220),n(219),n(268),n(267),n(238),n(248),n(249),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(299),n(304),n(311),n(302),n(294),n(295),n(300),n(305),n(307),n(290),n(291),n(292),n(293),n(296),n(297),n(298),n(301),n(303),n(306),n(308),n(309),n(310),n(213),n(215),n(214),n(217),n(216),n(202),n(200),n(206),n(203),n(209),n(211),n(199),n(205),n(196),n(210),n(194),n(208),n(207),n(201),n(204),n(193),n(195),n(198),n(197),n(212),n(101),n(284),n(289),n(151),n(285),n(286),n(287),n(288),n(269),n(150),n(152),n(153),n(324),n(313),n(314),n(319),n(322),n(323),n(317),n(320),n(318),n(321),n(315),n(316),n(270),n(271),n(272),n(273),n(274),n(277),n(275),n(276),n(278),n(279),n(280),n(281),n(283),n(282),n(327),n(325),n(326),n(368),n(371),n(370),n(372),n(373),n(369),n(374),n(375),n(349),n(352),n(348),n(346),n(347),n(350),n(351),n(333),n(367),n(332),n(366),n(378),n(380),n(331),n(365),n(377),n(379),n(330),n(376),n(329),n(334),n(335),n(336),n(337),n(338),n(340),n(339),n(341),n(342),n(343),n(345),n(344),n(354),n(355),n(356),n(357),n(359),n(358),n(361),n(360),n(362),n(363),n(364),n(328),n(353),n(383),n(382),n(381),t.exports=n(21)},function(t,e){var n=t.exports=n||{};n.color=n.color||{},n.utils=n.utils||{},n.utils.common=function(){var t=Array.prototype.forEach,e=Array.prototype.slice;return{BREAK:{},extend:function(t){return this.each(e.call(arguments,1),function(e){for(var n in e)this.isUndefined(e[n])||(t[n]=e[n])},this),t},defaults:function(t){return this.each(e.call(arguments,1),function(e){for(var n in e)this.isUndefined(t[n])&&(t[n]=e[n])},this),t},compose:function(){var t=e.call(arguments);return function(){for(var n=e.call(arguments),i=t.length-1;i>=0;i--)n=[t[i].apply(this,n)];return n[0]}},each:function(e,n,i){if(t&&e.forEach===t)e.forEach(n,i);else if(e.length===e.length+0){for(var r=0,o=e.length;r<o;r++)if(r in e&&n.call(i,e[r],r)===this.BREAK)return}else for(var r in e)if(n.call(i,e[r],r)===this.BREAK)return},defer:function(t){setTimeout(t,0)},toArray:function(t){return t.toArray?t.toArray():e.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){return t!==t},isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}}}(),n.color.toString=function(t){return function(e){if(1==e.a||t.isUndefined(e.a)){for(var n=e.hex.toString(16);n.length<6;)n="0"+n;return"#"+n}return"rgba("+Math.round(e.r)+","+Math.round(e.g)+","+Math.round(e.b)+","+e.a+")"}}(n.utils.common),n.Color=n.color.Color=function(t,e,n,i){function r(t,e,n){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space?this.__state[e]:(a(this,e,n),this.__state[e])},set:function(t){"RGB"!==this.__state.space&&(a(this,e,n),this.__state.space="RGB"),this.__state[e]=t}})}function o(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space?this.__state[e]:(s(this),this.__state[e])},set:function(t){"HSV"!==this.__state.space&&(s(this),this.__state.space="HSV"),this.__state[e]=t}})}function a(t,n,r){if("HEX"===t.__state.space)t.__state[n]=e.component_from_hex(t.__state.hex,r);else{if("HSV"!==t.__state.space)throw"Corrupted color state";i.extend(t.__state,e.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}}function s(t){var n=e.rgb_to_hsv(t.r,t.g,t.b);i.extend(t.__state,{s:n.s,v:n.v}),i.isNaN(n.h)?i.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=n.h}var l=function(){if(this.__state=t.apply(this,arguments),!1===this.__state)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return l.COMPONENTS=["r","g","b","h","s","v","hex","a"],i.extend(l.prototype,{toString:function(){return n(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),r(l.prototype,"r",2),r(l.prototype,"g",1),r(l.prototype,"b",0),o(l.prototype,"h"),o(l.prototype,"s"),o(l.prototype,"v"),Object.defineProperty(l.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(l.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=e.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}}),l}(n.color.interpret=function(t,e){var n,i,r=function(){i=!1;var t=arguments.length>1?e.toArray(arguments):arguments[0];return e.each(o,function(r){if(r.litmus(t))return e.each(r.conversions,function(r,o){if(n=r.read(t),!1===i&&!1!==n)return i=n,n.conversionName=o,n.conversion=r,e.BREAK}),e.BREAK}),i},o=[{litmus:e.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString())}},write:t},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString())}},write:t},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:t},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:t}}},{litmus:e.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:e.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3==t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4==t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:e.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b)&&e.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v)&&e.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}];return r}(n.color.toString,n.utils.common),n.color.math=function(){var t;return{hsv_to_rgb:function(t,e,n){var i=Math.floor(t/60)%6,r=t/60-Math.floor(t/60),o=n*(1-e),a=n*(1-r*e),s=n*(1-(1-r)*e),l=[[n,s,o],[a,n,o],[o,n,s],[o,a,n],[s,o,n],[n,o,a]][i];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(t,e,n){var i,r,o=Math.min(t,e,n),a=Math.max(t,e,n),s=a-o;return 0==a?{h:NaN,s:0,v:0}:(r=s/a,i=t==a?(e-n)/s:e==a?2+(n-t)/s:4+(t-e)/s,i/=6,i<0&&(i+=1),{h:360*i,s:r,v:a/255})},rgb_to_hex:function(t,e,n){var i=this.hex_with_component(0,2,t);return i=this.hex_with_component(i,1,e),i=this.hex_with_component(i,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(e,n,i){return i<<(t=8*n)|e&~(255<<t)}}}(),n.color.toString,n.utils.common)},function(t,e){var n=t.exports=n||{};n.gui=n.gui||{},n.utils=n.utils||{},n.controllers=n.controllers||{},n.dom=n.dom||{},n.color=n.color||{},n.utils.css=function(){return{load:function(t,e){e=e||document;var n=e.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=t,e.getElementsByTagName("head")[0].appendChild(n)},inject:function(t,e){e=e||document;var n=document.createElement("style");n.type="text/css",n.innerHTML=t,e.getElementsByTagName("head")[0].appendChild(n)}}}(),n.utils.common=function(){var t=Array.prototype.forEach,e=Array.prototype.slice;return{BREAK:{},extend:function(t){return this.each(e.call(arguments,1),function(e){for(var n in e)this.isUndefined(e[n])||(t[n]=e[n])},this),t},defaults:function(t){return this.each(e.call(arguments,1),function(e){for(var n in e)this.isUndefined(t[n])&&(t[n]=e[n])},this),t},compose:function(){var t=e.call(arguments);return function(){for(var n=e.call(arguments),i=t.length-1;i>=0;i--)n=[t[i].apply(this,n)];return n[0]}},each:function(e,n,i){if(t&&e.forEach===t)e.forEach(n,i);else if(e.length===e.length+0){for(var r=0,o=e.length;r<o;r++)if(r in e&&n.call(i,e[r],r)===this.BREAK)return}else for(var r in e)if(n.call(i,e[r],r)===this.BREAK)return},defer:function(t){setTimeout(t,0)},toArray:function(t){return t.toArray?t.toArray():e.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){return t!==t},isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}}}(),n.controllers.Controller=function(t){var e=function(t,e){this.initialValue=t[e],this.domElement=document.createElement("div"),this.object=t,this.property=e,this.__onChange=void 0,this.__onFinishChange=void 0};return t.extend(e.prototype,{onChange:function(t){return this.__onChange=t,this},onFinishChange:function(t){return this.__onFinishChange=t,this},setValue:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),e}(n.utils.common),n.dom.dom=function(t){function e(e){if("0"===e||t.isUndefined(e))return 0;var n=e.match(r);return t.isNull(n)?0:parseFloat(n[1])}var n={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},i={};t.each(n,function(e,n){t.each(e,function(t){i[t]=n})});var r=/(\d+(\.\d+)?)px/,o={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?"auto":"none",t.style.KhtmlUserSelect=e?"auto":"none",t.unselectable=e?"on":"off")},makeFullscreen:function(e,n,i){t.isUndefined(n)&&(n=!0),t.isUndefined(i)&&(i=!0),e.style.position="absolute",n&&(e.style.left=0,e.style.right=0),i&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,n,r,o){r=r||{};var a=i[n];if(!a)throw new Error("Event type "+n+" not supported.");var s=document.createEvent(a);switch(a){case"MouseEvents":var l=r.x||r.clientX||0,A=r.y||r.clientY||0;s.initMouseEvent(n,r.bubbles||!1,r.cancelable||!0,window,r.clickCount||1,0,0,l,A,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var c=s.initKeyboardEvent||s.initKeyEvent;t.defaults(r,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),c(n,r.bubbles||!1,r.cancelable,window,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode);break;default:s.initEvent(n,r.bubbles||!1,r.cancelable||!0)}t.defaults(s,o),e.dispatchEvent(s)},bind:function(t,e,n,i){return i=i||!1,t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent("on"+e,n),o},unbind:function(t,e,n,i){return i=i||!1,t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&t.detachEvent("on"+e,n),o},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var n=t.className.split(/ +/);-1==n.indexOf(e)&&(n.push(e),t.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return o},removeClass:function(t,e){if(e)if(void 0===t.className);else if(t.className===e)t.removeAttribute("class");else{var n=t.className.split(/ +/),i=n.indexOf(e);-1!=i&&(n.splice(i,1),t.className=n.join(" "))}else t.className=void 0;return o},hasClass:function(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var n=getComputedStyle(t);return e(n["border-left-width"])+e(n["border-right-width"])+e(n["padding-left"])+e(n["padding-right"])+e(n.width)},getHeight:function(t){var n=getComputedStyle(t);return e(n["border-top-width"])+e(n["border-bottom-width"])+e(n["padding-top"])+e(n["padding-bottom"])+e(n.height)},getOffset:function(t){var e={left:0,top:0};if(t.offsetParent)do{e.left+=t.offsetLeft,e.top+=t.offsetTop}while(t=t.offsetParent);return e},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}};return o}(n.utils.common),n.controllers.OptionController=function(t,e,n){var i=function(t,r,o){i.superclass.call(this,t,r);var a=this;if(this.__select=document.createElement("select"),n.isArray(o)){var s={};n.each(o,function(t){s[t]=t}),o=s}n.each(o,function(t,e){var n=document.createElement("option");n.innerHTML=e,n.setAttribute("value",t),a.__select.appendChild(n)}),this.updateDisplay(),e.bind(this.__select,"change",function(){var t=this.options[this.selectedIndex].value;a.setValue(t)}),this.domElement.appendChild(this.__select)};return i.superclass=t,n.extend(i.prototype,t.prototype,{setValue:function(t){var e=i.superclass.prototype.setValue.call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),e},updateDisplay:function(){return this.__select.value=this.getValue(),i.superclass.prototype.updateDisplay.call(this)}}),i}(n.controllers.Controller,n.dom.dom,n.utils.common),n.controllers.NumberController=function(t,e){function n(t){return t=t.toString(),t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var i=function(t,r,o){i.superclass.call(this,t,r),o=o||{},this.__min=o.min,this.__max=o.max,this.__step=o.step,e.isUndefined(this.__step)?0==this.initialValue?this.__impliedStep=1:this.__impliedStep=Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__impliedStep=this.__step,this.__precision=n(this.__impliedStep)};return i.superclass=t,e.extend(i.prototype,t.prototype,{setValue:function(t){return void 0!==this.__min&&t<this.__min?t=this.__min:void 0!==this.__max&&t>this.__max&&(t=this.__max),void 0!==this.__step&&t%this.__step!=0&&(t=Math.round(t/this.__step)*this.__step),i.superclass.prototype.setValue.call(this,t)},min:function(t){return this.__min=t,this},max:function(t){return this.__max=t,this},step:function(t){return this.__step=t,this}}),i}(n.controllers.Controller,n.utils.common),n.controllers.NumberControllerBox=function(t,e,n){function i(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}var r=function(t,i,o){function a(){var t=parseFloat(T.__input.value);n.isNaN(t)||T.setValue(t)}function s(){a(),T.__onFinishChange&&T.__onFinishChange.call(T,T.getValue())}function l(t){e.bind(window,"mousemove",A),e.bind(window,"mouseup",c),u=t.clientY}function A(t){var e=u-t.clientY;T.setValue(T.getValue()+e*T.__impliedStep),u=t.clientY}function c(){e.unbind(window,"mousemove",A),e.unbind(window,"mouseup",c)}this.__truncationSuspended=!1,r.superclass.call(this,t,i,o);var u,T=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),e.bind(this.__input,"change",a),e.bind(this.__input,"blur",s),e.bind(this.__input,"mousedown",l),e.bind(this.__input,"keydown",function(t){13===t.keyCode&&(T.__truncationSuspended=!0,this.blur(),T.__truncationSuspended=!1)}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return r.superclass=t,n.extend(r.prototype,t.prototype,{updateDisplay:function(){return this.__input.value=this.__truncationSuspended?this.getValue():i(this.getValue(),this.__precision),r.superclass.prototype.updateDisplay.call(this)}}),r}(n.controllers.NumberController,n.dom.dom,n.utils.common),n.controllers.NumberControllerSlider=function(t,e,n,i,r){function o(t,e,n,i,r){return i+(t-e)/(n-e)*(r-i)}var a=function(t,n,i,r,s){function l(t){e.bind(window,"mousemove",A),e.bind(window,"mouseup",c),A(t)}function A(t){t.preventDefault();var n=e.getOffset(u.__background),i=e.getWidth(u.__background);return u.setValue(o(t.clientX,n.left,n.left+i,u.__min,u.__max)),!1}function c(){e.unbind(window,"mousemove",A),e.unbind(window,"mouseup",c),u.__onFinishChange&&u.__onFinishChange.call(u,u.getValue())}a.superclass.call(this,t,n,{min:i,max:r,step:s});var u=this;this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),e.bind(this.__background,"mousedown",l),e.addClass(this.__background,"slider"),e.addClass(this.__foreground,"slider-fg"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)};return a.superclass=t,a.useDefaultStyles=function(){n.inject(".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}")},i.extend(a.prototype,t.prototype,{updateDisplay:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",a.superclass.prototype.updateDisplay.call(this)}}),a}(n.controllers.NumberController,n.dom.dom,n.utils.css,n.utils.common),n.controllers.FunctionController=function(t,e,n){var i=function(t,n,r){i.superclass.call(this,t,n);var o=this;this.__button=document.createElement("div"),this.__button.innerHTML=void 0===r?"Fire":r,e.bind(this.__button,"click",function(t){return t.preventDefault(),o.fire(),!1}),e.addClass(this.__button,"button"),this.domElement.appendChild(this.__button)};return i.superclass=t,n.extend(i.prototype,t.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),i}(n.controllers.Controller,n.dom.dom,n.utils.common),n.controllers.BooleanController=function(t,e,n){var i=function(t,n){function r(){o.setValue(!o.__prev)}i.superclass.call(this,t,n);var o=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),e.bind(this.__checkbox,"change",r,!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay()};return i.superclass=t,n.extend(i.prototype,t.prototype,{setValue:function(t){var e=i.superclass.prototype.setValue.call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),e},updateDisplay:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,i.superclass.prototype.updateDisplay.call(this)}}),i}(n.controllers.Controller,n.dom.dom,n.utils.common),n.color.toString=function(t){return function(e){if(1==e.a||t.isUndefined(e.a)){for(var n=e.hex.toString(16);n.length<6;)n="0"+n;return"#"+n}return"rgba("+Math.round(e.r)+","+Math.round(e.g)+","+Math.round(e.b)+","+e.a+")"}}(n.utils.common),n.color.interpret=function(t,e){var n,i,r=function(){i=!1;var t=arguments.length>1?e.toArray(arguments):arguments[0];return e.each(o,function(r){if(r.litmus(t))return e.each(r.conversions,function(r,o){if(n=r.read(t),!1===i&&!1!==n)return i=n,n.conversionName=o,n.conversion=r,e.BREAK}),e.BREAK}),i},o=[{litmus:e.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString())}},write:t},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString())}},write:t},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:t},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:t}}},{litmus:e.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:e.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3==t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4==t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:e.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b)&&e.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v)&&e.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}];return r}(n.color.toString,n.utils.common),n.GUI=n.gui.GUI=function(t,e,n,i,r,o,a,s,l,A,c,u,T,C,h){function G(t,e,n,o){if(void 0===e[n])throw new Error("Object "+e+' has no property "'+n+'"');var a;if(o.color)a=new c(e,n);else{var s=[e,n].concat(o.factoryArgs);a=i.apply(t,s)}o.before instanceof r&&(o.before=o.before.__li),p(t,a),C.addClass(a.domElement,"c");var l=document.createElement("span");C.addClass(l,"property-name"),l.innerHTML=a.property;var A=document.createElement("div");A.appendChild(l),A.appendChild(a.domElement);var u=f(t,A,o.before);return C.addClass(u,B.CLASS_CONTROLLER_ROW),C.addClass(u,typeof a.getValue()),d(t,u,a),t.__controllers.push(a),a}function f(t,e,n){var i=document.createElement("li");return e&&i.appendChild(e),n?t.__ul.insertBefore(i,params.before):t.__ul.appendChild(i),t.onResize(),i}function d(t,e,n){if(n.__li=e,n.__gui=t,h.extend(n,{options:function(e){return arguments.length>1?(n.remove(),G(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[h.toArray(arguments)]})):h.isArray(e)||h.isObject(e)?(n.remove(),G(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[e]})):void 0},name:function(t){return n.__li.firstElementChild.firstElementChild.innerHTML=t,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof l){var i=new s(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});h.each(["updateDisplay","onChange","onFinishChange"],function(t){var e=n[t],r=i[t];n[t]=i[t]=function(){var t=Array.prototype.slice.call(arguments);return e.apply(n,t),r.apply(i,t)}}),C.addClass(e,"has-slider"),n.domElement.insertBefore(i.domElement,n.domElement.firstElementChild)}else if(n instanceof s){var r=function(e){return h.isNumber(n.__min)&&h.isNumber(n.__max)?(n.remove(),G(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]})):e};n.min=h.compose(r,n.min),n.max=h.compose(r,n.max)}else n instanceof o?(C.bind(e,"click",function(){C.fakeEvent(n.__checkbox,"click")}),C.bind(n.__checkbox,"click",function(t){t.stopPropagation()})):n instanceof a?(C.bind(e,"click",function(){C.fakeEvent(n.__button,"click")}),C.bind(e,"mouseover",function(){C.addClass(n.__button,"hover")}),C.bind(e,"mouseout",function(){C.removeClass(n.__button,"hover")})):n instanceof c&&(C.addClass(e,"color"),n.updateDisplay=h.compose(function(t){return e.style.borderLeftColor=n.__color.toString(),t},n.updateDisplay),n.updateDisplay());n.setValue=h.compose(function(e){return t.getRoot().__preset_select&&n.isModified()&&w(t.getRoot(),!0),e},n.setValue)}function p(t,e){var n=t.getRoot(),i=n.__rememberedObjects.indexOf(e.object);if(-1!=i){var r=n.__rememberedObjectIndecesToControllers[i];if(void 0===r&&(r={},n.__rememberedObjectIndecesToControllers[i]=r),r[e.property]=e,n.load&&n.load.remembered){var o,a=n.load.remembered;if(a[t.preset])o=a[t.preset];else{if(!a[O])return;o=a[O]}if(o[i]&&void 0!==o[i][e.property]){var s=o[i][e.property];e.initialValue=s,e.setValue(s)}}}}function m(t,e){return document.location.href+"."+e}function g(t){function e(){A.style.display=t.useLocalStorage?"block":"none"}var n=t.__save_row=document.createElement("li");C.addClass(t.domElement,"has-save"),t.__ul.insertBefore(n,t.__ul.firstChild),C.addClass(n,"save-row");var i=document.createElement("span");i.innerHTML="&nbsp;",C.addClass(i,"button gears");var r=document.createElement("span");r.innerHTML="Save",C.addClass(r,"button"),C.addClass(r,"save");var o=document.createElement("span");o.innerHTML="New",C.addClass(o,"button"),C.addClass(o,"save-as");var a=document.createElement("span");a.innerHTML="Revert",C.addClass(a,"button"),C.addClass(a,"revert");var s=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?h.each(t.load.remembered,function(e,n){_(t,n,n==t.preset)}):_(t,O,!1),C.bind(s,"change",function(){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].innerHTML=t.__preset_select[e].value;t.preset=this.value}),n.appendChild(s),n.appendChild(i),n.appendChild(r),n.appendChild(o),n.appendChild(a),M){var l=document.getElementById("dg-save-locally"),A=document.getElementById("dg-local-explain");l.style.display="block";var c=document.getElementById("dg-local-storage");"true"===localStorage.getItem(m(t,"isLocal"))&&c.setAttribute("checked","checked"),e(),C.bind(c,"change",function(){t.useLocalStorage=!t.useLocalStorage,e()})}var u=document.getElementById("dg-new-constructor");C.bind(u,"keydown",function(t){!t.metaKey||67!==t.which&&67!=t.keyCode||k.hide()}),C.bind(i,"click",function(){u.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),k.show(),u.focus(),u.select()}),C.bind(r,"click",function(){t.save()}),C.bind(o,"click",function(){var e=prompt("Enter a new preset name.");e&&t.saveAs(e)}),C.bind(a,"click",function(){t.revert()})}function v(t){function e(e){return e.preventDefault(),r=e.clientX,C.addClass(t.__closeButton,B.CLASS_DRAG),C.bind(window,"mousemove",n),C.bind(window,"mouseup",i),!1}function n(e){return e.preventDefault(),t.width+=r-e.clientX,t.onResize(),r=e.clientX,!1}function i(){C.removeClass(t.__closeButton,B.CLASS_DRAG),C.unbind(window,"mousemove",n),C.unbind(window,"mouseup",i)}t.__resize_handle=document.createElement("div"),h.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});var r;C.bind(t.__resize_handle,"mousedown",e),C.bind(t.__closeButton,"mousedown",e),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function y(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function b(t,e){var n={};return h.each(t.__rememberedObjects,function(i,r){var o={},a=t.__rememberedObjectIndecesToControllers[r];h.each(a,function(t,n){o[n]=e?t.initialValue:t.getValue()}),n[r]=o}),n}function _(t,e,n){var i=document.createElement("option");i.innerHTML=e,i.value=e,t.__preset_select.appendChild(i),n&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function x(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value==t.preset&&(t.__preset_select.selectedIndex=e)}function w(t,e){var n=t.__preset_select[t.__preset_select.selectedIndex];n.innerHTML=e?n.value+"*":n.value}function S(t){0!=t.length&&u(function(){S(t)}),h.each(t,function(t){t.updateDisplay()})}t.inject(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");var k,E,O="Default",M=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}}(),P=!0,j=!1,F=[],B=function(t){function e(){localStorage.setItem(m(n,"gui"),JSON.stringify(n.getSaveObject()))}var n=this;this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),C.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],t=t||{},t=h.defaults(t,{autoPlace:!0,width:B.DEFAULT_WIDTH}),t=h.defaults(t,{resizable:t.autoPlace,hideable:t.autoPlace}),h.isUndefined(t.load)?t.load={preset:O}:t.preset&&(t.load.preset=t.preset),h.isUndefined(t.parent)&&t.hideable&&F.push(this),t.resizable=h.isUndefined(t.parent)&&t.resizable,t.autoPlace&&h.isUndefined(t.scrollable)&&(t.scrollable=!0);var i=M&&"true"===localStorage.getItem(m(this,"isLocal"));if(Object.defineProperties(this,{parent:{get:function(){return t.parent}},scrollable:{get:function(){return t.scrollable}},autoPlace:{get:function(){return t.autoPlace}},preset:{get:function(){return n.parent?n.getRoot().preset:t.load.preset},set:function(e){n.parent?n.getRoot().preset=e:t.load.preset=e,x(this),n.revert()}},width:{get:function(){return t.width},set:function(e){t.width=e,y(n,e)}},name:{get:function(){return t.name},set:function(e){t.name=e,o&&(o.innerHTML=t.name)}},closed:{get:function(){return t.closed},set:function(e){t.closed=e,t.closed?C.addClass(n.__ul,B.CLASS_CLOSED):C.removeClass(n.__ul,B.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=e?B.TEXT_OPEN:B.TEXT_CLOSED)}},load:{get:function(){return t.load}},useLocalStorage:{get:function(){return i},set:function(t){M&&(i=t,t?C.bind(window,"unload",e):C.unbind(window,"unload",e),localStorage.setItem(m(n,"isLocal"),t))}}}),h.isUndefined(t.parent)){if(t.closed=!1,C.addClass(this.domElement,B.CLASS_MAIN),C.makeSelectable(this.domElement,!1),M&&i){n.useLocalStorage=!0;var r=localStorage.getItem(m(this,"gui"));r&&(t.load=JSON.parse(r))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=B.TEXT_CLOSED,C.addClass(this.__closeButton,B.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),C.bind(this.__closeButton,"click",function(){n.closed=!n.closed})}else{void 0===t.closed&&(t.closed=!0);var o=document.createTextNode(t.name);C.addClass(o,"controller-name");var a=f(n,o),s=function(t){return t.preventDefault(),n.closed=!n.closed,!1};C.addClass(this.__ul,B.CLASS_CLOSED),C.addClass(a,"title"),C.bind(a,"click",s),t.closed||(this.closed=!1)}t.autoPlace&&(h.isUndefined(t.parent)&&(P&&(E=document.createElement("div"),C.addClass(E,"dg"),C.addClass(E,B.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(E),P=!1),E.appendChild(this.domElement),C.addClass(this.domElement,B.CLASS_AUTO_PLACE)),this.parent||y(n,t.width)),C.bind(window,"resize",function(){n.onResize()}),C.bind(this.__ul,"webkitTransitionEnd",function(){n.onResize()}),C.bind(this.__ul,"transitionend",function(){n.onResize()}),C.bind(this.__ul,"oTransitionEnd",function(){n.onResize()}),this.onResize(),t.resizable&&v(this);n.getRoot();t.parent||function(){var t=n.getRoot();t.width+=1,h.defer(function(){t.width-=1})}()};return B.toggleHide=function(){j=!j,h.each(F,function(t){t.domElement.style.zIndex=j?-999:999,t.domElement.style.opacity=j?0:1})},B.CLASS_AUTO_PLACE="a",B.CLASS_AUTO_PLACE_CONTAINER="ac",B.CLASS_MAIN="main",B.CLASS_CONTROLLER_ROW="cr",B.CLASS_TOO_TALL="taller-than-window",B.CLASS_CLOSED="closed",B.CLASS_CLOSE_BUTTON="close-button",B.CLASS_DRAG="drag",B.DEFAULT_WIDTH=245,B.TEXT_CLOSED="Close Controls",B.TEXT_OPEN="Open Controls",C.bind(window,"keydown",function(t){"text"===document.activeElement.type||72!==t.which&&72!=t.keyCode||B.toggleHide()},!1),h.extend(B.prototype,{add:function(t,e){return G(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return G(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.slice(this.__controllers.indexOf(t),1);var e=this;h.defer(function(){e.onResize()})},destroy:function(){this.autoPlace&&E.removeChild(this.domElement)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name "'+t+'"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var n=new B(e);this.__folders[t]=n;var i=f(this,n.domElement);return C.addClass(i,"folder"),n},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=C.getOffset(t.__ul).top,n=0;h.each(t.__ul.childNodes,function(e){t.autoPlace&&e===t.__save_row||(n+=C.getHeight(e))}),window.innerHeight-e-20<n?(C.addClass(t.domElement,B.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-20+"px"):(C.removeClass(t.domElement,B.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&h.defer(function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"}),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},remember:function(){if(h.isUndefined(k)&&(k=new T,k.domElement.innerHTML='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>'),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;h.each(Array.prototype.slice.call(arguments),function(e){0==t.__rememberedObjects.length&&g(t),-1==t.__rememberedObjects.indexOf(e)&&t.__rememberedObjects.push(e)}),this.autoPlace&&y(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=b(this)),t.folders={},h.each(this.__folders,function(e,n){t.folders[n]=e.getSaveObject()}),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=b(this),w(this,!1)},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered[O]=b(this,!0)),this.load.remembered[t]=b(this),this.preset=t,_(this,t,!0)},revert:function(t){h.each(this.__controllers,function(e){this.getRoot().load.remembered?p(t||this.getRoot(),e):e.setValue(e.initialValue)},this),h.each(this.__folders,function(t){t.revert(t)}),t||w(this.getRoot(),!1)},listen:function(t){var e=0==this.__listening.length;this.__listening.push(t),e&&S(this.__listening)}}),B}(n.utils.css,0,0,n.controllers.factory=function(t,e,n,i,r,o,a){return function(s,l){var A=s[l];return a.isArray(arguments[2])||a.isObject(arguments[2])?new t(s,l,arguments[2]):a.isNumber(A)?a.isNumber(arguments[2])&&a.isNumber(arguments[3])?new n(s,l,arguments[2],arguments[3]):new e(s,l,{min:arguments[2],max:arguments[3]}):a.isString(A)?new i(s,l):a.isFunction(A)?new r(s,l,""):a.isBoolean(A)?new o(s,l):void 0}}(n.controllers.OptionController,n.controllers.NumberControllerBox,n.controllers.NumberControllerSlider,n.controllers.StringController=function(t,e,n){var i=function(t,n){function r(){a.setValue(a.__input.value)}function o(){a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}i.superclass.call(this,t,n);var a=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),e.bind(this.__input,"keyup",r),e.bind(this.__input,"change",r),e.bind(this.__input,"blur",o),e.bind(this.__input,"keydown",function(t){13===t.keyCode&&this.blur()}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return i.superclass=t,n.extend(i.prototype,t.prototype,{updateDisplay:function(){return e.isActive(this.__input)||(this.__input.value=this.getValue()),i.superclass.prototype.updateDisplay.call(this)}}),i}(n.controllers.Controller,n.dom.dom,n.utils.common),n.controllers.FunctionController,n.controllers.BooleanController,n.utils.common),n.controllers.Controller,n.controllers.BooleanController,n.controllers.FunctionController,n.controllers.NumberControllerBox,n.controllers.NumberControllerSlider,n.controllers.OptionController,n.controllers.ColorController=function(t,e,n,i,r){function o(t,e,n,i){t.style.background="",r.each(l,function(r){t.style.cssText+="background: "+r+"linear-gradient("+e+", "+n+" 0%, "+i+" 100%); "})}function a(t){t.style.background="",t.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",t.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var s=function(t,l){function A(t){C(t),e.bind(window,"mousemove",C),e.bind(window,"mouseup",c)}function c(){e.unbind(window,"mousemove",C),e.unbind(window,"mouseup",c)}function u(){var t=i(this.value);!1!==t?(G.__color.__state=t,G.setValue(G.__color.toOriginal())):this.value=G.__color.toString()}function T(){e.unbind(window,"mousemove",h),e.unbind(window,"mouseup",T)}function C(t){t.preventDefault();var n=e.getWidth(G.__saturation_field),i=e.getOffset(G.__saturation_field),r=(t.clientX-i.left+document.body.scrollLeft)/n,o=1-(t.clientY-i.top+document.body.scrollTop)/n;return o>1?o=1:o<0&&(o=0),r>1?r=1:r<0&&(r=0),G.__color.v=o,G.__color.s=r,G.setValue(G.__color.toOriginal()),!1}function h(t){t.preventDefault();var n=e.getHeight(G.__hue_field),i=e.getOffset(G.__hue_field),r=1-(t.clientY-i.top+document.body.scrollTop)/n;return r>1?r=1:r<0&&(r=0),G.__color.h=360*r,G.setValue(G.__color.toOriginal()),!1}s.superclass.call(this,t,l),this.__color=new n(this.getValue()),this.__temp=new n(0);var G=this;this.domElement=document.createElement("div"),e.makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",e.bind(this.__input,"keydown",function(t){13===t.keyCode&&u.call(this)}),e.bind(this.__input,"blur",u),e.bind(this.__selector,"mousedown",function(t){e.addClass(this,"drag").bind(window,"mouseup",function(t){e.removeClass(G.__selector,"drag")})});var f=document.createElement("div");r.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),r.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),r.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),r.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),r.extend(f.style,{width:"100%",height:"100%",background:"none"}),o(f,"top","rgba(0,0,0,0)","#000"),r.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),a(this.__hue_field),r.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),e.bind(this.__saturation_field,"mousedown",A),e.bind(this.__field_knob,"mousedown",A),e.bind(this.__hue_field,"mousedown",function(t){h(t),e.bind(window,"mousemove",h),e.bind(window,"mouseup",T)}),this.__saturation_field.appendChild(f),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay()};s.superclass=t,r.extend(s.prototype,t.prototype,{updateDisplay:function(){var t=i(this.getValue());if(!1!==t){var e=!1;r.each(n.COMPONENTS,function(n){if(!r.isUndefined(t[n])&&!r.isUndefined(this.__color.__state[n])&&t[n]!==this.__color.__state[n])return e=!0,{}},this),e&&r.extend(this.__color.__state,t)}r.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var a=this.__color.v<.5||this.__color.s>.5?255:0,s=255-a;r.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+a+","+a+","+a+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,o(this.__saturation_field,"left","#fff",this.__temp.toString()),r.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+a+","+a+","+a+")",textShadow:this.__input_textShadow+"rgba("+s+","+s+","+s+",.7)"})}});var l=["-moz-","-o-","-webkit-","-ms-",""];return s}(n.controllers.Controller,n.dom.dom,n.color.Color=function(t,e,n,i){function r(t,e,n){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space?this.__state[e]:(a(this,e,n),this.__state[e])},set:function(t){"RGB"!==this.__state.space&&(a(this,e,n),this.__state.space="RGB"),this.__state[e]=t}})}function o(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space?this.__state[e]:(s(this),this.__state[e])},set:function(t){"HSV"!==this.__state.space&&(s(this),this.__state.space="HSV"),this.__state[e]=t}})}function a(t,n,r){if("HEX"===t.__state.space)t.__state[n]=e.component_from_hex(t.__state.hex,r);else{if("HSV"!==t.__state.space)throw"Corrupted color state";i.extend(t.__state,e.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}}function s(t){var n=e.rgb_to_hsv(t.r,t.g,t.b);i.extend(t.__state,{s:n.s,v:n.v}),i.isNaN(n.h)?i.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=n.h}var l=function(){if(this.__state=t.apply(this,arguments),!1===this.__state)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return l.COMPONENTS=["r","g","b","h","s","v","hex","a"],i.extend(l.prototype,{toString:function(){return n(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),r(l.prototype,"r",2),r(l.prototype,"g",1),r(l.prototype,"b",0),o(l.prototype,"h"),o(l.prototype,"s"),o(l.prototype,"v"),Object.defineProperty(l.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(l.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=e.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}}),l}(n.color.interpret,n.color.math=function(){var t;return{hsv_to_rgb:function(t,e,n){var i=Math.floor(t/60)%6,r=t/60-Math.floor(t/60),o=n*(1-e),a=n*(1-r*e),s=n*(1-(1-r)*e),l=[[n,s,o],[a,n,o],[o,n,s],[o,a,n],[s,o,n],[n,o,a]][i];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(t,e,n){var i,r,o=Math.min(t,e,n),a=Math.max(t,e,n),s=a-o;return 0==a?{h:NaN,s:0,v:0}:(r=s/a,i=t==a?(e-n)/s:e==a?2+(n-t)/s:4+(t-e)/s,i/=6,i<0&&(i+=1),{h:360*i,s:r,v:a/255})},rgb_to_hex:function(t,e,n){var i=this.hex_with_component(0,2,t);return i=this.hex_with_component(i,1,e),i=this.hex_with_component(i,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(e,n,i){return i<<(t=8*n)|e&~(255<<t)}}}(),n.color.toString,n.utils.common),n.color.interpret,n.utils.common),n.utils.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,1e3/60)}}(),n.dom.CenteredDiv=function(t,e){var n=function(){this.backgroundElement=document.createElement("div"),e.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"}),t.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),e.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var n=this;t.bind(this.backgroundElement,"click",function(){n.hide()})};return n.prototype.show=function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),e.defer(function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"})},n.prototype.hide=function(){var e=this,n=function(){e.domElement.style.display="none",e.backgroundElement.style.display="none",t.unbind(e.domElement,"webkitTransitionEnd",n),t.unbind(e.domElement,"transitionend",n),t.unbind(e.domElement,"oTransitionEnd",n)};t.bind(this.domElement,"webkitTransitionEnd",n),t.bind(this.domElement,"transitionend",n),t.bind(this.domElement,"oTransitionEnd",n),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},n.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-t.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-t.getHeight(this.domElement)/2+"px"},n}(n.dom.dom,n.utils.common),n.dom.dom,n.utils.common)},function(t,e,n){t.exports=n.p+"a1d53c70750fd37423a6f93418838d2f.png"},function(t,e){t.exports='<div id="hud-inner">\n\t<button id="exit">Exit</button>\n\t<button id="show-nucleus" class=\'nucleus-only\'>Nucleus</button>\n\t\x3c!-- <button id="fast-exit">Fast Exit</button> --\x3e\n\t\x3c!-- <button id="game-win">Win</button> --\x3e\n\n</div>\n<div class="nucleus-explanation nucleus-only">\n\t<p>Interaction with the proteins isn\'t possible, you\'ll have to find another way to change the drake!</p>\n</div>\n<div class="exit-confirmation hidden">\n\t<div class="exit-inner">\n\t\t<p>Are you sure you want to leave?</p>\n\t\t<button class="leave">Leave</button>\n\t\t<button class="stay">Stay</button>\n\t</div>\n</div>\n\n<div id="highlight" class="highlight hidden"></div>\n\n<div id="input-blocker" class="disabled"></div>\n\n<div id="tutorial" class="tutorial-wrapper hidden"></div>\n\n<div id="stats" class="hidden"></div>\n'},function(t,e){t.exports='<div class="tutorial-inner">\n\t<button class="close"></button>\n\t<div class="pages">\n\t<% _.each(pages, function(page, i) { %>\n\t\t<div class="page">\n\t\t\t<div class="text"><%= page.text %></div>\n\t\t\t<div class="symbols">\n\t\t\t<% _.each(page.symbols, function(symbol) { %>\n\t\t\t\t<div class="symbol">\n\t\t\t\t\t<div class="img-holder">\n\t\t\t\t\t\t<img src=<%= "assets/images/tutorial/" + symbol.image %> >\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="label"><%= symbol.label %></div>\n\t\t\t\t</div>\n\t\t\t<% }) %>\n\t\t\t</div>\n\t\t\t<% if(i > 0) { %> \n\t\t\t\t<button class="prev"></button>\n\t\t\t<% } %>\n\t\t\t<% if(i < pages.length-1) { %> \n\t\t\t\t<button class="next">Next</button>\n\t\t\t<% } else { %> \n\t\t\t\t<button class="finish">Got it!</button>\n\t\t\t<% } %>\n\t\t</div>\n\t\t\n\t<% }) %>\n\t</div>\n</div>\n'},function(t,e,n){t.exports='\n<div class="alpha">\n\t<h2><% if(!game.isBossLevel){ %>Select <% } %>Alleles</h2>\n\n\t<% if(!game.isBossLevel){ %>\n\t\x3c!-- dropdowns --\x3e\n\t<div class="allele-selectors">\n\n\t\t<% _(chromosome.get("genes")).each(function(gene){ %>\n\t\t\t<div class="allele-selector <% if(gene.isRelevant){%>relevant<%}%>" style="top: <%= gene.location %>%"  >\n\t    \t\t<h3><%= gene.name %></h3>\n\t    \t\t<select data-chromosome="Chromosome1A" data-gene="<%= gene.id %>" data-location="<%= gene.location %>">\n\t    \t\t<% _(gene.alleles).each(function(allele, i){ %>\n\t    \t\t\t<option \n\t    \t\t\t\tvalue="<%= i %>"\n\t\t\t\t\t\t<% if(gene.selected_allele == i) { %> selected <% } %>\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<%= allele.name %>\n\t    \t\t\t</option>\n\t    \t\t<% }); %>\x3c!-- each allele --\x3e\n\t    \t\t</select>\n\n\t    \t\t\x3c!-- <img src="<%= gene.alleles[gene.selected_allele].img %>" /> --\x3e\n\n    \t\t</div>\n    \t<% }); %>\x3c!-- each gene --\x3e\n\t</div>\n\t<% } else { %>\n\t\t<div class="allele-selectors">\n\t\t<% _(chromosome.get("genes")).each(function(gene){ %>\n\t\t\t<div class="allele-label <% if(gene.isRelevant){%>relevant<%}%>" style="top: <%= gene.location %>%" \n\t\t\t\tdata-chromosome="Chromosome1A" data-gene="<%= gene.id %>" data-location="<%= gene.location %>">\n\t    \t\t<% _(gene.alleles).each(function(allele, i){ %>\n\t\t\t\t\t<%= allele.name %> \n\t\t\t\t\t<% if(i < gene.alleles.length-1) { %>\n\t\t\t\t\t\t<%= \' /\' %>\n\t\t\t\t\t<% } %>\n\t    \t\t<% }); %>\x3c!-- each allele --\x3e\n    \t\t</div>\n\t\t<% }); %>\x3c!-- each gene --\x3e\n\t\t</div>\n\t<% } %>\n\t\x3c!-- scrubber --\x3e\n\t<div class="chromosome-scrubber">\n\n\t\t\x3c!-- even though this looks like an abs path, it\'s not due to the webpack html-loader tom-foolery --\x3e\n\t\t<img src="'+n(387)+'" class="chromosome-image"></img>\n\n\t\t<% _(chromosome.get("genes")).each(function(gene){ %>\n\t\t\t<div class="gene-hotspot <% if(gene.isRelevant){%> relevant <%}%>" style="top: <%= gene.location %>%"></div>\n\t\t<% }); %>\x3c!-- each gene --\x3e\n\t\t\n\t\t\n\n\t\t<div class="viewport-indicator"></div>\n\t</div>\n</div>\n\n<div class="beta">\n\t<h2>DNA</h2>\n\t<div class="beta-inner">\n\t\t<div class="full-code">\n    \t\t<% _(chromosome.get("fullCode")).each(function(codeChunk){ %> \n    \t\t\t<span class="code-chunk"><%= codeChunk %> </span>\n    \t\t<% }); %>\n    \t\t<% _(chromosome.get("genes")).each(function(gene){ %>\n    \t\t\t<span class="code-chunk allele-code <% if(gene.isRelevant){%> relevant <%}%>" style="top: <%= gene.location %>%"><%= gene.alleles[gene.selected_allele].code %> </span>\n    \t\t<% }); %>\n\t\t</div>\n\t\t\n\t\t<% if(!game.isBossLevel){ %>\n\t\t\t<div class="allele-images">\n\t\t\t\t<% _(chromosome.get("genes")).each(function(gene){ %>\n\t\t\t\t\t<div class="allele-lockup <% if(gene.isRelevant){%> relevant <%}%>" style="top: <%= gene.location %>%" >\n\t\t\t\t\t\t<div class="allele-image-wrapper">\n\t\t\t\t\t\t\t<img src="<%= gene.alleles[gene.selected_allele].img %>" >\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<label><%= gene.name %>\n\t\t\t\t\t</div>\n\n\t\t\t\t<% }); %>\x3c!-- each gene--\x3e\n\t\t\t</div>\n\t\t<% } else { %>\n\t\t\t<div class="allele-selectors">\n\n\t\t\t\t<% _(chromosome.get("genes")).each(function(gene){ %>\n\t\t\t\t\t<div class="allele-selector <% if(gene.isRelevant){%>relevant<%}%>" style="top: <%= gene.location %>%"  >\n\t\t\t\t\t\t<h3><%= gene.name %></h3>\n\t\t\t\t\t\t<select data-chromosome="Chromosome1A" data-gene="<%= gene.id %>" data-location="<%= gene.location %>" \n\t\t\t\t\t\t\tdata-label="<%= gene.name %>">\n\t\t\t\t\t\t<% _(gene.alleles).each(function(allele, i){ %>\n\t\t\t\t\t\t\t<option \n\t\t\t\t\t\t\t\tvalue="<%= i %>" \n\t\t\t\t\t\t\t\t<% if(gene.selected_allele == i) { %> selected <% } %>\n\t\t\t\t\t\t\t\tdata-img="<%= gene.alleles[i].img %>"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<% }); %>\x3c!-- each allele --\x3e\n\t\t\t\t\t\t</select>\n\t\t\n\t\t\t\t\t</div>\n\t\t\t\t<% }); %>\x3c!-- each gene --\x3e\n\t\t\t</div>\n\t\t<% } %>\n\t</div>\n</div>\n'},function(t,e,n){t.exports='<div id="nucleus-results-inner">\n\n\t<h2>RESULTS</h2>\n\n\t<div class="code-animations left">\n\t\t\t<% _.each(cellModel.get("chromosomePairs"), function(chromosomePair){ %>\n\t\t\t\t<% _.each(chromosomePair.chromosomeA.genes, function(gene, index){ %>\n\t\t\t\t\t<% if (gene.isRelevant) { %>\n\t\t\t\t\t<div class="code-animation">\n\t\t\t\t\t\t<p class="code">\n\t\t\t\t\t\t\t<span class="code-inner">\n\t\t\t\t\t\t\t<%\tvar code = gene.alleles[gene.selected_allele].code.replace(/T/g , "U"); %>\n\t\t\t\t\t\t\t<%= code %><%= code %>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<img class="blob" src="'+n(103)+'" />\n\t\t\t\t\t\t<img class="arrow" src="'+n(102)+'" />\n\t\t\t\t\t</div>\n\n\n\t\t\t\t\t<% var geneB = chromosomePair.chromosomeB.genes[index]; %>\n\t\t\t\t\t<div class="code-animation">\n\t\t\t\t\t\t<p class="code">\n\t\t\t\t\t\t\t<span class="code-inner">\n\t\t\t\t\t\t\t\t<%= code %><%= code %>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<img class="blob" src="'+n(103)+'" />\n\t\t\t\t\t\t<img class="arrow" src="'+n(102)+'" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<% } %>\n\t\t\t\t<% }); %>\n\n\n\n\n\n\n\t\t\t<% }); %>\n\t</div>\n\n\n\n\n\t<div class="chromosome-results-wrapper">\n\t\t\x3c!-- A genes --\x3e\n\t\t<div class="chromosome-results chromosome-a-results">\n\t\t\t<% _.each(cellModel.get("chromosomePairs"), function(chromosomePair){ %>\n\n\n\n\n\t\t\t\t<% _.each(chromosomePair.chromosomeA.genes, function(gene, index){ %>\n\n\n\n\t\t\t\t\t<% if (gene.isRelevant) { %>\n\t\t\t\t\t<div class="resulting-protein <% if (gene.has_changed){ %> changed <% } %>">\n\t\t\t\t\t\t<div class="img-wrap">\n\t\t\t\t\t\t\t<% for (var i = 0;i<20;i++) { %>\n\t\t\t\t\t\t\t\t<img src="<%= gene.alleles[gene.selected_allele].img %>" style="top: <%= (Math.random() * 50)+25 %>%; animation-delay: <%= i*200 + (Math.random()*100) %>ms;" />\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="protein-text">\n\t\t\t\t\t\t\t<h3><%= gene.name %></h3>\n\t\t\t\t\t\t\t<p><%= gene.alleles[gene.selected_allele].name %></p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<% var geneB = chromosomePair.chromosomeB.genes[index]; %>\n\t\t\t\t\t<div class="resulting-protein <% if (geneB.has_changed){ %> changed <% } %>">\n\t\t\t\t\t\t<div class="img-wrap">\n\t\t\t\t\t\t\t<% for (var i = 0;i<20;i++) { %>\n\t\t\t\t\t\t\t\t<img src="<%= geneB.alleles[geneB.selected_allele].img %>" style="top: <%= (Math.random() * 50)+25 %>%; animation-delay: <%= i*200 + (Math.random()*100) %>ms;" />\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="protein-text">\n\t\t\t\t\t\t\t<h3><%= geneB.name %></h3>\n\t\t\t\t\t\t\t<p><%= geneB.alleles[geneB.selected_allele].name %></p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\n\n\t\t\t\t\t<% } %>\n\n\n\n\n\n\t\t\t\t<% }); %>\n\n\x3c!-- \t\t\t\t<% _.each(chromosomePair.chromosomeB.genes, function(gene, index){ %>\n\t\t\t\t\t<% if (gene.isRelevant) { %>\n\t\t\t\t\t<div class="resulting-protein <% if (gene.has_changed){ %> changed <% } %>">\n\t\t\t\t\t\t<div class="img-wrap">\n\t\t\t\t\t\t\t<img src="<%= gene.alleles[gene.selected_allele].img %>" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="protein-text">\n\t\t\t\t\t\t\t<h3><%= gene.name %></h3>\n\t\t\t\t\t\t\t<p><%= gene.alleles[gene.selected_allele].name %></p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<% } %>\n\n\t\t\t\t<% }); %> --\x3e\n\n\n\t\t\t<% }); %>\n\t\t</div>\n\n\n\t</div>\n\n\n\n\x3c!-- \t<div class="code-animations right">\n\t\t\t<% _.each(cellModel.get("chromosomePairs"), function(chromosomePair){ %>\n\t\t\t\t<% _.each(chromosomePair.chromosomeA.genes, function(gene, index){ %>\n\t\t\t\t\t<div class="code-animation">\n\t\t\t\t\t\t<p class="code"><%= gene.alleles[gene.selected_allele].code %></p>\n\t\t\t\t\t\t<img class="blob" src="'+n(103)+'" />\n\t\t\t\t\t\t<img class="arrow" src="'+n(102)+'" />\n\t\t\t\t\t</div>\n\t\t\t\t<% }); %>\n\t\t\t<% }); %>\n\t</div>\n\n --\x3e\n\n\n\n\n\t<button class="back">BACK</button>\n\t<button class="close">DELIVER PROTEINS</button>\n</div>\n\n'},function(t,e){t.exports='<div id="nucleus-inner">\n    \x3c!-- <button class="close">X</button> --\x3e\n\n    <div class="chromosome-viewer">\n    \x3c!-- Chromosome 1A --\x3e\n\t\t<div class="chromosome chromosome-a">\n\t\t\t\x3c!-- templates/chromosomeTemplate.html --\x3e\n\t    </div>\n\n\n\n\t    \x3c!-- Chromosome 1B --\x3e\n\t\t<div class="chromosome chromosome-b">\n\t\t\t\x3c!-- templates/chromosomeTemplate.html --\x3e\n\t    </div>\n\n\t    <div class="between-column">\n\t    \t<h2><% if(game.isBossLevel){ %>Select <% } %>Proteins</h2>\n\t    \t<div class="divider"></div>\n\t    </div>\n\n\t    <div class="meta-bar">\n\n\t\t    <div class="chromosome-selectors">\n\n\t\t    \t<h2>Chromosome <strong><%= cellModel.get("current_pair_index") + 1 %></strong></h2>\n\t\t\t\t<% _(cellModel.get("chromosomePairs")).each(function(gene, $index){ %>\n\t\t\t\t\t<button class="c<%= $index %> <% if(cellModel.get("current_pair_index") == $index){ %> active <% } %>" value="<%= $index %>">\n\t\t\t\t\t\t<div class="left-chrom"></div>\n\t\t\t\t\t\t<div class="right-chrom"></div>\n\t\t\t\t\t</button>\n\t\t\t\t<% }); %>\n\t\t    </div>\n    \t\t\n    \t\t\n    \t\t<div class="target">\n\t    \t\t<h2>Target Color</h2>\n\t    \t\t<img src=<%= "assets/images/drakes/drake_" + cellModel.get("target_color") + ".png" %> />\n\t    \t\t<label><%= cellModel.get("target_color") %></label>\n    \t\t</div>\n\n    \t\t<button class="compile">BUILD</button>\n\t    </div>\n\n\n    </div>\n\n\n\t<div id="nucleus-results">\n\t\t\x3c!-- templates/nucleusResultsTemplate.html --\x3e\n\t</div>\n\n</div>\n\n'},function(t,e,n){function i(){for(var t="abcdefghijklmnopqrstuvwxyz0123456789",e=t.length,n=[],i=0;i<10;i++)n.push(t[Math.floor(Math.random()*e)]);return n.join("")}var r=n(155),o=n(154);t.exports=function(t,e,n,a,s){function l(t,n){var r=i();c[r]={callback:n,timeout:window.setTimeout(function(){n&&n(void 0,new Error("IframePhone timed out waiting for reply"))},2e3)},s.post(e,{messageType:"call",uuid:r,value:t})}function A(){s.disconnect()}var c=Object.create({});t&&"object"==typeof t&&(e=t.namespace,n=t.targetWindow,a=t.targetOrigin,s=t.phone,t=t.handler),s||(n===window.parent?(s=o(),s.initialize()):s=new r(n,a)),s.addListener(e,function(t){var n;"call"===t.messageType&&"function"==typeof this.handler?this.handler.call(void 0,t.value,function(n){s.post(e,{messageType:"returnValue",uuid:t.uuid,value:n})}):"returnValue"===t.messageType&&(n=c[t.uuid])&&(window.clearTimeout(n.timeout),n.callback&&n.callback.call(void 0,t.value),c[t.uuid]=null)}.bind(this)),this.handler=t,this.call=l.bind(this),this.disconnect=A.bind(this)}},,,,,function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){n(157),t.exports=n(156)}],[399]);